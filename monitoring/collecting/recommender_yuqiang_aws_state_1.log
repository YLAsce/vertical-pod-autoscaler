I0412 15:14:15.531718       1 recommender.go:166] Recommender Run
I0412 15:14:15.531751       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:14:15.531760       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:14:15.531805       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:14:15.547501       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c6c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e72adcc2-35f8-4945-8179-5f4e7cfc73db e72adcc2-35f8-4945-8179-5f4e7cfc73db] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 15:14:15.548521       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:14:15.548684       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:13:58 +0000 UTC Window:{Duration:14.131s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1994197 scale:-9} d:{Dec:<nil>} s:1994197n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:14:15.548707       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1994197 scale:-9} d:{Dec:<nil>} s:1994197n Format:DecimalSI}, 2
I0412 15:14:15.548780       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:07 +0000 UTC Window:{Duration:12.476s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11674895 scale:-9} d:{Dec:<nil>} s:11674895n Format:DecimalSI} memory:{i:{value:167817216 scale:0} d:{Dec:<nil>} s:163884Ki Format:BinarySI}]}]}
I0412 15:14:15.548799       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11674895 scale:-9} d:{Dec:<nil>} s:11674895n Format:DecimalSI}, 12
I0412 15:14:15.548866       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:07 +0000 UTC Window:{Duration:19.331s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1702446 scale:-9} d:{Dec:<nil>} s:1702446n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:14:15.548897       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1702446 scale:-9} d:{Dec:<nil>} s:1702446n Format:DecimalSI}, 2
I0412 15:14:15.548971       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:05 +0000 UTC Window:{Duration:11.279s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:14:15.548986       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:14:15.548999       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:14:15.549069       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:00 +0000 UTC Window:{Duration:14.123s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1226014 scale:-9} d:{Dec:<nil>} s:1226014n Format:DecimalSI} memory:{i:{value:6709248 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:14:15.549089       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1226014 scale:-9} d:{Dec:<nil>} s:1226014n Format:DecimalSI}, 2
I0412 15:14:15.549150       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:13:59 +0000 UTC Window:{Duration:12.367s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:382954 scale:-9} d:{Dec:<nil>} s:382954n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:14:15.549165       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:382954 scale:-9} d:{Dec:<nil>} s:382954n Format:DecimalSI}, 1
I0412 15:14:15.549226       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:09 +0000 UTC Window:{Duration:13.833s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2962987 scale:-9} d:{Dec:<nil>} s:2962987n Format:DecimalSI} memory:{i:{value:18231296 scale:0} d:{Dec:<nil>} s:17804Ki Format:BinarySI}]}]}
I0412 15:14:15.549244       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2962987 scale:-9} d:{Dec:<nil>} s:2962987n Format:DecimalSI}, 3
I0412 15:14:15.549301       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:13:54 +0000 UTC Window:{Duration:31.539s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:243571 scale:-9} d:{Dec:<nil>} s:243571n Format:DecimalSI} memory:{i:{value:9674752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:14:15.549323       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:243571 scale:-9} d:{Dec:<nil>} s:243571n Format:DecimalSI}, 1
I0412 15:14:15.549383       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:09 +0000 UTC Window:{Duration:26.958s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:242636 scale:-9} d:{Dec:<nil>} s:242636n Format:DecimalSI} memory:{i:{value:11808768 scale:0} d:{Dec:<nil>} s:11532Ki Format:BinarySI}]}]}
I0412 15:14:15.549406       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:242636 scale:-9} d:{Dec:<nil>} s:242636n Format:DecimalSI}, 1
I0412 15:14:15.549467       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:06 +0000 UTC Window:{Duration:11.634s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:54237 scale:-9} d:{Dec:<nil>} s:54237n Format:DecimalSI} memory:{i:{value:11022336 scale:0} d:{Dec:<nil>} s:10764Ki Format:BinarySI}]}]}
I0412 15:14:15.549485       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:54237 scale:-9} d:{Dec:<nil>} s:54237n Format:DecimalSI}, 1
I0412 15:14:15.549545       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:03 +0000 UTC Window:{Duration:18.75s} Containers:[{Name:updater Usage:map[cpu:{i:{value:120960 scale:-9} d:{Dec:<nil>} s:120960n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:14:15.549614       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:120960 scale:-9} d:{Dec:<nil>} s:120960n Format:DecimalSI}, 1
I0412 15:14:15.549695       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:07 +0000 UTC Window:{Duration:17.944s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1197113 scale:-9} d:{Dec:<nil>} s:1197113n Format:DecimalSI} memory:{i:{value:53501952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:14:15.549707       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1197113 scale:-9} d:{Dec:<nil>} s:1197113n Format:DecimalSI}, 2
I0412 15:14:15.549794       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:14:15.549824       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:14:15.549883       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:14:15.549913       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:14:15.549976       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:14:15.549998       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:14:15.550047       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:14:15.550106       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:14:15.550134       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:14:15.550146       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:14:15.550161       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:14:15.550208       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:14:15.567506       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747320} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007473b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fc443532-bc21-42fe-b864-17157a87d675] Cache-Control:[no-cache, private] Content-Length:[1347] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:1347 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe6c0 TLS:0xc0005220b0}
I0412 15:14:15.567774       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:14:15.567794       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:15:00.420042       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 15:15:15.532081       1 recommender.go:166] Recommender Run
I0412 15:15:15.532116       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:15:15.532126       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:15:15.532223       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:15:15.548820       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058f860 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[275228b3-f049-46a6-a0db-280200955705 275228b3-f049-46a6-a0db-280200955705] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4120 TLS:0xc0005220b0}
I0412 15:15:15.549397       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:15:15.549469       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:14:58 +0000 UTC Window:{Duration:14.518s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1798939 scale:-9} d:{Dec:<nil>} s:1798939n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:15:15.549484       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1798939 scale:-9} d:{Dec:<nil>} s:1798939n Format:DecimalSI}, 2
I0412 15:15:15.549524       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:06 +0000 UTC Window:{Duration:17.111s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13588334 scale:-9} d:{Dec:<nil>} s:13588334n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 15:15:15.549531       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13588334 scale:-9} d:{Dec:<nil>} s:13588334n Format:DecimalSI}, 14
I0412 15:15:15.549565       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:05 +0000 UTC Window:{Duration:17.048s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1564641 scale:-9} d:{Dec:<nil>} s:1564641n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:15:15.549577       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1564641 scale:-9} d:{Dec:<nil>} s:1564641n Format:DecimalSI}, 2
I0412 15:15:15.549619       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:08 +0000 UTC Window:{Duration:20.709s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:15:15.549634       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:15:15.549642       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:15:15.549680       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:11 +0000 UTC Window:{Duration:26.539s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1137797 scale:-9} d:{Dec:<nil>} s:1137797n Format:DecimalSI} memory:{i:{value:6799360 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:15:15.549691       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1137797 scale:-9} d:{Dec:<nil>} s:1137797n Format:DecimalSI}, 2
I0412 15:15:15.549726       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:11 +0000 UTC Window:{Duration:17.255s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:474992 scale:-9} d:{Dec:<nil>} s:474992n Format:DecimalSI} memory:{i:{value:12685312 scale:0} d:{Dec:<nil>} s:12388Ki Format:BinarySI}]}]}
I0412 15:15:15.549736       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:474992 scale:-9} d:{Dec:<nil>} s:474992n Format:DecimalSI}, 1
I0412 15:15:15.549767       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:07 +0000 UTC Window:{Duration:17.027s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2396429 scale:-9} d:{Dec:<nil>} s:2396429n Format:DecimalSI} memory:{i:{value:18259968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:15:15.549780       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2396429 scale:-9} d:{Dec:<nil>} s:2396429n Format:DecimalSI}, 3
I0412 15:15:15.549812       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:05 +0000 UTC Window:{Duration:17.851s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:231583 scale:-9} d:{Dec:<nil>} s:231583n Format:DecimalSI} memory:{i:{value:9674752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:15:15.549824       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:231583 scale:-9} d:{Dec:<nil>} s:231583n Format:DecimalSI}, 1
I0412 15:15:15.549856       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:12 +0000 UTC Window:{Duration:18.332s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:177776 scale:-9} d:{Dec:<nil>} s:177776n Format:DecimalSI} memory:{i:{value:11808768 scale:0} d:{Dec:<nil>} s:11532Ki Format:BinarySI}]}]}
I0412 15:15:15.549866       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:177776 scale:-9} d:{Dec:<nil>} s:177776n Format:DecimalSI}, 1
I0412 15:15:15.549898       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:07 +0000 UTC Window:{Duration:16.045s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:155313 scale:-9} d:{Dec:<nil>} s:155313n Format:DecimalSI} memory:{i:{value:11022336 scale:0} d:{Dec:<nil>} s:10764Ki Format:BinarySI}]}]}
I0412 15:15:15.549912       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:155313 scale:-9} d:{Dec:<nil>} s:155313n Format:DecimalSI}, 1
I0412 15:15:15.549943       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:06 +0000 UTC Window:{Duration:18.939s} Containers:[{Name:updater Usage:map[cpu:{i:{value:30835 scale:-9} d:{Dec:<nil>} s:30835n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:15:15.549955       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30835 scale:-9} d:{Dec:<nil>} s:30835n Format:DecimalSI}, 1
I0412 15:15:15.549987       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:09 +0000 UTC Window:{Duration:16.595s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1770111 scale:-9} d:{Dec:<nil>} s:1770111n Format:DecimalSI} memory:{i:{value:49786880 scale:0} d:{Dec:<nil>} s:48620Ki Format:BinarySI}]}]}
I0412 15:15:15.549999       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1770111 scale:-9} d:{Dec:<nil>} s:1770111n Format:DecimalSI}, 2
I0412 15:15:15.550066       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:15:15.550083       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:15:15.550121       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:15:15.550140       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:15:15.550176       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:15:15.550188       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:15:15.550222       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:15:15.550231       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:15:15.550249       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:15:15.550255       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:15:15.550264       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:15:15.550271       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:15:15.559234       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762f90} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763020 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ab06e167-695a-4154-87a1-d4b5242c3329] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b560 TLS:0xc0005220b0}
I0412 15:15:15.584206       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000763d10} GetBody:0x6d9b40 ContentLength:637 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763e90 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1e53d68e-efa7-45ab-be83-5133a6f94e70] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076bd40 TLS:0xc0005220b0}
I0412 15:15:15.584392       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:15:15.584413       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:15:16.743021       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 6 items received
I0412 15:16:15.532552       1 recommender.go:166] Recommender Run
I0412 15:16:15.532640       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:16:15.532649       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:16:15.532683       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:16:15.549135       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000218f90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1b941622-27f9-425e-a565-e9bf5d2f52f2 1b941622-27f9-425e-a565-e9bf5d2f52f2] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f46c0 TLS:0xc0005220b0}
I0412 15:16:15.549794       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:16:15.549905       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:00 +0000 UTC Window:{Duration:14.189s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1823172 scale:-9} d:{Dec:<nil>} s:1823172n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.549947       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1823172 scale:-9} d:{Dec:<nil>} s:1823172n Format:DecimalSI}, 2
I0412 15:16:15.550012       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:03 +0000 UTC Window:{Duration:13.65s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11540879 scale:-9} d:{Dec:<nil>} s:11540879n Format:DecimalSI} memory:{i:{value:167735296 scale:0} d:{Dec:<nil>} s:163804Ki Format:BinarySI}]}]}
I0412 15:16:15.550066       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11540879 scale:-9} d:{Dec:<nil>} s:11540879n Format:DecimalSI}, 12
I0412 15:16:15.550137       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:05 +0000 UTC Window:{Duration:11.743s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1787873 scale:-9} d:{Dec:<nil>} s:1787873n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:16:15.550152       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1787873 scale:-9} d:{Dec:<nil>} s:1787873n Format:DecimalSI}, 2
I0412 15:16:15.550178       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:59 +0000 UTC Window:{Duration:16.822s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:16:15.550183       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:16:15.550187       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:16:15.550205       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:05 +0000 UTC Window:{Duration:14.207s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:760470 scale:-9} d:{Dec:<nil>} s:760470n Format:DecimalSI} memory:{i:{value:6856704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.550209       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:760470 scale:-9} d:{Dec:<nil>} s:760470n Format:DecimalSI}, 1
I0412 15:16:15.550223       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:00 +0000 UTC Window:{Duration:16.933s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:574912 scale:-9} d:{Dec:<nil>} s:574912n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.550227       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:574912 scale:-9} d:{Dec:<nil>} s:574912n Format:DecimalSI}, 1
I0412 15:16:15.550242       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:55 +0000 UTC Window:{Duration:13.726s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2082689 scale:-9} d:{Dec:<nil>} s:2082689n Format:DecimalSI} memory:{i:{value:18767872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.550249       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2082689 scale:-9} d:{Dec:<nil>} s:2082689n Format:DecimalSI}, 3
I0412 15:16:15.550264       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:11 +0000 UTC Window:{Duration:15.913s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:401684 scale:-9} d:{Dec:<nil>} s:401684n Format:DecimalSI} memory:{i:{value:9674752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.550268       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:401684 scale:-9} d:{Dec:<nil>} s:401684n Format:DecimalSI}, 1
I0412 15:16:15.550282       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:08 +0000 UTC Window:{Duration:16.18s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:303275 scale:-9} d:{Dec:<nil>} s:303275n Format:DecimalSI} memory:{i:{value:11812864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.550289       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:303275 scale:-9} d:{Dec:<nil>} s:303275n Format:DecimalSI}, 1
I0412 15:16:15.550303       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:10 +0000 UTC Window:{Duration:13.598s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:90748 scale:-9} d:{Dec:<nil>} s:90748n Format:DecimalSI} memory:{i:{value:10903552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.550306       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:90748 scale:-9} d:{Dec:<nil>} s:90748n Format:DecimalSI}, 1
I0412 15:16:15.550319       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:04 +0000 UTC Window:{Duration:17.387s} Containers:[{Name:updater Usage:map[cpu:{i:{value:44228 scale:-9} d:{Dec:<nil>} s:44228n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:16:15.550326       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:44228 scale:-9} d:{Dec:<nil>} s:44228n Format:DecimalSI}, 1
I0412 15:16:15.550339       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:15:59 +0000 UTC Window:{Duration:18.616s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:898152 scale:-9} d:{Dec:<nil>} s:898152n Format:DecimalSI} memory:{i:{value:49770496 scale:0} d:{Dec:<nil>} s:48604Ki Format:BinarySI}]}]}
I0412 15:16:15.550345       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:898152 scale:-9} d:{Dec:<nil>} s:898152n Format:DecimalSI}, 1
I0412 15:16:15.550383       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:16:15.550396       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:16:15.550423       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:16:15.550434       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:16:15.550474       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:16:15.550490       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:16:15.550525       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:16:15.550531       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:16:15.550537       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:16:15.550542       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:16:15.550551       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:16:15.550557       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:16:15.573258       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d800} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d890 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[045dd5da-2352-49b0-b3cd-b42a67977718] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 15:16:15.573446       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:16:15.573473       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:16:16.309395       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 4 items received
I0412 15:17:15.533633       1 recommender.go:166] Recommender Run
I0412 15:17:15.533694       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:17:15.533705       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:17:15.533745       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:17:15.545345       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746600 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[05fe0883-cd62-44e8-8f13-50b04f8df6f7 05fe0883-cd62-44e8-8f13-50b04f8df6f7] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000512c60 TLS:0xc0005220b0}
I0412 15:17:15.546080       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:17:15.546167       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:00 +0000 UTC Window:{Duration:11.791s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1905436 scale:-9} d:{Dec:<nil>} s:1905436n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:17:15.546225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1905436 scale:-9} d:{Dec:<nil>} s:1905436n Format:DecimalSI}, 2
I0412 15:17:15.546296       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:07 +0000 UTC Window:{Duration:16.867s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13917827 scale:-9} d:{Dec:<nil>} s:13917827n Format:DecimalSI} memory:{i:{value:167739392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:17:15.546315       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13917827 scale:-9} d:{Dec:<nil>} s:13917827n Format:DecimalSI}, 14
I0412 15:17:15.546373       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:09 +0000 UTC Window:{Duration:16.029s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1712583 scale:-9} d:{Dec:<nil>} s:1712583n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:17:15.546391       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1712583 scale:-9} d:{Dec:<nil>} s:1712583n Format:DecimalSI}, 2
I0412 15:17:15.546450       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:50 +0000 UTC Window:{Duration:12.475s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:17:15.546469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:17:15.546480       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:17:15.546526       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:59 +0000 UTC Window:{Duration:14.74s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1128833 scale:-9} d:{Dec:<nil>} s:1128833n Format:DecimalSI} memory:{i:{value:6742016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:17:15.546541       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1128833 scale:-9} d:{Dec:<nil>} s:1128833n Format:DecimalSI}, 2
I0412 15:17:15.546588       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:02 +0000 UTC Window:{Duration:11.205s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:365729 scale:-9} d:{Dec:<nil>} s:365729n Format:DecimalSI} memory:{i:{value:12685312 scale:0} d:{Dec:<nil>} s:12388Ki Format:BinarySI}]}]}
I0412 15:17:15.546602       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:365729 scale:-9} d:{Dec:<nil>} s:365729n Format:DecimalSI}, 1
I0412 15:17:15.546646       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:05 +0000 UTC Window:{Duration:13.041s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2665363 scale:-9} d:{Dec:<nil>} s:2665363n Format:DecimalSI} memory:{i:{value:19111936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:17:15.546660       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2665363 scale:-9} d:{Dec:<nil>} s:2665363n Format:DecimalSI}, 3
I0412 15:17:15.546704       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:11 +0000 UTC Window:{Duration:28.556s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:344796 scale:-9} d:{Dec:<nil>} s:344796n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 15:17:15.546718       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:344796 scale:-9} d:{Dec:<nil>} s:344796n Format:DecimalSI}, 1
I0412 15:17:15.546764       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:16:58 +0000 UTC Window:{Duration:12.011s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:49371 scale:-9} d:{Dec:<nil>} s:49371n Format:DecimalSI} memory:{i:{value:11812864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:17:15.546773       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49371 scale:-9} d:{Dec:<nil>} s:49371n Format:DecimalSI}, 1
I0412 15:17:15.546817       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:02 +0000 UTC Window:{Duration:12.857s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:53745 scale:-9} d:{Dec:<nil>} s:53745n Format:DecimalSI} memory:{i:{value:10903552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:17:15.546831       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:53745 scale:-9} d:{Dec:<nil>} s:53745n Format:DecimalSI}, 1
I0412 15:17:15.546876       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:08 +0000 UTC Window:{Duration:17.021s} Containers:[{Name:updater Usage:map[cpu:{i:{value:133423 scale:-9} d:{Dec:<nil>} s:133423n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:17:15.546889       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:133423 scale:-9} d:{Dec:<nil>} s:133423n Format:DecimalSI}, 1
I0412 15:17:15.546935       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:11 +0000 UTC Window:{Duration:28.238s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1158651 scale:-9} d:{Dec:<nil>} s:1158651n Format:DecimalSI} memory:{i:{value:49795072 scale:0} d:{Dec:<nil>} s:48628Ki Format:BinarySI}]}]}
I0412 15:17:15.546944       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1158651 scale:-9} d:{Dec:<nil>} s:1158651n Format:DecimalSI}, 2
I0412 15:17:15.547025       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:17:15.547047       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:17:15.547095       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:17:15.547128       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:17:15.547216       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:17:15.547235       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:17:15.547279       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:17:15.547301       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:17:15.547345       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:17:15.547356       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:17:15.547372       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:17:15.547382       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:17:15.562089       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713530} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007135c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8da5f9ef-0c67-48ee-8317-fe82557146c3] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2480} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aa20 TLS:0xc0005220b0}
I0412 15:17:15.562331       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:17:15.562352       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 15:17:15.562362       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:17:15.562367       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:17:15.562395       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:17:15.606838       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762060 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ec5b4748-fc5f-45c2-8025-be5106623984] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 15:17:15.621147       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00045f680 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bf7a3d26-5bd5-4bd5-a00d-d696054e1ccb] Cache-Control:[no-cache, private] Content-Length:[1499] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473380} ContentLength:1499 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b78c0 TLS:0xc0005220b0}
I0412 15:17:15.645428       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d7d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[16671d07-841b-429b-bbc8-e7564e966b4c] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473980} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd560 TLS:0xc0005220b0}
I0412 15:17:15.657293       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007940c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[db99a4f7-ccd9-4a80-9564-6c365b6965be] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0a20 TLS:0xc0005220b0}
I0412 15:17:15.668585       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794690 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[56886c71-7efe-4447-a15e-5de0d85735b3] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473c80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000162c60 TLS:0xc0005220b0}
I0412 15:17:15.678385       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794c60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[22a75dc2-ece5-4394-9e9f-c92f3840aa4e] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473e00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364a20 TLS:0xc0005220b0}
I0412 15:17:15.678466       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:17:21.015760       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 7 items received
I0412 15:18:15.533858       1 recommender.go:166] Recommender Run
I0412 15:18:15.533936       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:18:15.533947       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:18:15.533985       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:18:15.548253       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728e10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ba26e708-1b06-4ca4-9a6b-befade1b8295 ba26e708-1b06-4ca4-9a6b-befade1b8295] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b320 TLS:0xc0005220b0}
I0412 15:18:15.548561       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:18:15.548630       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:07 +0000 UTC Window:{Duration:13.717s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2363053 scale:-9} d:{Dec:<nil>} s:2363053n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548637       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2363053 scale:-9} d:{Dec:<nil>} s:2363053n Format:DecimalSI}, 3
I0412 15:18:15.548660       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:07 +0000 UTC Window:{Duration:15.068s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11677860 scale:-9} d:{Dec:<nil>} s:11677860n Format:DecimalSI} memory:{i:{value:167751680 scale:0} d:{Dec:<nil>} s:163820Ki Format:BinarySI}]}]}
I0412 15:18:15.548663       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11677860 scale:-9} d:{Dec:<nil>} s:11677860n Format:DecimalSI}, 12
I0412 15:18:15.548680       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:54 +0000 UTC Window:{Duration:14.868s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1692224 scale:-9} d:{Dec:<nil>} s:1692224n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:18:15.548697       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1692224 scale:-9} d:{Dec:<nil>} s:1692224n Format:DecimalSI}, 2
I0412 15:18:15.548716       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:11 +0000 UTC Window:{Duration:20.224s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:18:15.548720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:18:15.548724       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:18:15.548738       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:58 +0000 UTC Window:{Duration:17.827s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:848600 scale:-9} d:{Dec:<nil>} s:848600n Format:DecimalSI} memory:{i:{value:6742016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548741       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:848600 scale:-9} d:{Dec:<nil>} s:848600n Format:DecimalSI}, 1
I0412 15:18:15.548757       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:59 +0000 UTC Window:{Duration:11.994s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1013840 scale:-9} d:{Dec:<nil>} s:1013840n Format:DecimalSI} memory:{i:{value:12681216 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548760       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1013840 scale:-9} d:{Dec:<nil>} s:1013840n Format:DecimalSI}, 2
I0412 15:18:15.548778       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:09 +0000 UTC Window:{Duration:26.974s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3245495 scale:-9} d:{Dec:<nil>} s:3245495n Format:DecimalSI} memory:{i:{value:19128320 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548782       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3245495 scale:-9} d:{Dec:<nil>} s:3245495n Format:DecimalSI}, 4
I0412 15:18:15.548798       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:17:59 +0000 UTC Window:{Duration:11.483s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:493860 scale:-9} d:{Dec:<nil>} s:493860n Format:DecimalSI} memory:{i:{value:9674752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548801       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:493860 scale:-9} d:{Dec:<nil>} s:493860n Format:DecimalSI}, 1
I0412 15:18:15.548817       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:09 +0000 UTC Window:{Duration:12.963s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:452364 scale:-9} d:{Dec:<nil>} s:452364n Format:DecimalSI} memory:{i:{value:11857920 scale:0} d:{Dec:<nil>} s:11580Ki Format:BinarySI}]}]}
I0412 15:18:15.548832       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:452364 scale:-9} d:{Dec:<nil>} s:452364n Format:DecimalSI}, 1
I0412 15:18:15.548846       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:09 +0000 UTC Window:{Duration:29.459s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:464034 scale:-9} d:{Dec:<nil>} s:464034n Format:DecimalSI} memory:{i:{value:10903552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548851       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:464034 scale:-9} d:{Dec:<nil>} s:464034n Format:DecimalSI}, 1
I0412 15:18:15.548865       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:09 +0000 UTC Window:{Duration:13.691s} Containers:[{Name:updater Usage:map[cpu:{i:{value:483164 scale:-9} d:{Dec:<nil>} s:483164n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548873       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:483164 scale:-9} d:{Dec:<nil>} s:483164n Format:DecimalSI}, 1
I0412 15:18:15.548886       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:11 +0000 UTC Window:{Duration:30.21s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1329791 scale:-9} d:{Dec:<nil>} s:1329791n Format:DecimalSI} memory:{i:{value:49815552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:18:15.548891       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1329791 scale:-9} d:{Dec:<nil>} s:1329791n Format:DecimalSI}, 2
I0412 15:18:15.548964       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:18:15.548982       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:18:15.549006       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:18:15.549018       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:18:15.549039       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:18:15.549051       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:18:15.549070       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:18:15.549088       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:18:15.549093       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:18:15.549097       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:18:15.549102       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:18:15.549105       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:18:15.563091       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582ea0} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582f30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bf3715a9-7801-4ae2-9aa3-57d4e8ee37ca] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0005139e0 TLS:0xc0005220b0}
I0412 15:18:15.563220       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:18:15.563238       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:18:21.888292       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 6 items received
I0412 15:19:15.466908       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: forcing resync
I0412 15:19:15.466947       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: forcing resync
I0412 15:19:15.532334       1 recommender.go:166] Recommender Run
I0412 15:19:15.532353       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:19:15.532359       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:19:15.532401       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:19:15.544811       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712ba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1998e5a2-37fb-435f-9aa6-cb2e7452e0e6 1998e5a2-37fb-435f-9aa6-cb2e7452e0e6] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff680 TLS:0xc0005220b0}
I0412 15:19:15.545361       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:19:15.545472       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:07 +0000 UTC Window:{Duration:19.068s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1925057 scale:-9} d:{Dec:<nil>} s:1925057n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545491       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1925057 scale:-9} d:{Dec:<nil>} s:1925057n Format:DecimalSI}, 2
I0412 15:19:15.545534       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:00 +0000 UTC Window:{Duration:15.121s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13185702 scale:-9} d:{Dec:<nil>} s:13185702n Format:DecimalSI} memory:{i:{value:167751680 scale:0} d:{Dec:<nil>} s:163820Ki Format:BinarySI}]}]}
I0412 15:19:15.545541       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13185702 scale:-9} d:{Dec:<nil>} s:13185702n Format:DecimalSI}, 14
I0412 15:19:15.545576       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:08 +0000 UTC Window:{Duration:11.234s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1691917 scale:-9} d:{Dec:<nil>} s:1691917n Format:DecimalSI} memory:{i:{value:14721024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545587       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1691917 scale:-9} d:{Dec:<nil>} s:1691917n Format:DecimalSI}, 2
I0412 15:19:15.545633       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:54 +0000 UTC Window:{Duration:25.37s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2207 scale:-9} d:{Dec:<nil>} s:2207n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:19:15.545644       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:19:15.545653       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2207 scale:-9} d:{Dec:<nil>} s:2207n Format:DecimalSI}, 1
I0412 15:19:15.545683       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:52 +0000 UTC Window:{Duration:19.923s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1095668 scale:-9} d:{Dec:<nil>} s:1095668n Format:DecimalSI} memory:{i:{value:6742016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545693       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1095668 scale:-9} d:{Dec:<nil>} s:1095668n Format:DecimalSI}, 2
I0412 15:19:15.545725       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:08 +0000 UTC Window:{Duration:15.829s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:504327 scale:-9} d:{Dec:<nil>} s:504327n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545732       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:504327 scale:-9} d:{Dec:<nil>} s:504327n Format:DecimalSI}, 1
I0412 15:19:15.545764       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:04 +0000 UTC Window:{Duration:11.392s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3135007 scale:-9} d:{Dec:<nil>} s:3135007n Format:DecimalSI} memory:{i:{value:19152896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545773       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3135007 scale:-9} d:{Dec:<nil>} s:3135007n Format:DecimalSI}, 4
I0412 15:19:15.545805       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:10 +0000 UTC Window:{Duration:20.617s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:645583 scale:-9} d:{Dec:<nil>} s:645583n Format:DecimalSI} memory:{i:{value:9768960 scale:0} d:{Dec:<nil>} s:9540Ki Format:BinarySI}]}]}
I0412 15:19:15.545814       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:645583 scale:-9} d:{Dec:<nil>} s:645583n Format:DecimalSI}, 1
I0412 15:19:15.545845       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:01 +0000 UTC Window:{Duration:16.51s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:141429 scale:-9} d:{Dec:<nil>} s:141429n Format:DecimalSI} memory:{i:{value:11862016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545852       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:141429 scale:-9} d:{Dec:<nil>} s:141429n Format:DecimalSI}, 1
I0412 15:19:15.545882       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:11 +0000 UTC Window:{Duration:16.37s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:122785 scale:-9} d:{Dec:<nil>} s:122785n Format:DecimalSI} memory:{i:{value:10903552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545889       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:122785 scale:-9} d:{Dec:<nil>} s:122785n Format:DecimalSI}, 1
I0412 15:19:15.545919       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:01 +0000 UTC Window:{Duration:18.039s} Containers:[{Name:updater Usage:map[cpu:{i:{value:21065 scale:-9} d:{Dec:<nil>} s:21065n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545927       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:21065 scale:-9} d:{Dec:<nil>} s:21065n Format:DecimalSI}, 1
I0412 15:19:15.545957       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:18:53 +0000 UTC Window:{Duration:24.581s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1013425 scale:-9} d:{Dec:<nil>} s:1013425n Format:DecimalSI} memory:{i:{value:49897472 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:19:15.545966       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1013425 scale:-9} d:{Dec:<nil>} s:1013425n Format:DecimalSI}, 2
I0412 15:19:15.546018       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:19:15.546033       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:19:15.546069       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:19:15.546090       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:19:15.546131       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:19:15.546142       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:19:15.546169       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:19:15.546184       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:19:15.546195       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:19:15.546201       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:19:15.546211       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:19:15.546217       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:19:15.568785       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0003b6d80} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0003b7170 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8e8ca244-09be-4a95-9ff9-976f8b466b4c] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000162a20 TLS:0xc0005220b0}
I0412 15:19:15.569382       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:19:15.569403       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:19:43.101553       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 9 items received
I0412 15:20:15.534172       1 recommender.go:166] Recommender Run
I0412 15:20:15.534215       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:20:15.534230       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:20:15.534302       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:20:15.545547       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c570 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d08fed16-47b8-4d1a-8533-bfae9389c394 d08fed16-47b8-4d1a-8533-bfae9389c394] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364a20 TLS:0xc0005220b0}
I0412 15:20:15.546093       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:20:15.546184       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:02 +0000 UTC Window:{Duration:11.602s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2078089 scale:-9} d:{Dec:<nil>} s:2078089n Format:DecimalSI} memory:{i:{value:32440320 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:20:15.546196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2078089 scale:-9} d:{Dec:<nil>} s:2078089n Format:DecimalSI}, 3
I0412 15:20:15.546253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:07 +0000 UTC Window:{Duration:13.429s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12171122 scale:-9} d:{Dec:<nil>} s:12171122n Format:DecimalSI} memory:{i:{value:167817216 scale:0} d:{Dec:<nil>} s:163884Ki Format:BinarySI}]}]}
I0412 15:20:15.546266       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12171122 scale:-9} d:{Dec:<nil>} s:12171122n Format:DecimalSI}, 13
I0412 15:20:15.546304       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:19:52 +0000 UTC Window:{Duration:19.734s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1768521 scale:-9} d:{Dec:<nil>} s:1768521n Format:DecimalSI} memory:{i:{value:15368192 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:20:15.546318       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1768521 scale:-9} d:{Dec:<nil>} s:1768521n Format:DecimalSI}, 2
I0412 15:20:15.546360       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:00 +0000 UTC Window:{Duration:10.861s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:20:15.546367       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:20:15.546375       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:20:15.546410       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:04 +0000 UTC Window:{Duration:16.081s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:958522 scale:-9} d:{Dec:<nil>} s:958522n Format:DecimalSI} memory:{i:{value:6701056 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:20:15.546416       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:958522 scale:-9} d:{Dec:<nil>} s:958522n Format:DecimalSI}, 1
I0412 15:20:15.546451       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:07 +0000 UTC Window:{Duration:13.408s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1406100 scale:-9} d:{Dec:<nil>} s:1406100n Format:DecimalSI} memory:{i:{value:12685312 scale:0} d:{Dec:<nil>} s:12388Ki Format:BinarySI}]}]}
I0412 15:20:15.546457       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1406100 scale:-9} d:{Dec:<nil>} s:1406100n Format:DecimalSI}, 2
I0412 15:20:15.546489       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:05 +0000 UTC Window:{Duration:18.87s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3614308 scale:-9} d:{Dec:<nil>} s:3614308n Format:DecimalSI} memory:{i:{value:19193856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:20:15.546499       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3614308 scale:-9} d:{Dec:<nil>} s:3614308n Format:DecimalSI}, 4
I0412 15:20:15.546531       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:06 +0000 UTC Window:{Duration:15.933s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:195129 scale:-9} d:{Dec:<nil>} s:195129n Format:DecimalSI} memory:{i:{value:9785344 scale:0} d:{Dec:<nil>} s:9556Ki Format:BinarySI}]}]}
I0412 15:20:15.546538       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:195129 scale:-9} d:{Dec:<nil>} s:195129n Format:DecimalSI}, 1
I0412 15:20:15.546568       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:00 +0000 UTC Window:{Duration:10.507s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:402588 scale:-9} d:{Dec:<nil>} s:402588n Format:DecimalSI} memory:{i:{value:11862016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:20:15.546575       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:402588 scale:-9} d:{Dec:<nil>} s:402588n Format:DecimalSI}, 1
I0412 15:20:15.546607       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:02 +0000 UTC Window:{Duration:12.719s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:434075 scale:-9} d:{Dec:<nil>} s:434075n Format:DecimalSI} memory:{i:{value:10989568 scale:0} d:{Dec:<nil>} s:10732Ki Format:BinarySI}]}]}
I0412 15:20:15.546620       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:434075 scale:-9} d:{Dec:<nil>} s:434075n Format:DecimalSI}, 1
I0412 15:20:15.546653       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:02 +0000 UTC Window:{Duration:11.971s} Containers:[{Name:updater Usage:map[cpu:{i:{value:35251 scale:-9} d:{Dec:<nil>} s:35251n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:20:15.546659       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:35251 scale:-9} d:{Dec:<nil>} s:35251n Format:DecimalSI}, 1
I0412 15:20:15.546691       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:07 +0000 UTC Window:{Duration:18.055s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1390196 scale:-9} d:{Dec:<nil>} s:1390196n Format:DecimalSI} memory:{i:{value:52924416 scale:0} d:{Dec:<nil>} s:51684Ki Format:BinarySI}]}]}
I0412 15:20:15.546705       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1390196 scale:-9} d:{Dec:<nil>} s:1390196n Format:DecimalSI}, 2
I0412 15:20:15.546768       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:20:15.546786       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:20:15.546834       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:20:15.546864       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:20:15.546906       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:20:15.546924       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:20:15.546956       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:20:15.546973       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:20:15.546985       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:20:15.546993       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:20:15.547003       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:20:15.547010       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:20:15.560831       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713bf0} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713c80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b3b89727-8d1f-4fa1-bd6b-53e83ae81495] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffb00 TLS:0xc0005220b0}
I0412 15:20:15.561170       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:20:15.561209       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:20:37.684206       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 3 items received
I0412 15:21:07.460752       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 13 items received
I0412 15:21:15.532671       1 recommender.go:166] Recommender Run
I0412 15:21:15.532706       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:21:15.532715       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:21:15.532750       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:21:15.545518       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0002188d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3c31ccce-3e13-4bd8-bb34-91fb7dc54c30 3c31ccce-3e13-4bd8-bb34-91fb7dc54c30] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 15:21:15.546275       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:21:15.546372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:06 +0000 UTC Window:{Duration:16.137s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2278986 scale:-9} d:{Dec:<nil>} s:2278986n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:21:15.546398       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2278986 scale:-9} d:{Dec:<nil>} s:2278986n Format:DecimalSI}, 3
I0412 15:21:15.546443       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:07 +0000 UTC Window:{Duration:10.796s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:16397647 scale:-9} d:{Dec:<nil>} s:16397647n Format:DecimalSI} memory:{i:{value:170266624 scale:0} d:{Dec:<nil>} s:166276Ki Format:BinarySI}]}]}
I0412 15:21:15.546462       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:16397647 scale:-9} d:{Dec:<nil>} s:16397647n Format:DecimalSI}, 17
I0412 15:21:15.546497       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:00 +0000 UTC Window:{Duration:16.93s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1655286 scale:-9} d:{Dec:<nil>} s:1655286n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:21:15.546513       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1655286 scale:-9} d:{Dec:<nil>} s:1655286n Format:DecimalSI}, 2
I0412 15:21:15.546553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:51 +0000 UTC Window:{Duration:13.618s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:21:15.546569       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:21:15.546576       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:21:15.546608       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:02 +0000 UTC Window:{Duration:13.124s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1716321 scale:-9} d:{Dec:<nil>} s:1716321n Format:DecimalSI} memory:{i:{value:6713344 scale:0} d:{Dec:<nil>} s:6556Ki Format:BinarySI}]}]}
I0412 15:21:15.546623       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1716321 scale:-9} d:{Dec:<nil>} s:1716321n Format:DecimalSI}, 2
I0412 15:21:15.546654       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:03 +0000 UTC Window:{Duration:11.271s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:730369 scale:-9} d:{Dec:<nil>} s:730369n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:21:15.546669       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:730369 scale:-9} d:{Dec:<nil>} s:730369n Format:DecimalSI}, 1
I0412 15:21:15.546698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:03 +0000 UTC Window:{Duration:17.418s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3489378 scale:-9} d:{Dec:<nil>} s:3489378n Format:DecimalSI} memory:{i:{value:19197952 scale:0} d:{Dec:<nil>} s:18748Ki Format:BinarySI}]}]}
I0412 15:21:15.546713       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3489378 scale:-9} d:{Dec:<nil>} s:3489378n Format:DecimalSI}, 4
I0412 15:21:15.546743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:09 +0000 UTC Window:{Duration:19.31s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:599016 scale:-9} d:{Dec:<nil>} s:599016n Format:DecimalSI} memory:{i:{value:9895936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:21:15.546750       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:599016 scale:-9} d:{Dec:<nil>} s:599016n Format:DecimalSI}, 1
I0412 15:21:15.546779       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:08 +0000 UTC Window:{Duration:16.226s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:386848 scale:-9} d:{Dec:<nil>} s:386848n Format:DecimalSI} memory:{i:{value:11870208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:21:15.546785       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:386848 scale:-9} d:{Dec:<nil>} s:386848n Format:DecimalSI}, 1
I0412 15:21:15.546814       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:07 +0000 UTC Window:{Duration:14.881s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:225724 scale:-9} d:{Dec:<nil>} s:225724n Format:DecimalSI} memory:{i:{value:10989568 scale:0} d:{Dec:<nil>} s:10732Ki Format:BinarySI}]}]}
I0412 15:21:15.546829       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:225724 scale:-9} d:{Dec:<nil>} s:225724n Format:DecimalSI}, 1
I0412 15:21:15.546860       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:11 +0000 UTC Window:{Duration:25.254s} Containers:[{Name:updater Usage:map[cpu:{i:{value:832382 scale:-9} d:{Dec:<nil>} s:832382n Format:DecimalSI} memory:{i:{value:11911168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:21:15.546897       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:832382 scale:-9} d:{Dec:<nil>} s:832382n Format:DecimalSI}, 1
I0412 15:21:15.546929       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:20:58 +0000 UTC Window:{Duration:14.968s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1718332 scale:-9} d:{Dec:<nil>} s:1718332n Format:DecimalSI} memory:{i:{value:52924416 scale:0} d:{Dec:<nil>} s:51684Ki Format:BinarySI}]}]}
I0412 15:21:15.546942       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1718332 scale:-9} d:{Dec:<nil>} s:1718332n Format:DecimalSI}, 2
I0412 15:21:15.547001       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:21:15.547019       1 recommender.go:177] ClusterState is tracking 15 PodStates and 1 VPAs
I0412 15:21:15.547063       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:21:15.547091       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:21:15.547131       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:21:15.547141       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:21:15.547220       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:21:15.547240       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:21:15.547252       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:21:15.547259       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:21:15.547269       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:21:15.547287       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:21:15.560029       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746900} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746990 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ff15480f-7fed-48e4-998f-5a037d37a41c] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3680} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd200 TLS:0xc0005220b0}
I0412 15:21:15.560241       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:21:15.560262       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:21:23.746847       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 14 items received
I0412 15:22:15.531711       1 recommender.go:166] Recommender Run
I0412 15:22:15.531740       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:22:15.531746       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:22:15.531808       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:22:15.546808       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746000 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1359b64c-ad9b-40a6-a53a-dd92cf96b0ef 1359b64c-ad9b-40a6-a53a-dd92cf96b0ef] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d07e0 TLS:0xc0005220b0}
I0412 15:22:15.547579       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:22:15.547678       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:01 +0000 UTC Window:{Duration:16.504s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2134391 scale:-9} d:{Dec:<nil>} s:2134391n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.547694       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2134391 scale:-9} d:{Dec:<nil>} s:2134391n Format:DecimalSI}, 3
I0412 15:22:15.547731       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:57 +0000 UTC Window:{Duration:14.945s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12786483 scale:-9} d:{Dec:<nil>} s:12786483n Format:DecimalSI} memory:{i:{value:170512384 scale:0} d:{Dec:<nil>} s:166516Ki Format:BinarySI}]}]}
I0412 15:22:15.547743       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12786483 scale:-9} d:{Dec:<nil>} s:12786483n Format:DecimalSI}, 13
I0412 15:22:15.547776       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:02 +0000 UTC Window:{Duration:12.043s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1554097 scale:-9} d:{Dec:<nil>} s:1554097n Format:DecimalSI} memory:{i:{value:14909440 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.547862       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1554097 scale:-9} d:{Dec:<nil>} s:1554097n Format:DecimalSI}, 2
I0412 15:22:15.547914       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:21:55 +0000 UTC Window:{Duration:29.685s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:1010 scale:-9} d:{Dec:<nil>} s:1010n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:22:15.547961       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:22:15.547972       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1010 scale:-9} d:{Dec:<nil>} s:1010n Format:DecimalSI}, 1
I0412 15:22:15.548004       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:09 +0000 UTC Window:{Duration:19.086s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:991878 scale:-9} d:{Dec:<nil>} s:991878n Format:DecimalSI} memory:{i:{value:6713344 scale:0} d:{Dec:<nil>} s:6556Ki Format:BinarySI}]}]}
I0412 15:22:15.548013       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:991878 scale:-9} d:{Dec:<nil>} s:991878n Format:DecimalSI}, 1
I0412 15:22:15.548039       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:10 +0000 UTC Window:{Duration:13.816s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:14693 scale:-9} d:{Dec:<nil>} s:14693n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.548048       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:14693 scale:-9} d:{Dec:<nil>} s:14693n Format:DecimalSI}, 1
I0412 15:22:15.548075       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:10 +0000 UTC Window:{Duration:19.557s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2498133 scale:-9} d:{Dec:<nil>} s:2498133n Format:DecimalSI} memory:{i:{value:19202048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.548084       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2498133 scale:-9} d:{Dec:<nil>} s:2498133n Format:DecimalSI}, 3
I0412 15:22:15.548111       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:03 +0000 UTC Window:{Duration:13.877s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:194566 scale:-9} d:{Dec:<nil>} s:194566n Format:DecimalSI} memory:{i:{value:9904128 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.548117       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:194566 scale:-9} d:{Dec:<nil>} s:194566n Format:DecimalSI}, 1
I0412 15:22:15.548143       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:10 +0000 UTC Window:{Duration:16.945s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:320212 scale:-9} d:{Dec:<nil>} s:320212n Format:DecimalSI} memory:{i:{value:11870208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.548150       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:320212 scale:-9} d:{Dec:<nil>} s:320212n Format:DecimalSI}, 1
I0412 15:22:15.548190       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:06 +0000 UTC Window:{Duration:18.106s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:320667 scale:-9} d:{Dec:<nil>} s:320667n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.548199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:320667 scale:-9} d:{Dec:<nil>} s:320667n Format:DecimalSI}, 1
I0412 15:22:15.548225       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:11 +0000 UTC Window:{Duration:28.734s} Containers:[{Name:updater Usage:map[cpu:{i:{value:81019 scale:-9} d:{Dec:<nil>} s:81019n Format:DecimalSI} memory:{i:{value:11927552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.548233       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:81019 scale:-9} d:{Dec:<nil>} s:81019n Format:DecimalSI}, 1
I0412 15:22:15.548258       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:08 +0000 UTC Window:{Duration:12.661s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:416159 scale:-9} d:{Dec:<nil>} s:416159n Format:DecimalSI} memory:{i:{value:52928512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:22:15.548265       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:416159 scale:-9} d:{Dec:<nil>} s:416159n Format:DecimalSI}, 1
I0412 15:22:15.548319       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:22:15.548333       1 recommender.go:177] ClusterState is tracking 15 PodStates and 1 VPAs
I0412 15:22:15.548361       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:22:15.548382       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:22:15.548418       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:22:15.548431       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:22:15.548463       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:22:15.548471       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:22:15.548483       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:22:15.548489       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:22:15.548496       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:22:15.548506       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:22:15.606680       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000219da0} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000219e30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6c536d36-698a-401f-80d4-fc8d9868d9ae] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d680 TLS:0xc0005220b0}
I0412 15:22:15.606866       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:22:15.606888       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:22:31.424471       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 6 items received
I0412 15:22:45.241046       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 11 items received
I0412 15:23:15.532009       1 recommender.go:166] Recommender Run
I0412 15:23:15.532029       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:23:15.532035       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:23:15.532058       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:23:15.532119       1 cluster_feeder.go:401] Deleting Pod {default workload-6c8796667f-t9pb4}
I0412 15:23:15.543785       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007949f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[566abeab-842f-47dc-8593-47169838945c 566abeab-842f-47dc-8593-47169838945c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077cc60 TLS:0xc0005220b0}
I0412 15:23:15.544142       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:23:15.544189       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:00 +0000 UTC Window:{Duration:10.203s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2041850 scale:-9} d:{Dec:<nil>} s:2041850n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:23:15.544196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2041850 scale:-9} d:{Dec:<nil>} s:2041850n Format:DecimalSI}, 3
I0412 15:23:15.544266       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:09 +0000 UTC Window:{Duration:27.105s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13360339 scale:-9} d:{Dec:<nil>} s:13360339n Format:DecimalSI} memory:{i:{value:171552768 scale:0} d:{Dec:<nil>} s:167532Ki Format:BinarySI}]}]}
I0412 15:23:15.544282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13360339 scale:-9} d:{Dec:<nil>} s:13360339n Format:DecimalSI}, 14
I0412 15:23:15.544309       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:08 +0000 UTC Window:{Duration:16.607s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1686638 scale:-9} d:{Dec:<nil>} s:1686638n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:23:15.544320       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1686638 scale:-9} d:{Dec:<nil>} s:1686638n Format:DecimalSI}, 2
I0412 15:23:15.544343       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:05 +0000 UTC Window:{Duration:12.562s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:23:15.544350       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:23:15.544354       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:23:15.544371       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:02 +0000 UTC Window:{Duration:14.199s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1463060 scale:-9} d:{Dec:<nil>} s:1463060n Format:DecimalSI} memory:{i:{value:6746112 scale:0} d:{Dec:<nil>} s:6588Ki Format:BinarySI}]}]}
I0412 15:23:15.544375       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1463060 scale:-9} d:{Dec:<nil>} s:1463060n Format:DecimalSI}, 2
I0412 15:23:15.544399       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:01 +0000 UTC Window:{Duration:15.532s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:364537 scale:-9} d:{Dec:<nil>} s:364537n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:23:15.544403       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:364537 scale:-9} d:{Dec:<nil>} s:364537n Format:DecimalSI}, 1
I0412 15:23:15.544420       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:06 +0000 UTC Window:{Duration:19.999s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3505075 scale:-9} d:{Dec:<nil>} s:3505075n Format:DecimalSI} memory:{i:{value:19214336 scale:0} d:{Dec:<nil>} s:18764Ki Format:BinarySI}]}]}
I0412 15:23:15.544424       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3505075 scale:-9} d:{Dec:<nil>} s:3505075n Format:DecimalSI}, 4
I0412 15:23:15.544442       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:12 +0000 UTC Window:{Duration:19.241s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:784522 scale:-9} d:{Dec:<nil>} s:784522n Format:DecimalSI} memory:{i:{value:9981952 scale:0} d:{Dec:<nil>} s:9748Ki Format:BinarySI}]}]}
I0412 15:23:15.544448       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:784522 scale:-9} d:{Dec:<nil>} s:784522n Format:DecimalSI}, 1
I0412 15:23:15.544466       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:59 +0000 UTC Window:{Duration:19.126s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:757293 scale:-9} d:{Dec:<nil>} s:757293n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:23:15.544470       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:757293 scale:-9} d:{Dec:<nil>} s:757293n Format:DecimalSI}, 1
I0412 15:23:15.544490       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:55 +0000 UTC Window:{Duration:16.371s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1004336 scale:-9} d:{Dec:<nil>} s:1004336n Format:DecimalSI} memory:{i:{value:11014144 scale:0} d:{Dec:<nil>} s:10756Ki Format:BinarySI}]}]}
I0412 15:23:15.544497       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1004336 scale:-9} d:{Dec:<nil>} s:1004336n Format:DecimalSI}, 2
I0412 15:23:15.544514       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:22:56 +0000 UTC Window:{Duration:17.626s} Containers:[{Name:updater Usage:map[cpu:{i:{value:970271 scale:-9} d:{Dec:<nil>} s:970271n Format:DecimalSI} memory:{i:{value:11862016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:23:15.544519       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:970271 scale:-9} d:{Dec:<nil>} s:970271n Format:DecimalSI}, 1
I0412 15:23:15.544536       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:10 +0000 UTC Window:{Duration:18.349s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:2140934 scale:-9} d:{Dec:<nil>} s:2140934n Format:DecimalSI} memory:{i:{value:52936704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:23:15.544539       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2140934 scale:-9} d:{Dec:<nil>} s:2140934n Format:DecimalSI}, 3
I0412 15:23:15.544576       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:23:15.544586       1 recommender.go:177] ClusterState is tracking 15 PodStates and 1 VPAs
I0412 15:23:15.544637       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:23:15.544652       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:23:15.544675       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:23:15.544683       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:23:15.544701       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:23:15.544709       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:23:15.544717       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:23:15.544726       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:23:15.544732       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:23:15.544738       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:23:15.559463       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000139f50} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882060 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b3da62b1-ffa4-4a9a-bec8-7ed76296ad11] Cache-Control:[no-cache, private] Content-Length:[1346] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363680} ContentLength:1346 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082e120 TLS:0xc0005220b0}
I0412 15:23:15.559825       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:23:15.559867       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:24:07.312688       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 1 items received
I0412 15:24:15.532410       1 recommender.go:166] Recommender Run
I0412 15:24:15.532465       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:24:15.532473       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:24:15.532519       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:24:15.546139       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bea50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1cc4b5a8-b777-4049-b678-a9b1e17db91d 1cc4b5a8-b777-4049-b678-a9b1e17db91d] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000706480} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007e0d80 TLS:0xc0005220b0}
I0412 15:24:15.547028       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:24:15.547114       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:24:01 +0000 UTC Window:{Duration:16.783s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1963951 scale:-9} d:{Dec:<nil>} s:1963951n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:24:15.547135       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1963951 scale:-9} d:{Dec:<nil>} s:1963951n Format:DecimalSI}, 2
I0412 15:24:15.547193       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:59 +0000 UTC Window:{Duration:18.636s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13067450 scale:-9} d:{Dec:<nil>} s:13067450n Format:DecimalSI} memory:{i:{value:171737088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:24:15.547214       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13067450 scale:-9} d:{Dec:<nil>} s:13067450n Format:DecimalSI}, 14
I0412 15:24:15.547267       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:24:10 +0000 UTC Window:{Duration:24.806s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1960775 scale:-9} d:{Dec:<nil>} s:1960775n Format:DecimalSI} memory:{i:{value:15175680 scale:0} d:{Dec:<nil>} s:14820Ki Format:BinarySI}]}]}
I0412 15:24:15.547283       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1960775 scale:-9} d:{Dec:<nil>} s:1960775n Format:DecimalSI}, 2
I0412 15:24:15.547337       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:57 +0000 UTC Window:{Duration:14.608s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:24:15.547352       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:24:15.547362       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:24:15.547407       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:24:03 +0000 UTC Window:{Duration:12.578s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1236683 scale:-9} d:{Dec:<nil>} s:1236683n Format:DecimalSI} memory:{i:{value:6746112 scale:0} d:{Dec:<nil>} s:6588Ki Format:BinarySI}]}]}
I0412 15:24:15.547419       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1236683 scale:-9} d:{Dec:<nil>} s:1236683n Format:DecimalSI}, 2
I0412 15:24:15.547463       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:59 +0000 UTC Window:{Duration:12.431s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1014319 scale:-9} d:{Dec:<nil>} s:1014319n Format:DecimalSI} memory:{i:{value:12685312 scale:0} d:{Dec:<nil>} s:12388Ki Format:BinarySI}]}]}
I0412 15:24:15.547478       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1014319 scale:-9} d:{Dec:<nil>} s:1014319n Format:DecimalSI}, 2
I0412 15:24:15.547522       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:24:07 +0000 UTC Window:{Duration:14.434s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2508452 scale:-9} d:{Dec:<nil>} s:2508452n Format:DecimalSI} memory:{i:{value:19218432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:24:15.547535       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2508452 scale:-9} d:{Dec:<nil>} s:2508452n Format:DecimalSI}, 3
I0412 15:24:15.547577       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:24:09 +0000 UTC Window:{Duration:13.217s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:426193 scale:-9} d:{Dec:<nil>} s:426193n Format:DecimalSI} memory:{i:{value:9981952 scale:0} d:{Dec:<nil>} s:9748Ki Format:BinarySI}]}]}
I0412 15:24:15.547586       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:426193 scale:-9} d:{Dec:<nil>} s:426193n Format:DecimalSI}, 1
I0412 15:24:15.547630       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:24:11 +0000 UTC Window:{Duration:16.565s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:859100 scale:-9} d:{Dec:<nil>} s:859100n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:24:15.547648       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:859100 scale:-9} d:{Dec:<nil>} s:859100n Format:DecimalSI}, 1
I0412 15:24:15.547697       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:24:10 +0000 UTC Window:{Duration:25.247s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:752089 scale:-9} d:{Dec:<nil>} s:752089n Format:DecimalSI} memory:{i:{value:11481088 scale:0} d:{Dec:<nil>} s:11212Ki Format:BinarySI}]}]}
I0412 15:24:15.547710       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752089 scale:-9} d:{Dec:<nil>} s:752089n Format:DecimalSI}, 1
I0412 15:24:15.547755       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:54 +0000 UTC Window:{Duration:15.753s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11866112 scale:0} d:{Dec:<nil>} s:11588Ki Format:BinarySI}]}]}
I0412 15:24:15.547771       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:24:15.547816       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:23:58 +0000 UTC Window:{Duration:11.332s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1944316 scale:-9} d:{Dec:<nil>} s:1944316n Format:DecimalSI} memory:{i:{value:52940800 scale:0} d:{Dec:<nil>} s:51700Ki Format:BinarySI}]}]}
I0412 15:24:15.547834       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1944316 scale:-9} d:{Dec:<nil>} s:1944316n Format:DecimalSI}, 2
I0412 15:24:15.547906       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:24:15.547938       1 recommender.go:177] ClusterState is tracking 15 PodStates and 1 VPAs
I0412 15:24:15.547996       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:24:15.548022       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:24:15.548074       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:24:15.548095       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828480 ControlledValues:<nil>}:
I0412 15:24:15.548142       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:24:15.548155       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:24:15.548169       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:24:15.548187       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:24:15.548200       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:24:15.548218       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:24:15.562716       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00058f110} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058f470 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[004fbdf1-7304-4b73-9a10-bdd08de7eefa] Cache-Control:[no-cache, private] Content-Length:[1347] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:1347 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082fb00 TLS:0xc0005220b0}
I0412 15:24:15.562992       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:24:15.563015       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:24:20.019423       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 3 items received
I0412 15:25:15.532625       1 recommender.go:166] Recommender Run
I0412 15:25:15.532655       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:25:15.532663       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:25:15.532723       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:25:15.532798       1 cluster_feeder.go:401] Deleting Pod {default workload-655c5c8d44-lvgzm}
I0412 15:25:15.532820       1 cluster_feeder.go:401] Deleting Pod {default workload-6c8796667f-8q9jf}
I0412 15:25:15.532829       1 cluster_feeder.go:401] Deleting Pod {default workload-655c5c8d44-gd2vh}
I0412 15:25:15.546417       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729aa0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[af3c633e-8c0e-41c7-9239-9ff5c11fd23b af3c633e-8c0e-41c7-9239-9ff5c11fd23b] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6a20 TLS:0xc0005220b0}
I0412 15:25:15.546891       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:25:15.546970       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:05 +0000 UTC Window:{Duration:18.841s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2284379 scale:-9} d:{Dec:<nil>} s:2284379n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:25:15.546987       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2284379 scale:-9} d:{Dec:<nil>} s:2284379n Format:DecimalSI}, 3
I0412 15:25:15.547032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:04 +0000 UTC Window:{Duration:16.39s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:14990909 scale:-9} d:{Dec:<nil>} s:14990909n Format:DecimalSI} memory:{i:{value:171749376 scale:0} d:{Dec:<nil>} s:167724Ki Format:BinarySI}]}]}
I0412 15:25:15.547041       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:14990909 scale:-9} d:{Dec:<nil>} s:14990909n Format:DecimalSI}, 15
I0412 15:25:15.547080       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:09 +0000 UTC Window:{Duration:18.918s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1654191 scale:-9} d:{Dec:<nil>} s:1654191n Format:DecimalSI} memory:{i:{value:14647296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:25:15.547092       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1654191 scale:-9} d:{Dec:<nil>} s:1654191n Format:DecimalSI}, 2
I0412 15:25:15.547132       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:05 +0000 UTC Window:{Duration:14.156s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:25:15.547147       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:25:15.547155       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:25:15.547190       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:00 +0000 UTC Window:{Duration:12.159s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1565424 scale:-9} d:{Dec:<nil>} s:1565424n Format:DecimalSI} memory:{i:{value:6799360 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:25:15.547198       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1565424 scale:-9} d:{Dec:<nil>} s:1565424n Format:DecimalSI}, 2
I0412 15:25:15.547232       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:01 +0000 UTC Window:{Duration:11.57s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:815903 scale:-9} d:{Dec:<nil>} s:815903n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:25:15.547243       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:815903 scale:-9} d:{Dec:<nil>} s:815903n Format:DecimalSI}, 1
I0412 15:25:15.547277       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:06 +0000 UTC Window:{Duration:14.856s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3260096 scale:-9} d:{Dec:<nil>} s:3260096n Format:DecimalSI} memory:{i:{value:18436096 scale:0} d:{Dec:<nil>} s:18004Ki Format:BinarySI}]}]}
I0412 15:25:15.547288       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3260096 scale:-9} d:{Dec:<nil>} s:3260096n Format:DecimalSI}, 4
I0412 15:25:15.547323       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:08 +0000 UTC Window:{Duration:17.68s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:928846 scale:-9} d:{Dec:<nil>} s:928846n Format:DecimalSI} memory:{i:{value:10051584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:25:15.547334       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:928846 scale:-9} d:{Dec:<nil>} s:928846n Format:DecimalSI}, 1
I0412 15:25:15.547369       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:04 +0000 UTC Window:{Duration:14.725s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:18404 scale:-9} d:{Dec:<nil>} s:18404n Format:DecimalSI} memory:{i:{value:11657216 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:25:15.547381       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:18404 scale:-9} d:{Dec:<nil>} s:18404n Format:DecimalSI}, 1
I0412 15:25:15.547416       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:07 +0000 UTC Window:{Duration:17.546s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:713097 scale:-9} d:{Dec:<nil>} s:713097n Format:DecimalSI} memory:{i:{value:11579392 scale:0} d:{Dec:<nil>} s:11308Ki Format:BinarySI}]}]}
I0412 15:25:15.547427       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:713097 scale:-9} d:{Dec:<nil>} s:713097n Format:DecimalSI}, 1
I0412 15:25:15.547460       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:11 +0000 UTC Window:{Duration:14.886s} Containers:[{Name:updater Usage:map[cpu:{i:{value:1939607 scale:-9} d:{Dec:<nil>} s:1939607n Format:DecimalSI} memory:{i:{value:11866112 scale:0} d:{Dec:<nil>} s:11588Ki Format:BinarySI}]}]}
I0412 15:25:15.547471       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1939607 scale:-9} d:{Dec:<nil>} s:1939607n Format:DecimalSI}, 2
I0412 15:25:15.547502       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:03 +0000 UTC Window:{Duration:16.182s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1542516 scale:-9} d:{Dec:<nil>} s:1542516n Format:DecimalSI} memory:{i:{value:52940800 scale:0} d:{Dec:<nil>} s:51700Ki Format:BinarySI}]}]}
I0412 15:25:15.547512       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1542516 scale:-9} d:{Dec:<nil>} s:1542516n Format:DecimalSI}, 2
I0412 15:25:15.547573       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:25:15.547588       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:25:15.547622       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:25:15.547640       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:25:15.547689       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 07:05:00 +0000 UTC, halfLife: 5m0s\nminBucket: 30, maxBucket: 37, totalWeight: 246396768717.170\n%-tile\tvalue\n0\t0.708\n5\t0.708\n10\t0.708\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t1.077:
I0412 15:25:15.547699       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000490198 ControlledValues:<nil>}:
I0412 15:25:15.547735       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:442809964]
I0412 15:25:15.547744       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:25:15.547754       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:441738598]
I0412 15:25:15.547766       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:25:15.547776       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1798 memory:979466496]
I0412 15:25:15.547782       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:25:15.572405       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005824b0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005825a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0a0f87c5-4e01-4ad3-8128-b9b5d153c42f] Cache-Control:[no-cache, private] Content-Length:[2257] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003680} ContentLength:2257 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000349320 TLS:0xc0005220b0}
I0412 15:25:15.592395       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007623f0} GetBody:0x6d9b40 ContentLength:455 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007624b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f36c00ec-924a-40cf-85aa-99637aca1bb7] Cache-Control:[no-cache, private] Content-Length:[1347] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003c80} ContentLength:1347 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd320 TLS:0xc0005220b0}
I0412 15:25:15.592567       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:25:15.592587       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:26:15.537425       1 recommender.go:166] Recommender Run
I0412 15:26:15.537465       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:26:15.537475       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:26:15.537487       1 cluster_feeder.go:380] Deleting VPA {default workload-vpa}
I0412 15:26:15.537552       1 cluster_feeder.go:401] Deleting Pod {default workload-655c5c8d44-mpwgp}
I0412 15:26:15.537569       1 cluster_feeder.go:401] Deleting Pod {default workload-655c5c8d44-nsbk7}
I0412 15:26:15.561074       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[262ea392-ab8a-4a5d-8e2d-211da926fa25 262ea392-ab8a-4a5d-8e2d-211da926fa25] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd200 TLS:0xc0005220b0}
I0412 15:26:15.562424       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:26:15.562647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:08 +0000 UTC Window:{Duration:17.071s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2901060 scale:-9} d:{Dec:<nil>} s:2901060n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:26:15.562671       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2901060 scale:-9} d:{Dec:<nil>} s:2901060n Format:DecimalSI}, 3
I0412 15:26:15.562845       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:10 +0000 UTC Window:{Duration:31.482s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:16090400 scale:-9} d:{Dec:<nil>} s:16090400n Format:DecimalSI} memory:{i:{value:172023808 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:26:15.562873       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:16090400 scale:-9} d:{Dec:<nil>} s:16090400n Format:DecimalSI}, 17
I0412 15:26:15.562948       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:05 +0000 UTC Window:{Duration:14.038s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1920572 scale:-9} d:{Dec:<nil>} s:1920572n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 15:26:15.562976       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1920572 scale:-9} d:{Dec:<nil>} s:1920572n Format:DecimalSI}, 2
I0412 15:26:15.563057       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:56 +0000 UTC Window:{Duration:17.351s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:26:15.563085       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:26:15.563101       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:26:15.563167       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:11 +0000 UTC Window:{Duration:18.081s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1367236 scale:-9} d:{Dec:<nil>} s:1367236n Format:DecimalSI} memory:{i:{value:6799360 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:26:15.563185       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1367236 scale:-9} d:{Dec:<nil>} s:1367236n Format:DecimalSI}, 2
I0412 15:26:15.563253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:02 +0000 UTC Window:{Duration:17.289s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:690786 scale:-9} d:{Dec:<nil>} s:690786n Format:DecimalSI} memory:{i:{value:12685312 scale:0} d:{Dec:<nil>} s:12388Ki Format:BinarySI}]}]}
I0412 15:26:15.563273       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:690786 scale:-9} d:{Dec:<nil>} s:690786n Format:DecimalSI}, 1
I0412 15:26:15.563336       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:55 +0000 UTC Window:{Duration:28.739s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4170221 scale:-9} d:{Dec:<nil>} s:4170221n Format:DecimalSI} memory:{i:{value:18436096 scale:0} d:{Dec:<nil>} s:18004Ki Format:BinarySI}]}]}
I0412 15:26:15.563359       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4170221 scale:-9} d:{Dec:<nil>} s:4170221n Format:DecimalSI}, 5
I0412 15:26:15.563422       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:02 +0000 UTC Window:{Duration:14.949s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:859321 scale:-9} d:{Dec:<nil>} s:859321n Format:DecimalSI} memory:{i:{value:10190848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:26:15.563441       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:859321 scale:-9} d:{Dec:<nil>} s:859321n Format:DecimalSI}, 1
I0412 15:26:15.563508       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:06 +0000 UTC Window:{Duration:16.828s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1830104 scale:-9} d:{Dec:<nil>} s:1830104n Format:DecimalSI} memory:{i:{value:12222464 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:26:15.563522       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1830104 scale:-9} d:{Dec:<nil>} s:1830104n Format:DecimalSI}, 2
I0412 15:26:15.563586       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:57 +0000 UTC Window:{Duration:11.32s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:698498 scale:-9} d:{Dec:<nil>} s:698498n Format:DecimalSI} memory:{i:{value:11890688 scale:0} d:{Dec:<nil>} s:11612Ki Format:BinarySI}]}]}
I0412 15:26:15.563603       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:698498 scale:-9} d:{Dec:<nil>} s:698498n Format:DecimalSI}, 1
I0412 15:26:15.563664       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:25:55 +0000 UTC Window:{Duration:13.905s} Containers:[{Name:updater Usage:map[cpu:{i:{value:242358 scale:-9} d:{Dec:<nil>} s:242358n Format:DecimalSI} memory:{i:{value:12173312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:26:15.563682       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:242358 scale:-9} d:{Dec:<nil>} s:242358n Format:DecimalSI}, 1
I0412 15:26:15.563746       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:04 +0000 UTC Window:{Duration:17.608s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1409245 scale:-9} d:{Dec:<nil>} s:1409245n Format:DecimalSI} memory:{i:{value:53211136 scale:0} d:{Dec:<nil>} s:51964Ki Format:BinarySI}]}]}
I0412 15:26:15.563769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1409245 scale:-9} d:{Dec:<nil>} s:1409245n Format:DecimalSI}, 2
I0412 15:26:15.563881       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:26:15.563910       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:26:15.564201       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:26:42.106165       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 5 items received
I0412 15:27:00.464929       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 93 items received
I0412 15:27:15.533628       1 recommender.go:166] Recommender Run
I0412 15:27:15.533670       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:27:15.533682       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:27:15.549407       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009870b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8a5bb93d-8ae2-4072-bbdb-4e850640bb68 8a5bb93d-8ae2-4072-bbdb-4e850640bb68] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082f560 TLS:0xc0005220b0}
I0412 15:27:15.550562       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:27:15.550698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:54 +0000 UTC Window:{Duration:29.337s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1955960 scale:-9} d:{Dec:<nil>} s:1955960n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:27:15.550719       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1955960 scale:-9} d:{Dec:<nil>} s:1955960n Format:DecimalSI}, 2
I0412 15:27:15.550798       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:02 +0000 UTC Window:{Duration:19.597s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12536051 scale:-9} d:{Dec:<nil>} s:12536051n Format:DecimalSI} memory:{i:{value:172183552 scale:0} d:{Dec:<nil>} s:168148Ki Format:BinarySI}]}]}
I0412 15:27:15.550827       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12536051 scale:-9} d:{Dec:<nil>} s:12536051n Format:DecimalSI}, 13
I0412 15:27:15.550898       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:05 +0000 UTC Window:{Duration:16.009s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1600911 scale:-9} d:{Dec:<nil>} s:1600911n Format:DecimalSI} memory:{i:{value:14946304 scale:0} d:{Dec:<nil>} s:14596Ki Format:BinarySI}]}]}
I0412 15:27:15.550943       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1600911 scale:-9} d:{Dec:<nil>} s:1600911n Format:DecimalSI}, 2
I0412 15:27:15.551033       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:58 +0000 UTC Window:{Duration:12.884s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:27:15.551050       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:27:15.551065       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:27:15.551136       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:05 +0000 UTC Window:{Duration:15.009s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1144446 scale:-9} d:{Dec:<nil>} s:1144446n Format:DecimalSI} memory:{i:{value:6860800 scale:0} d:{Dec:<nil>} s:6700Ki Format:BinarySI}]}]}
I0412 15:27:15.551168       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1144446 scale:-9} d:{Dec:<nil>} s:1144446n Format:DecimalSI}, 2
I0412 15:27:15.551237       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:09 +0000 UTC Window:{Duration:28.469s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:385401 scale:-9} d:{Dec:<nil>} s:385401n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:27:15.551255       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:385401 scale:-9} d:{Dec:<nil>} s:385401n Format:DecimalSI}, 1
I0412 15:27:15.551317       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:02 +0000 UTC Window:{Duration:15.884s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3090027 scale:-9} d:{Dec:<nil>} s:3090027n Format:DecimalSI} memory:{i:{value:18673664 scale:0} d:{Dec:<nil>} s:18236Ki Format:BinarySI}]}]}
I0412 15:27:15.551345       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3090027 scale:-9} d:{Dec:<nil>} s:3090027n Format:DecimalSI}, 4
I0412 15:27:15.551411       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:07 +0000 UTC Window:{Duration:16.862s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:430138 scale:-9} d:{Dec:<nil>} s:430138n Format:DecimalSI} memory:{i:{value:10211328 scale:0} d:{Dec:<nil>} s:9972Ki Format:BinarySI}]}]}
I0412 15:27:15.551436       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:430138 scale:-9} d:{Dec:<nil>} s:430138n Format:DecimalSI}, 1
I0412 15:27:15.551511       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:59 +0000 UTC Window:{Duration:10.515s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:11982 scale:-9} d:{Dec:<nil>} s:11982n Format:DecimalSI} memory:{i:{value:12226560 scale:0} d:{Dec:<nil>} s:11940Ki Format:BinarySI}]}]}
I0412 15:27:15.551542       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11982 scale:-9} d:{Dec:<nil>} s:11982n Format:DecimalSI}, 1
I0412 15:27:15.551614       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:10 +0000 UTC Window:{Duration:24.492s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:133104 scale:-9} d:{Dec:<nil>} s:133104n Format:DecimalSI} memory:{i:{value:12378112 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:27:15.551633       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:133104 scale:-9} d:{Dec:<nil>} s:133104n Format:DecimalSI}, 1
I0412 15:27:15.551705       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:26:56 +0000 UTC Window:{Duration:16.847s} Containers:[{Name:updater Usage:map[cpu:{i:{value:140618 scale:-9} d:{Dec:<nil>} s:140618n Format:DecimalSI} memory:{i:{value:12283904 scale:0} d:{Dec:<nil>} s:11996Ki Format:BinarySI}]}]}
I0412 15:27:15.551727       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:140618 scale:-9} d:{Dec:<nil>} s:140618n Format:DecimalSI}, 1
I0412 15:27:15.551790       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:05 +0000 UTC Window:{Duration:13.281s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1082448 scale:-9} d:{Dec:<nil>} s:1082448n Format:DecimalSI} memory:{i:{value:53317632 scale:0} d:{Dec:<nil>} s:52068Ki Format:BinarySI}]}]}
I0412 15:27:15.551808       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1082448 scale:-9} d:{Dec:<nil>} s:1082448n Format:DecimalSI}, 2
I0412 15:27:15.551919       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:27:15.551946       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:27:15.552231       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 15:27:15.552254       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:27:15.552260       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:27:15.596134       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882e40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c78410a4-70d4-4256-a73c-52121ddc69af] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0ea0 TLS:0xc0005220b0}
I0412 15:27:15.695367       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008835c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[880f321f-d632-48f1-93a1-76cba0b9753f] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363980} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1d40 TLS:0xc0005220b0}
I0412 15:27:15.713251       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883b90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9670c9a9-91a8-4a8c-8957-e9ed8b224a18] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364b40 TLS:0xc0005220b0}
I0412 15:27:15.722146       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058e240 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c9e1da0e-a3fd-4bac-a716-9db1abf81764] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363c80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003657a0 TLS:0xc0005220b0}
I0412 15:27:15.792912       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058e870 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[170ae606-435d-4cf5-8983-eb45ece9baa5] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363e00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365e60 TLS:0xc0005220b0}
I0412 15:27:15.815623       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058f0b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8fcc21e8-8379-4be2-9551-117ecf9bba76] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003380} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 15:27:15.815704       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:27:36.892101       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 48 items received
I0412 15:27:51.750810       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 41 items received
I0412 15:28:15.532024       1 recommender.go:166] Recommender Run
I0412 15:28:15.532052       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:28:15.532058       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:28:15.542814       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007624b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[233297d9-3a95-480d-ae11-3f3b2d79721a 233297d9-3a95-480d-ae11-3f3b2d79721a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 15:28:15.543302       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:28:15.543377       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:03 +0000 UTC Window:{Duration:19.798s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2924234 scale:-9} d:{Dec:<nil>} s:2924234n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:28:15.543394       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2924234 scale:-9} d:{Dec:<nil>} s:2924234n Format:DecimalSI}, 3
I0412 15:28:15.543437       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:03 +0000 UTC Window:{Duration:13.526s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12915052 scale:-9} d:{Dec:<nil>} s:12915052n Format:DecimalSI} memory:{i:{value:165527552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:28:15.543451       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12915052 scale:-9} d:{Dec:<nil>} s:12915052n Format:DecimalSI}, 13
I0412 15:28:15.543484       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:07 +0000 UTC Window:{Duration:18.434s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1648584 scale:-9} d:{Dec:<nil>} s:1648584n Format:DecimalSI} memory:{i:{value:14905344 scale:0} d:{Dec:<nil>} s:14556Ki Format:BinarySI}]}]}
I0412 15:28:15.543498       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1648584 scale:-9} d:{Dec:<nil>} s:1648584n Format:DecimalSI}, 2
I0412 15:28:15.543537       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:58 +0000 UTC Window:{Duration:13.052s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:28:15.543548       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:28:15.543556       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:28:15.543589       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:07 +0000 UTC Window:{Duration:12.511s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:523459 scale:-9} d:{Dec:<nil>} s:523459n Format:DecimalSI} memory:{i:{value:6885376 scale:0} d:{Dec:<nil>} s:6724Ki Format:BinarySI}]}]}
I0412 15:28:15.543600       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:523459 scale:-9} d:{Dec:<nil>} s:523459n Format:DecimalSI}, 1
I0412 15:28:15.543641       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:00 +0000 UTC Window:{Duration:14.492s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:512282 scale:-9} d:{Dec:<nil>} s:512282n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:28:15.543657       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:512282 scale:-9} d:{Dec:<nil>} s:512282n Format:DecimalSI}, 1
I0412 15:28:15.543691       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:07 +0000 UTC Window:{Duration:18.029s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2451883 scale:-9} d:{Dec:<nil>} s:2451883n Format:DecimalSI} memory:{i:{value:18313216 scale:0} d:{Dec:<nil>} s:17884Ki Format:BinarySI}]}]}
I0412 15:28:15.543704       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2451883 scale:-9} d:{Dec:<nil>} s:2451883n Format:DecimalSI}, 3
I0412 15:28:15.543735       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:54 +0000 UTC Window:{Duration:18.975s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:290013 scale:-9} d:{Dec:<nil>} s:290013n Format:DecimalSI} memory:{i:{value:10231808 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:28:15.543745       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:290013 scale:-9} d:{Dec:<nil>} s:290013n Format:DecimalSI}, 1
I0412 15:28:15.543773       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:05 +0000 UTC Window:{Duration:17.211s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:300679 scale:-9} d:{Dec:<nil>} s:300679n Format:DecimalSI} memory:{i:{value:12226560 scale:0} d:{Dec:<nil>} s:11940Ki Format:BinarySI}]}]}
I0412 15:28:15.543779       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:300679 scale:-9} d:{Dec:<nil>} s:300679n Format:DecimalSI}, 1
I0412 15:28:15.543809       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:03 +0000 UTC Window:{Duration:14.208s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:214667 scale:-9} d:{Dec:<nil>} s:214667n Format:DecimalSI} memory:{i:{value:12410880 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:28:15.543820       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:214667 scale:-9} d:{Dec:<nil>} s:214667n Format:DecimalSI}, 1
I0412 15:28:15.543852       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:02 +0000 UTC Window:{Duration:12.435s} Containers:[{Name:updater Usage:map[cpu:{i:{value:272456 scale:-9} d:{Dec:<nil>} s:272456n Format:DecimalSI} memory:{i:{value:11952128 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:28:15.543863       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:272456 scale:-9} d:{Dec:<nil>} s:272456n Format:DecimalSI}, 1
I0412 15:28:15.543893       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:27:59 +0000 UTC Window:{Duration:17.598s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:958461 scale:-9} d:{Dec:<nil>} s:958461n Format:DecimalSI} memory:{i:{value:53317632 scale:0} d:{Dec:<nil>} s:52068Ki Format:BinarySI}]}]}
I0412 15:28:15.543900       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:958461 scale:-9} d:{Dec:<nil>} s:958461n Format:DecimalSI}, 1
I0412 15:28:15.543957       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:28:15.544009       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:28:15.544169       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:28:51.688711       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 10 items received
I0412 15:29:15.532706       1 recommender.go:166] Recommender Run
I0412 15:29:15.532740       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:29:15.532748       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:29:15.546665       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009867b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0bc42612-39b7-4678-9603-742a62e245d3 0bc42612-39b7-4678-9603-742a62e245d3] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd200 TLS:0xc0005220b0}
I0412 15:29:15.547668       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:29:15.547784       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:04 +0000 UTC Window:{Duration:17.719s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1845702 scale:-9} d:{Dec:<nil>} s:1845702n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:29:15.547806       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1845702 scale:-9} d:{Dec:<nil>} s:1845702n Format:DecimalSI}, 2
I0412 15:29:15.547876       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:04 +0000 UTC Window:{Duration:12.469s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13548239 scale:-9} d:{Dec:<nil>} s:13548239n Format:DecimalSI} memory:{i:{value:165478400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:29:15.547896       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13548239 scale:-9} d:{Dec:<nil>} s:13548239n Format:DecimalSI}, 14
I0412 15:29:15.547967       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:09 +0000 UTC Window:{Duration:12.788s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1874960 scale:-9} d:{Dec:<nil>} s:1874960n Format:DecimalSI} memory:{i:{value:14581760 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:29:15.547991       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1874960 scale:-9} d:{Dec:<nil>} s:1874960n Format:DecimalSI}, 2
I0412 15:29:15.548059       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:47 +0000 UTC Window:{Duration:12.331s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:29:15.548076       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:29:15.548090       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:29:15.548146       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:10 +0000 UTC Window:{Duration:18.255s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1289071 scale:-9} d:{Dec:<nil>} s:1289071n Format:DecimalSI} memory:{i:{value:6623232 scale:0} d:{Dec:<nil>} s:6468Ki Format:BinarySI}]}]}
I0412 15:29:15.548168       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1289071 scale:-9} d:{Dec:<nil>} s:1289071n Format:DecimalSI}, 2
I0412 15:29:15.548226       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:28:54 +0000 UTC Window:{Duration:23.789s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:34133 scale:-9} d:{Dec:<nil>} s:34133n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:29:15.548239       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:34133 scale:-9} d:{Dec:<nil>} s:34133n Format:DecimalSI}, 1
I0412 15:29:15.548295       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:10 +0000 UTC Window:{Duration:19.76s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2826973 scale:-9} d:{Dec:<nil>} s:2826973n Format:DecimalSI} memory:{i:{value:18333696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:29:15.548312       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2826973 scale:-9} d:{Dec:<nil>} s:2826973n Format:DecimalSI}, 3
I0412 15:29:15.548394       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:00 +0000 UTC Window:{Duration:17.231s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:106029 scale:-9} d:{Dec:<nil>} s:106029n Format:DecimalSI} memory:{i:{value:10244096 scale:0} d:{Dec:<nil>} s:10004Ki Format:BinarySI}]}]}
I0412 15:29:15.548416       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:106029 scale:-9} d:{Dec:<nil>} s:106029n Format:DecimalSI}, 1
I0412 15:29:15.548488       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:04 +0000 UTC Window:{Duration:16.037s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:16960 scale:-9} d:{Dec:<nil>} s:16960n Format:DecimalSI} memory:{i:{value:11649024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:29:15.548506       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:16960 scale:-9} d:{Dec:<nil>} s:16960n Format:DecimalSI}, 1
I0412 15:29:15.548564       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:08 +0000 UTC Window:{Duration:18.272s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:130199 scale:-9} d:{Dec:<nil>} s:130199n Format:DecimalSI} memory:{i:{value:10948608 scale:0} d:{Dec:<nil>} s:10692Ki Format:BinarySI}]}]}
I0412 15:29:15.548587       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:130199 scale:-9} d:{Dec:<nil>} s:130199n Format:DecimalSI}, 1
I0412 15:29:15.548682       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:02 +0000 UTC Window:{Duration:16.351s} Containers:[{Name:updater Usage:map[cpu:{i:{value:44767 scale:-9} d:{Dec:<nil>} s:44767n Format:DecimalSI} memory:{i:{value:11968512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:29:15.548702       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:44767 scale:-9} d:{Dec:<nil>} s:44767n Format:DecimalSI}, 1
I0412 15:29:15.548757       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:08 +0000 UTC Window:{Duration:14.425s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1652824 scale:-9} d:{Dec:<nil>} s:1652824n Format:DecimalSI} memory:{i:{value:49221632 scale:0} d:{Dec:<nil>} s:48068Ki Format:BinarySI}]}]}
I0412 15:29:15.548774       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1652824 scale:-9} d:{Dec:<nil>} s:1652824n Format:DecimalSI}, 2
I0412 15:29:15.548862       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:29:15.548891       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:29:15.549160       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:30:02.025258       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 15:30:10.316540       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 0 items received
I0412 15:30:15.532467       1 recommender.go:166] Recommender Run
I0412 15:30:15.532501       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:30:15.532510       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:30:15.547351       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bb15e052-d454-4733-a36c-abe396390332 bb15e052-d454-4733-a36c-abe396390332] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082e360 TLS:0xc0005220b0}
I0412 15:30:15.548351       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:30:15.548477       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:09 +0000 UTC Window:{Duration:19.258s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2117717 scale:-9} d:{Dec:<nil>} s:2117717n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:30:15.548497       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2117717 scale:-9} d:{Dec:<nil>} s:2117717n Format:DecimalSI}, 3
I0412 15:30:15.548544       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:03 +0000 UTC Window:{Duration:16.866s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:15177576 scale:-9} d:{Dec:<nil>} s:15177576n Format:DecimalSI} memory:{i:{value:163737600 scale:0} d:{Dec:<nil>} s:159900Ki Format:BinarySI}]}]}
I0412 15:30:15.548559       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:15177576 scale:-9} d:{Dec:<nil>} s:15177576n Format:DecimalSI}, 16
I0412 15:30:15.548597       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:07 +0000 UTC Window:{Duration:16.672s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1816818 scale:-9} d:{Dec:<nil>} s:1816818n Format:DecimalSI} memory:{i:{value:14585856 scale:0} d:{Dec:<nil>} s:14244Ki Format:BinarySI}]}]}
I0412 15:30:15.548646       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1816818 scale:-9} d:{Dec:<nil>} s:1816818n Format:DecimalSI}, 2
I0412 15:30:15.548752       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:04 +0000 UTC Window:{Duration:16.829s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:30:15.548802       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:30:15.548819       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:30:15.548860       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:06 +0000 UTC Window:{Duration:12.312s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:808073 scale:-9} d:{Dec:<nil>} s:808073n Format:DecimalSI} memory:{i:{value:6635520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:30:15.548867       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:808073 scale:-9} d:{Dec:<nil>} s:808073n Format:DecimalSI}, 1
I0412 15:30:15.548901       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:55 +0000 UTC Window:{Duration:13.798s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:66169 scale:-9} d:{Dec:<nil>} s:66169n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:30:15.548907       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:66169 scale:-9} d:{Dec:<nil>} s:66169n Format:DecimalSI}, 1
I0412 15:30:15.548939       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:58 +0000 UTC Window:{Duration:15.538s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2896640 scale:-9} d:{Dec:<nil>} s:2896640n Format:DecimalSI} memory:{i:{value:18698240 scale:0} d:{Dec:<nil>} s:18260Ki Format:BinarySI}]}]}
I0412 15:30:15.548953       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2896640 scale:-9} d:{Dec:<nil>} s:2896640n Format:DecimalSI}, 3
I0412 15:30:15.549008       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:07 +0000 UTC Window:{Duration:18.683s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:365894 scale:-9} d:{Dec:<nil>} s:365894n Format:DecimalSI} memory:{i:{value:9867264 scale:0} d:{Dec:<nil>} s:9636Ki Format:BinarySI}]}]}
I0412 15:30:15.549032       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:365894 scale:-9} d:{Dec:<nil>} s:365894n Format:DecimalSI}, 1
I0412 15:30:15.549089       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:03 +0000 UTC Window:{Duration:11.95s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:104100 scale:-9} d:{Dec:<nil>} s:104100n Format:DecimalSI} memory:{i:{value:11657216 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:30:15.549097       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:104100 scale:-9} d:{Dec:<nil>} s:104100n Format:DecimalSI}, 1
I0412 15:30:15.549131       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:29:59 +0000 UTC Window:{Duration:11.65s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:51330 scale:-9} d:{Dec:<nil>} s:51330n Format:DecimalSI} memory:{i:{value:11001856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:30:15.549138       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:51330 scale:-9} d:{Dec:<nil>} s:51330n Format:DecimalSI}, 1
I0412 15:30:15.549169       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:08 +0000 UTC Window:{Duration:21.242s} Containers:[{Name:updater Usage:map[cpu:{i:{value:504236 scale:-9} d:{Dec:<nil>} s:504236n Format:DecimalSI} memory:{i:{value:11935744 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:30:15.549183       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:504236 scale:-9} d:{Dec:<nil>} s:504236n Format:DecimalSI}, 1
I0412 15:30:15.549216       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:10 +0000 UTC Window:{Duration:18.823s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1854752 scale:-9} d:{Dec:<nil>} s:1854752n Format:DecimalSI} memory:{i:{value:49225728 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:30:15.549223       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1854752 scale:-9} d:{Dec:<nil>} s:1854752n Format:DecimalSI}, 2
I0412 15:30:15.549279       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:30:15.549298       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:30:15.549472       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 15:31:12.428595       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 4 items received
I0412 15:31:15.531670       1 recommender.go:166] Recommender Run
I0412 15:31:15.531706       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:31:15.531710       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:31:15.542878       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762ff0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ad4a787f-d864-4aaf-8dec-71e4918dd70c ad4a787f-d864-4aaf-8dec-71e4918dd70c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363200} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082fe60 TLS:0xc0005220b0}
I0412 15:31:15.543737       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:31:15.543832       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:10 +0000 UTC Window:{Duration:19.476s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2290306 scale:-9} d:{Dec:<nil>} s:2290306n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:31:15.543848       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2290306 scale:-9} d:{Dec:<nil>} s:2290306n Format:DecimalSI}, 3
I0412 15:31:15.543899       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:05 +0000 UTC Window:{Duration:11.222s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13420869 scale:-9} d:{Dec:<nil>} s:13420869n Format:DecimalSI} memory:{i:{value:163737600 scale:0} d:{Dec:<nil>} s:159900Ki Format:BinarySI}]}]}
I0412 15:31:15.543920       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13420869 scale:-9} d:{Dec:<nil>} s:13420869n Format:DecimalSI}, 14
I0412 15:31:15.544008       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:04 +0000 UTC Window:{Duration:15.673s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1683532 scale:-9} d:{Dec:<nil>} s:1683532n Format:DecimalSI} memory:{i:{value:14585856 scale:0} d:{Dec:<nil>} s:14244Ki Format:BinarySI}]}]}
I0412 15:31:15.544086       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1683532 scale:-9} d:{Dec:<nil>} s:1683532n Format:DecimalSI}, 2
I0412 15:31:15.544208       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:55 +0000 UTC Window:{Duration:14.128s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:31:15.544226       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:31:15.544235       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:31:15.544278       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:10 +0000 UTC Window:{Duration:15.525s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1015458 scale:-9} d:{Dec:<nil>} s:1015458n Format:DecimalSI} memory:{i:{value:6692864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:31:15.544295       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1015458 scale:-9} d:{Dec:<nil>} s:1015458n Format:DecimalSI}, 2
I0412 15:31:15.544336       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:11 +0000 UTC Window:{Duration:26.114s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:421842 scale:-9} d:{Dec:<nil>} s:421842n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:31:15.544352       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:421842 scale:-9} d:{Dec:<nil>} s:421842n Format:DecimalSI}, 1
I0412 15:31:15.544387       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:54 +0000 UTC Window:{Duration:13.743s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2667539 scale:-9} d:{Dec:<nil>} s:2667539n Format:DecimalSI} memory:{i:{value:18341888 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:31:15.544393       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2667539 scale:-9} d:{Dec:<nil>} s:2667539n Format:DecimalSI}, 3
I0412 15:31:15.544466       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:53 +0000 UTC Window:{Duration:28.374s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:308098 scale:-9} d:{Dec:<nil>} s:308098n Format:DecimalSI} memory:{i:{value:9867264 scale:0} d:{Dec:<nil>} s:9636Ki Format:BinarySI}]}]}
I0412 15:31:15.544480       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:308098 scale:-9} d:{Dec:<nil>} s:308098n Format:DecimalSI}, 1
I0412 15:31:15.544518       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:01 +0000 UTC Window:{Duration:19.154s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:61240 scale:-9} d:{Dec:<nil>} s:61240n Format:DecimalSI} memory:{i:{value:11636736 scale:0} d:{Dec:<nil>} s:11364Ki Format:BinarySI}]}]}
I0412 15:31:15.544530       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:61240 scale:-9} d:{Dec:<nil>} s:61240n Format:DecimalSI}, 1
I0412 15:31:15.544567       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:09 +0000 UTC Window:{Duration:15.8s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:36645 scale:-9} d:{Dec:<nil>} s:36645n Format:DecimalSI} memory:{i:{value:10969088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:31:15.544581       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:36645 scale:-9} d:{Dec:<nil>} s:36645n Format:DecimalSI}, 1
I0412 15:31:15.544657       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:30:57 +0000 UTC Window:{Duration:15.028s} Containers:[{Name:updater Usage:map[cpu:{i:{value:58424 scale:-9} d:{Dec:<nil>} s:58424n Format:DecimalSI} memory:{i:{value:11956224 scale:0} d:{Dec:<nil>} s:11676Ki Format:BinarySI}]}]}
I0412 15:31:15.544666       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:58424 scale:-9} d:{Dec:<nil>} s:58424n Format:DecimalSI}, 1
I0412 15:31:15.544702       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:05 +0000 UTC Window:{Duration:12.315s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1607226 scale:-9} d:{Dec:<nil>} s:1607226n Format:DecimalSI} memory:{i:{value:49274880 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:31:15.544711       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1607226 scale:-9} d:{Dec:<nil>} s:1607226n Format:DecimalSI}, 2
I0412 15:31:15.544776       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:31:15.544805       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:31:15.544982       1 cluster.go:364] Garbage collection of AggregateCollectionStates triggered
I0412 15:31:15.545013       1 cluster.go:371] Removing empty and not contributive AggregateCollectionState for {namespace:default containerName:workload labelSetKey:app=workload,pod-template-hash=655c5c8d44 labelSetMap:0xc00046b358}
I0412 15:31:15.545026       1 cluster.go:371] Removing empty and not contributive AggregateCollectionState for {namespace:default containerName:workload labelSetKey:app=workload,pod-template-hash=6c8796667f labelSetMap:0xc00046b358}
I0412 15:31:15.545038       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:31:51.244853       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 9 items received
I0412 15:32:06.111136       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 15:32:15.531873       1 recommender.go:166] Recommender Run
I0412 15:32:15.531911       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:32:15.531925       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:32:15.545305       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0570 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[19b1c897-ebc5-4f92-8450-ba3ee6445b5f 19b1c897-ebc5-4f92-8450-ba3ee6445b5f] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd320 TLS:0xc0005220b0}
I0412 15:32:15.546012       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:32:15.546123       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:55 +0000 UTC Window:{Duration:16.173s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2894268 scale:-9} d:{Dec:<nil>} s:2894268n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:32:15.546153       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2894268 scale:-9} d:{Dec:<nil>} s:2894268n Format:DecimalSI}, 3
I0412 15:32:15.546205       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:04 +0000 UTC Window:{Duration:12.835s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:17728087 scale:-9} d:{Dec:<nil>} s:17728087n Format:DecimalSI} memory:{i:{value:163643392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:32:15.546219       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:17728087 scale:-9} d:{Dec:<nil>} s:17728087n Format:DecimalSI}, 18
I0412 15:32:15.546259       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:06 +0000 UTC Window:{Duration:19.693s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2204285 scale:-9} d:{Dec:<nil>} s:2204285n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:32:15.546266       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2204285 scale:-9} d:{Dec:<nil>} s:2204285n Format:DecimalSI}, 3
I0412 15:32:15.546306       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:08 +0000 UTC Window:{Duration:18.831s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:32:15.546320       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:32:15.546327       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:32:15.546361       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:57 +0000 UTC Window:{Duration:12.165s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1383723 scale:-9} d:{Dec:<nil>} s:1383723n Format:DecimalSI} memory:{i:{value:6692864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:32:15.546379       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1383723 scale:-9} d:{Dec:<nil>} s:1383723n Format:DecimalSI}, 2
I0412 15:32:15.546414       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:56 +0000 UTC Window:{Duration:16.93s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:555759 scale:-9} d:{Dec:<nil>} s:555759n Format:DecimalSI} memory:{i:{value:13189120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:32:15.546434       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:555759 scale:-9} d:{Dec:<nil>} s:555759n Format:DecimalSI}, 1
I0412 15:32:15.546468       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:55 +0000 UTC Window:{Duration:21.933s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3353622 scale:-9} d:{Dec:<nil>} s:3353622n Format:DecimalSI} memory:{i:{value:18345984 scale:0} d:{Dec:<nil>} s:17916Ki Format:BinarySI}]}]}
I0412 15:32:15.546483       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3353622 scale:-9} d:{Dec:<nil>} s:3353622n Format:DecimalSI}, 4
I0412 15:32:15.546516       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:11 +0000 UTC Window:{Duration:19.221s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:305707 scale:-9} d:{Dec:<nil>} s:305707n Format:DecimalSI} memory:{i:{value:9875456 scale:0} d:{Dec:<nil>} s:9644Ki Format:BinarySI}]}]}
I0412 15:32:15.546533       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:305707 scale:-9} d:{Dec:<nil>} s:305707n Format:DecimalSI}, 1
I0412 15:32:15.546567       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:56 +0000 UTC Window:{Duration:18.406s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:364229 scale:-9} d:{Dec:<nil>} s:364229n Format:DecimalSI} memory:{i:{value:11636736 scale:0} d:{Dec:<nil>} s:11364Ki Format:BinarySI}]}]}
I0412 15:32:15.546573       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:364229 scale:-9} d:{Dec:<nil>} s:364229n Format:DecimalSI}, 1
I0412 15:32:15.546605       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:11 +0000 UTC Window:{Duration:31.714s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:174307 scale:-9} d:{Dec:<nil>} s:174307n Format:DecimalSI} memory:{i:{value:10969088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:32:15.546612       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:174307 scale:-9} d:{Dec:<nil>} s:174307n Format:DecimalSI}, 1
I0412 15:32:15.546644       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:31:56 +0000 UTC Window:{Duration:25.801s} Containers:[{Name:updater Usage:map[cpu:{i:{value:205340 scale:-9} d:{Dec:<nil>} s:205340n Format:DecimalSI} memory:{i:{value:11956224 scale:0} d:{Dec:<nil>} s:11676Ki Format:BinarySI}]}]}
I0412 15:32:15.546663       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:205340 scale:-9} d:{Dec:<nil>} s:205340n Format:DecimalSI}, 1
I0412 15:32:15.546695       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:07 +0000 UTC Window:{Duration:16.376s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1503786 scale:-9} d:{Dec:<nil>} s:1503786n Format:DecimalSI} memory:{i:{value:49283072 scale:0} d:{Dec:<nil>} s:47Mi Format:BinarySI}]}]}
I0412 15:32:15.546708       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1503786 scale:-9} d:{Dec:<nil>} s:1503786n Format:DecimalSI}, 2
I0412 15:32:15.546766       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:32:15.546778       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:32:15.546962       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:33:15.532746       1 recommender.go:166] Recommender Run
I0412 15:33:15.532816       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:33:15.532824       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:33:15.544709       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058e690 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e8d809b7-12e6-4edd-be0f-8c7fea14e1a8 e8d809b7-12e6-4edd-be0f-8c7fea14e1a8] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 15:33:15.545356       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:33:15.545406       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:09 +0000 UTC Window:{Duration:30.051s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2164120 scale:-9} d:{Dec:<nil>} s:2164120n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:33:15.545420       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2164120 scale:-9} d:{Dec:<nil>} s:2164120n Format:DecimalSI}, 3
I0412 15:33:15.545447       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:11 +0000 UTC Window:{Duration:23.402s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12409836 scale:-9} d:{Dec:<nil>} s:12409836n Format:DecimalSI} memory:{i:{value:163655680 scale:0} d:{Dec:<nil>} s:159820Ki Format:BinarySI}]}]}
I0412 15:33:15.545456       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12409836 scale:-9} d:{Dec:<nil>} s:12409836n Format:DecimalSI}, 13
I0412 15:33:15.545484       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:06 +0000 UTC Window:{Duration:10.432s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1831959 scale:-9} d:{Dec:<nil>} s:1831959n Format:DecimalSI} memory:{i:{value:14585856 scale:0} d:{Dec:<nil>} s:14244Ki Format:BinarySI}]}]}
I0412 15:33:15.545497       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1831959 scale:-9} d:{Dec:<nil>} s:1831959n Format:DecimalSI}, 2
I0412 15:33:15.545529       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:54 +0000 UTC Window:{Duration:16.352s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:33:15.545542       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:33:15.545549       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:33:15.545575       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:09 +0000 UTC Window:{Duration:18.074s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1192209 scale:-9} d:{Dec:<nil>} s:1192209n Format:DecimalSI} memory:{i:{value:6733824 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:33:15.545582       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1192209 scale:-9} d:{Dec:<nil>} s:1192209n Format:DecimalSI}, 2
I0412 15:33:15.545598       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:07 +0000 UTC Window:{Duration:10.687s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:73547 scale:-9} d:{Dec:<nil>} s:73547n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:33:15.545604       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:73547 scale:-9} d:{Dec:<nil>} s:73547n Format:DecimalSI}, 1
I0412 15:33:15.545618       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:04 +0000 UTC Window:{Duration:12.907s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2694584 scale:-9} d:{Dec:<nil>} s:2694584n Format:DecimalSI} memory:{i:{value:18690048 scale:0} d:{Dec:<nil>} s:18252Ki Format:BinarySI}]}]}
I0412 15:33:15.545621       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2694584 scale:-9} d:{Dec:<nil>} s:2694584n Format:DecimalSI}, 3
I0412 15:33:15.545635       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:08 +0000 UTC Window:{Duration:13.384s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:206963 scale:-9} d:{Dec:<nil>} s:206963n Format:DecimalSI} memory:{i:{value:9879552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:33:15.545641       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:206963 scale:-9} d:{Dec:<nil>} s:206963n Format:DecimalSI}, 1
I0412 15:33:15.545656       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:10 +0000 UTC Window:{Duration:18.717s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:59678 scale:-9} d:{Dec:<nil>} s:59678n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:33:15.545659       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:59678 scale:-9} d:{Dec:<nil>} s:59678n Format:DecimalSI}, 1
I0412 15:33:15.545673       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:11 +0000 UTC Window:{Duration:26.716s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:54124 scale:-9} d:{Dec:<nil>} s:54124n Format:DecimalSI} memory:{i:{value:10842112 scale:0} d:{Dec:<nil>} s:10588Ki Format:BinarySI}]}]}
I0412 15:33:15.545678       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:54124 scale:-9} d:{Dec:<nil>} s:54124n Format:DecimalSI}, 1
I0412 15:33:15.545692       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:32:54 +0000 UTC Window:{Duration:13.775s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11956224 scale:0} d:{Dec:<nil>} s:11676Ki Format:BinarySI}]}]}
I0412 15:33:15.545695       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:33:15.545708       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:06 +0000 UTC Window:{Duration:11.439s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:563947 scale:-9} d:{Dec:<nil>} s:563947n Format:DecimalSI} memory:{i:{value:49283072 scale:0} d:{Dec:<nil>} s:47Mi Format:BinarySI}]}]}
I0412 15:33:15.545713       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:563947 scale:-9} d:{Dec:<nil>} s:563947n Format:DecimalSI}, 1
I0412 15:33:15.545750       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:33:15.545766       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:33:15.545888       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:34:15.531749       1 recommender.go:166] Recommender Run
I0412 15:34:15.531783       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:34:15.531792       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:34:15.552774       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6f9bf8b0-e690-4bc5-a3e1-aae1c570a0a0 6f9bf8b0-e690-4bc5-a3e1-aae1c570a0a0] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 15:34:15.553583       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:34:15.553785       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:03 +0000 UTC Window:{Duration:10.819s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1652648 scale:-9} d:{Dec:<nil>} s:1652648n Format:DecimalSI} memory:{i:{value:32182272 scale:0} d:{Dec:<nil>} s:31428Ki Format:BinarySI}]}]}
I0412 15:34:15.553868       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1652648 scale:-9} d:{Dec:<nil>} s:1652648n Format:DecimalSI}, 2
I0412 15:34:15.553987       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:00 +0000 UTC Window:{Duration:13.193s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12882437 scale:-9} d:{Dec:<nil>} s:12882437n Format:DecimalSI} memory:{i:{value:163721216 scale:0} d:{Dec:<nil>} s:159884Ki Format:BinarySI}]}]}
I0412 15:34:15.554045       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12882437 scale:-9} d:{Dec:<nil>} s:12882437n Format:DecimalSI}, 13
I0412 15:34:15.554120       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:56 +0000 UTC Window:{Duration:19.843s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1301264 scale:-9} d:{Dec:<nil>} s:1301264n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:34:15.554168       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1301264 scale:-9} d:{Dec:<nil>} s:1301264n Format:DecimalSI}, 2
I0412 15:34:15.554244       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:55 +0000 UTC Window:{Duration:15.88s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:34:15.554262       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:34:15.554270       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:34:15.554307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:03 +0000 UTC Window:{Duration:17.678s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:754610 scale:-9} d:{Dec:<nil>} s:754610n Format:DecimalSI} memory:{i:{value:6811648 scale:0} d:{Dec:<nil>} s:6652Ki Format:BinarySI}]}]}
I0412 15:34:15.554319       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:754610 scale:-9} d:{Dec:<nil>} s:754610n Format:DecimalSI}, 1
I0412 15:34:15.554356       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:07 +0000 UTC Window:{Duration:17.032s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:632221 scale:-9} d:{Dec:<nil>} s:632221n Format:DecimalSI} memory:{i:{value:12685312 scale:0} d:{Dec:<nil>} s:12388Ki Format:BinarySI}]}]}
I0412 15:34:15.554368       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:632221 scale:-9} d:{Dec:<nil>} s:632221n Format:DecimalSI}, 1
I0412 15:34:15.554403       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:54 +0000 UTC Window:{Duration:15.949s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3163834 scale:-9} d:{Dec:<nil>} s:3163834n Format:DecimalSI} memory:{i:{value:18796544 scale:0} d:{Dec:<nil>} s:18356Ki Format:BinarySI}]}]}
I0412 15:34:15.554422       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3163834 scale:-9} d:{Dec:<nil>} s:3163834n Format:DecimalSI}, 4
I0412 15:34:15.554484       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:00 +0000 UTC Window:{Duration:13.916s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:293187 scale:-9} d:{Dec:<nil>} s:293187n Format:DecimalSI} memory:{i:{value:9699328 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:34:15.554514       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:293187 scale:-9} d:{Dec:<nil>} s:293187n Format:DecimalSI}, 1
I0412 15:34:15.554558       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:09 +0000 UTC Window:{Duration:15.101s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:129262 scale:-9} d:{Dec:<nil>} s:129262n Format:DecimalSI} memory:{i:{value:11628544 scale:0} d:{Dec:<nil>} s:11356Ki Format:BinarySI}]}]}
I0412 15:34:15.554567       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:129262 scale:-9} d:{Dec:<nil>} s:129262n Format:DecimalSI}, 1
I0412 15:34:15.554601       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:00 +0000 UTC Window:{Duration:15.333s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:36326 scale:-9} d:{Dec:<nil>} s:36326n Format:DecimalSI} memory:{i:{value:10842112 scale:0} d:{Dec:<nil>} s:10588Ki Format:BinarySI}]}]}
I0412 15:34:15.554608       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:36326 scale:-9} d:{Dec:<nil>} s:36326n Format:DecimalSI}, 1
I0412 15:34:15.554640       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:33:53 +0000 UTC Window:{Duration:11.888s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11956224 scale:0} d:{Dec:<nil>} s:11676Ki Format:BinarySI}]}]}
I0412 15:34:15.554653       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:34:15.554686       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:00 +0000 UTC Window:{Duration:11.467s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1175372 scale:-9} d:{Dec:<nil>} s:1175372n Format:DecimalSI} memory:{i:{value:49303552 scale:0} d:{Dec:<nil>} s:48148Ki Format:BinarySI}]}]}
I0412 15:34:15.554699       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1175372 scale:-9} d:{Dec:<nil>} s:1175372n Format:DecimalSI}, 2
I0412 15:34:15.554759       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:34:15.554772       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:34:15.554954       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:35:15.533334       1 recommender.go:166] Recommender Run
I0412 15:35:15.533374       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:35:15.533379       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:35:15.548010       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b3d4ca2c-26c4-4dcb-bfea-80615f919bff b3d4ca2c-26c4-4dcb-bfea-80615f919bff] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd0e0 TLS:0xc0005220b0}
I0412 15:35:15.548499       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:35:15.548586       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:09 +0000 UTC Window:{Duration:17.006s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1727625 scale:-9} d:{Dec:<nil>} s:1727625n Format:DecimalSI} memory:{i:{value:32178176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:35:15.548598       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1727625 scale:-9} d:{Dec:<nil>} s:1727625n Format:DecimalSI}, 2
I0412 15:35:15.548652       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:58 +0000 UTC Window:{Duration:10.197s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10899578 scale:-9} d:{Dec:<nil>} s:10899578n Format:DecimalSI} memory:{i:{value:163721216 scale:0} d:{Dec:<nil>} s:159884Ki Format:BinarySI}]}]}
I0412 15:35:15.548661       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10899578 scale:-9} d:{Dec:<nil>} s:10899578n Format:DecimalSI}, 11
I0412 15:35:15.548683       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:04 +0000 UTC Window:{Duration:15.23s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1362376 scale:-9} d:{Dec:<nil>} s:1362376n Format:DecimalSI} memory:{i:{value:14594048 scale:0} d:{Dec:<nil>} s:14252Ki Format:BinarySI}]}]}
I0412 15:35:15.548690       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1362376 scale:-9} d:{Dec:<nil>} s:1362376n Format:DecimalSI}, 2
I0412 15:35:15.548712       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:00 +0000 UTC Window:{Duration:27.336s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2158 scale:-9} d:{Dec:<nil>} s:2158n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:35:15.548719       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:35:15.548724       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2158 scale:-9} d:{Dec:<nil>} s:2158n Format:DecimalSI}, 1
I0412 15:35:15.548741       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:04 +0000 UTC Window:{Duration:13.475s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:966456 scale:-9} d:{Dec:<nil>} s:966456n Format:DecimalSI} memory:{i:{value:6545408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:35:15.548744       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:966456 scale:-9} d:{Dec:<nil>} s:966456n Format:DecimalSI}, 1
I0412 15:35:15.548762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:58 +0000 UTC Window:{Duration:14.634s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:378775 scale:-9} d:{Dec:<nil>} s:378775n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:35:15.548771       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:378775 scale:-9} d:{Dec:<nil>} s:378775n Format:DecimalSI}, 1
I0412 15:35:15.548788       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:06 +0000 UTC Window:{Duration:13.25s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2440452 scale:-9} d:{Dec:<nil>} s:2440452n Format:DecimalSI} memory:{i:{value:18812928 scale:0} d:{Dec:<nil>} s:18372Ki Format:BinarySI}]}]}
I0412 15:35:15.548792       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2440452 scale:-9} d:{Dec:<nil>} s:2440452n Format:DecimalSI}, 3
I0412 15:35:15.548808       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:56 +0000 UTC Window:{Duration:18.723s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:235058 scale:-9} d:{Dec:<nil>} s:235058n Format:DecimalSI} memory:{i:{value:9715712 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:35:15.548811       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:235058 scale:-9} d:{Dec:<nil>} s:235058n Format:DecimalSI}, 1
I0412 15:35:15.548829       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:08 +0000 UTC Window:{Duration:21.301s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:127317 scale:-9} d:{Dec:<nil>} s:127317n Format:DecimalSI} memory:{i:{value:11628544 scale:0} d:{Dec:<nil>} s:11356Ki Format:BinarySI}]}]}
I0412 15:35:15.548833       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:127317 scale:-9} d:{Dec:<nil>} s:127317n Format:DecimalSI}, 1
I0412 15:35:15.548849       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:59 +0000 UTC Window:{Duration:15.366s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:45490 scale:-9} d:{Dec:<nil>} s:45490n Format:DecimalSI} memory:{i:{value:10842112 scale:0} d:{Dec:<nil>} s:10588Ki Format:BinarySI}]}]}
I0412 15:35:15.548855       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:45490 scale:-9} d:{Dec:<nil>} s:45490n Format:DecimalSI}, 1
I0412 15:35:15.548873       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:07 +0000 UTC Window:{Duration:11.185s} Containers:[{Name:updater Usage:map[cpu:{i:{value:31113 scale:-9} d:{Dec:<nil>} s:31113n Format:DecimalSI} memory:{i:{value:11915264 scale:0} d:{Dec:<nil>} s:11636Ki Format:BinarySI}]}]}
I0412 15:35:15.548879       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:31113 scale:-9} d:{Dec:<nil>} s:31113n Format:DecimalSI}, 1
I0412 15:35:15.548897       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:34:59 +0000 UTC Window:{Duration:14.262s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:931005 scale:-9} d:{Dec:<nil>} s:931005n Format:DecimalSI} memory:{i:{value:49401856 scale:0} d:{Dec:<nil>} s:48244Ki Format:BinarySI}]}]}
I0412 15:35:15.548901       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:931005 scale:-9} d:{Dec:<nil>} s:931005n Format:DecimalSI}, 1
I0412 15:35:15.548937       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:35:15.548947       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:35:15.549051       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:35:25.897611       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 0 items received
I0412 15:36:04.694393       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 0 items received
I0412 15:36:15.531951       1 recommender.go:166] Recommender Run
I0412 15:36:15.531975       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:36:15.531981       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:36:15.545496       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0ed0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c3a68b08-d534-41c8-9a2a-c453ecc1e8a9 c3a68b08-d534-41c8-9a2a-c453ecc1e8a9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe6c0 TLS:0xc0005220b0}
I0412 15:36:15.546046       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:36:15.546108       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:03 +0000 UTC Window:{Duration:13.634s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1989438 scale:-9} d:{Dec:<nil>} s:1989438n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:36:15.546124       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1989438 scale:-9} d:{Dec:<nil>} s:1989438n Format:DecimalSI}, 2
I0412 15:36:15.546199       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:06 +0000 UTC Window:{Duration:18.912s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12662700 scale:-9} d:{Dec:<nil>} s:12662700n Format:DecimalSI} memory:{i:{value:163762176 scale:0} d:{Dec:<nil>} s:159924Ki Format:BinarySI}]}]}
I0412 15:36:15.546213       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12662700 scale:-9} d:{Dec:<nil>} s:12662700n Format:DecimalSI}, 13
I0412 15:36:15.546250       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:06 +0000 UTC Window:{Duration:18.397s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1653149 scale:-9} d:{Dec:<nil>} s:1653149n Format:DecimalSI} memory:{i:{value:14594048 scale:0} d:{Dec:<nil>} s:14252Ki Format:BinarySI}]}]}
I0412 15:36:15.546264       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1653149 scale:-9} d:{Dec:<nil>} s:1653149n Format:DecimalSI}, 2
I0412 15:36:15.546307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:58 +0000 UTC Window:{Duration:12.239s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:36:15.546320       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:36:15.546328       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:36:15.546361       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:09 +0000 UTC Window:{Duration:14.576s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:801866 scale:-9} d:{Dec:<nil>} s:801866n Format:DecimalSI} memory:{i:{value:6549504 scale:0} d:{Dec:<nil>} s:6396Ki Format:BinarySI}]}]}
I0412 15:36:15.546375       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:801866 scale:-9} d:{Dec:<nil>} s:801866n Format:DecimalSI}, 1
I0412 15:36:15.546407       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:02 +0000 UTC Window:{Duration:10.188s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:810463 scale:-9} d:{Dec:<nil>} s:810463n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:36:15.546414       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:810463 scale:-9} d:{Dec:<nil>} s:810463n Format:DecimalSI}, 1
I0412 15:36:15.546460       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:01 +0000 UTC Window:{Duration:18.838s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3525533 scale:-9} d:{Dec:<nil>} s:3525533n Format:DecimalSI} memory:{i:{value:18837504 scale:0} d:{Dec:<nil>} s:18396Ki Format:BinarySI}]}]}
I0412 15:36:15.546476       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3525533 scale:-9} d:{Dec:<nil>} s:3525533n Format:DecimalSI}, 4
I0412 15:36:15.546511       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:08 +0000 UTC Window:{Duration:28.055s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:376546 scale:-9} d:{Dec:<nil>} s:376546n Format:DecimalSI} memory:{i:{value:9740288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:36:15.546527       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:376546 scale:-9} d:{Dec:<nil>} s:376546n Format:DecimalSI}, 1
I0412 15:36:15.546561       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:11 +0000 UTC Window:{Duration:17.095s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:24861 scale:-9} d:{Dec:<nil>} s:24861n Format:DecimalSI} memory:{i:{value:11628544 scale:0} d:{Dec:<nil>} s:11356Ki Format:BinarySI}]}]}
I0412 15:36:15.546573       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:24861 scale:-9} d:{Dec:<nil>} s:24861n Format:DecimalSI}, 1
I0412 15:36:15.546605       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:00 +0000 UTC Window:{Duration:19.269s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:100576 scale:-9} d:{Dec:<nil>} s:100576n Format:DecimalSI} memory:{i:{value:10862592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:36:15.546618       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:100576 scale:-9} d:{Dec:<nil>} s:100576n Format:DecimalSI}, 1
I0412 15:36:15.546648       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:59 +0000 UTC Window:{Duration:16.948s} Containers:[{Name:updater Usage:map[cpu:{i:{value:128864 scale:-9} d:{Dec:<nil>} s:128864n Format:DecimalSI} memory:{i:{value:11915264 scale:0} d:{Dec:<nil>} s:11636Ki Format:BinarySI}]}]}
I0412 15:36:15.546659       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:128864 scale:-9} d:{Dec:<nil>} s:128864n Format:DecimalSI}, 1
I0412 15:36:15.546691       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:35:59 +0000 UTC Window:{Duration:16.82s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1206837 scale:-9} d:{Dec:<nil>} s:1206837n Format:DecimalSI} memory:{i:{value:49434624 scale:0} d:{Dec:<nil>} s:48276Ki Format:BinarySI}]}]}
I0412 15:36:15.546702       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1206837 scale:-9} d:{Dec:<nil>} s:1206837n Format:DecimalSI}, 2
I0412 15:36:15.546751       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:36:15.546772       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:36:15.546904       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:36:16.468465       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 15:36:45.030116       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 5 items received
I0412 15:36:57.754001       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 15:37:15.531636       1 recommender.go:166] Recommender Run
I0412 15:37:15.531670       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:37:15.531674       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:37:15.544954       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882780 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1465d221-5260-474d-819c-53fc4522b4ce 1465d221-5260-474d-819c-53fc4522b4ce] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003c80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd560 TLS:0xc0005220b0}
I0412 15:37:15.545613       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:37:15.545677       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:09 +0000 UTC Window:{Duration:15.202s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1681094 scale:-9} d:{Dec:<nil>} s:1681094n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:37:15.545689       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1681094 scale:-9} d:{Dec:<nil>} s:1681094n Format:DecimalSI}, 2
I0412 15:37:15.545716       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:08 +0000 UTC Window:{Duration:15.513s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10242312 scale:-9} d:{Dec:<nil>} s:10242312n Format:DecimalSI} memory:{i:{value:163778560 scale:0} d:{Dec:<nil>} s:159940Ki Format:BinarySI}]}]}
I0412 15:37:15.545721       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10242312 scale:-9} d:{Dec:<nil>} s:10242312n Format:DecimalSI}, 11
I0412 15:37:15.545741       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:05 +0000 UTC Window:{Duration:13.698s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1639655 scale:-9} d:{Dec:<nil>} s:1639655n Format:DecimalSI} memory:{i:{value:14598144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:37:15.545752       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1639655 scale:-9} d:{Dec:<nil>} s:1639655n Format:DecimalSI}, 2
I0412 15:37:15.545774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:50 +0000 UTC Window:{Duration:14.186s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:37:15.545782       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:37:15.545786       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:37:15.545806       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:04 +0000 UTC Window:{Duration:19.616s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1075499 scale:-9} d:{Dec:<nil>} s:1075499n Format:DecimalSI} memory:{i:{value:6639616 scale:0} d:{Dec:<nil>} s:6484Ki Format:BinarySI}]}]}
I0412 15:37:15.545809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1075499 scale:-9} d:{Dec:<nil>} s:1075499n Format:DecimalSI}, 2
I0412 15:37:15.545834       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:03 +0000 UTC Window:{Duration:11.566s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:376621 scale:-9} d:{Dec:<nil>} s:376621n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:37:15.545842       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:376621 scale:-9} d:{Dec:<nil>} s:376621n Format:DecimalSI}, 1
I0412 15:37:15.545874       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:08 +0000 UTC Window:{Duration:12.262s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2801255 scale:-9} d:{Dec:<nil>} s:2801255n Format:DecimalSI} memory:{i:{value:18325504 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:37:15.545887       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2801255 scale:-9} d:{Dec:<nil>} s:2801255n Format:DecimalSI}, 3
I0412 15:37:15.545909       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:03 +0000 UTC Window:{Duration:11.312s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:258221 scale:-9} d:{Dec:<nil>} s:258221n Format:DecimalSI} memory:{i:{value:9740288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:37:15.545913       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:258221 scale:-9} d:{Dec:<nil>} s:258221n Format:DecimalSI}, 1
I0412 15:37:15.545937       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:00 +0000 UTC Window:{Duration:17.998s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:58117 scale:-9} d:{Dec:<nil>} s:58117n Format:DecimalSI} memory:{i:{value:11628544 scale:0} d:{Dec:<nil>} s:11356Ki Format:BinarySI}]}]}
I0412 15:37:15.545951       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:58117 scale:-9} d:{Dec:<nil>} s:58117n Format:DecimalSI}, 1
I0412 15:37:15.545978       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:10 +0000 UTC Window:{Duration:16.693s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:85484 scale:-9} d:{Dec:<nil>} s:85484n Format:DecimalSI} memory:{i:{value:10866688 scale:0} d:{Dec:<nil>} s:10612Ki Format:BinarySI}]}]}
I0412 15:37:15.545986       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:85484 scale:-9} d:{Dec:<nil>} s:85484n Format:DecimalSI}, 1
I0412 15:37:15.546005       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:36:59 +0000 UTC Window:{Duration:11.322s} Containers:[{Name:updater Usage:map[cpu:{i:{value:225755 scale:-9} d:{Dec:<nil>} s:225755n Format:DecimalSI} memory:{i:{value:11919360 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:37:15.546008       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:225755 scale:-9} d:{Dec:<nil>} s:225755n Format:DecimalSI}, 1
I0412 15:37:15.546032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:10 +0000 UTC Window:{Duration:19.145s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1550901 scale:-9} d:{Dec:<nil>} s:1550901n Format:DecimalSI} memory:{i:{value:49467392 scale:0} d:{Dec:<nil>} s:48308Ki Format:BinarySI}]}]}
I0412 15:37:15.546038       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1550901 scale:-9} d:{Dec:<nil>} s:1550901n Format:DecimalSI}, 2
I0412 15:37:15.546078       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:37:15.546090       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:37:15.546215       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:37:36.115015       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 6 items received
I0412 15:38:00.249191       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 5 items received
I0412 15:38:15.532724       1 recommender.go:166] Recommender Run
I0412 15:38:15.532751       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:38:15.532756       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:38:15.548022       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058f4a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[38134e91-f43f-41d5-a163-6c8e04b57171 38134e91-f43f-41d5-a163-6c8e04b57171] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 15:38:15.549266       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:38:15.549391       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:00 +0000 UTC Window:{Duration:12.384s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1830668 scale:-9} d:{Dec:<nil>} s:1830668n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:38:15.549414       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1830668 scale:-9} d:{Dec:<nil>} s:1830668n Format:DecimalSI}, 2
I0412 15:38:15.549494       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:09 +0000 UTC Window:{Duration:13.141s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:15001674 scale:-9} d:{Dec:<nil>} s:15001674n Format:DecimalSI} memory:{i:{value:163823616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:38:15.549512       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:15001674 scale:-9} d:{Dec:<nil>} s:15001674n Format:DecimalSI}, 16
I0412 15:38:15.549570       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:03 +0000 UTC Window:{Duration:14.263s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1620977 scale:-9} d:{Dec:<nil>} s:1620977n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:38:15.549640       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1620977 scale:-9} d:{Dec:<nil>} s:1620977n Format:DecimalSI}, 2
I0412 15:38:15.549748       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:59 +0000 UTC Window:{Duration:27.599s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:3007 scale:-9} d:{Dec:<nil>} s:3007n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:38:15.549809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:38:15.549863       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3007 scale:-9} d:{Dec:<nil>} s:3007n Format:DecimalSI}, 1
I0412 15:38:15.549967       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:58 +0000 UTC Window:{Duration:18.991s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1021957 scale:-9} d:{Dec:<nil>} s:1021957n Format:DecimalSI} memory:{i:{value:6729728 scale:0} d:{Dec:<nil>} s:6572Ki Format:BinarySI}]}]}
I0412 15:38:15.550041       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1021957 scale:-9} d:{Dec:<nil>} s:1021957n Format:DecimalSI}, 2
I0412 15:38:15.550175       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:01 +0000 UTC Window:{Duration:11.763s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:431012 scale:-9} d:{Dec:<nil>} s:431012n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:38:15.550194       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:431012 scale:-9} d:{Dec:<nil>} s:431012n Format:DecimalSI}, 1
I0412 15:38:15.550254       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:05 +0000 UTC Window:{Duration:16.62s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2761793 scale:-9} d:{Dec:<nil>} s:2761793n Format:DecimalSI} memory:{i:{value:18325504 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:38:15.550272       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2761793 scale:-9} d:{Dec:<nil>} s:2761793n Format:DecimalSI}, 3
I0412 15:38:15.550327       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:07 +0000 UTC Window:{Duration:15.82s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:362831 scale:-9} d:{Dec:<nil>} s:362831n Format:DecimalSI} memory:{i:{value:9740288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:38:15.550346       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:362831 scale:-9} d:{Dec:<nil>} s:362831n Format:DecimalSI}, 1
I0412 15:38:15.550400       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:10 +0000 UTC Window:{Duration:15.493s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:122571 scale:-9} d:{Dec:<nil>} s:122571n Format:DecimalSI} memory:{i:{value:11628544 scale:0} d:{Dec:<nil>} s:11356Ki Format:BinarySI}]}]}
I0412 15:38:15.550414       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:122571 scale:-9} d:{Dec:<nil>} s:122571n Format:DecimalSI}, 1
I0412 15:38:15.550469       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:05 +0000 UTC Window:{Duration:17.501s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:212216 scale:-9} d:{Dec:<nil>} s:212216n Format:DecimalSI} memory:{i:{value:10866688 scale:0} d:{Dec:<nil>} s:10612Ki Format:BinarySI}]}]}
I0412 15:38:15.550532       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:212216 scale:-9} d:{Dec:<nil>} s:212216n Format:DecimalSI}, 1
I0412 15:38:15.550630       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:37:57 +0000 UTC Window:{Duration:18.341s} Containers:[{Name:updater Usage:map[cpu:{i:{value:20555 scale:-9} d:{Dec:<nil>} s:20555n Format:DecimalSI} memory:{i:{value:11919360 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:38:15.550685       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:20555 scale:-9} d:{Dec:<nil>} s:20555n Format:DecimalSI}, 1
I0412 15:38:15.550792       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:01 +0000 UTC Window:{Duration:10.504s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1399086 scale:-9} d:{Dec:<nil>} s:1399086n Format:DecimalSI} memory:{i:{value:49467392 scale:0} d:{Dec:<nil>} s:48308Ki Format:BinarySI}]}]}
I0412 15:38:15.550809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1399086 scale:-9} d:{Dec:<nil>} s:1399086n Format:DecimalSI}, 2
I0412 15:38:15.550903       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:38:15.550931       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:38:15.551185       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 15:38:15.551205       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:38:15.551212       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:38:15.561826       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007463f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fce7563c-8447-4622-8192-8782be0f4e62] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4900 TLS:0xc0005220b0}
I0412 15:38:15.578239       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009865d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d678422b-3414-4efc-b5ed-402a396cd6de] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b19e0 TLS:0xc0005220b0}
I0412 15:38:15.587325       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058e510 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[37038775-dcb0-4d84-8192-4c019bffb189] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cc60 TLS:0xc0005220b0}
I0412 15:38:15.594153       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058ede0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0ec3f52b-c647-49db-9b31-0f3b39cf0ad1] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d320 TLS:0xc0005220b0}
I0412 15:38:15.598813       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058fa40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[36a5691f-3f28-4d93-9e44-6ebc84a1a1b0] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363200} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d8c0 TLS:0xc0005220b0}
I0412 15:38:15.608232       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b256418b-6b5a-415e-aa17-60d9820a4b5d] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364900 TLS:0xc0005220b0}
I0412 15:38:15.608314       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:39:15.532728       1 recommender.go:166] Recommender Run
I0412 15:39:15.532771       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:39:15.532784       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:39:15.554393       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746ff0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[306051d3-b008-4df5-8df2-b55530bb9087 306051d3-b008-4df5-8df2-b55530bb9087] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365560 TLS:0xc0005220b0}
I0412 15:39:15.555566       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:39:15.555670       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:10 +0000 UTC Window:{Duration:25.951s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2195214 scale:-9} d:{Dec:<nil>} s:2195214n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.555693       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2195214 scale:-9} d:{Dec:<nil>} s:2195214n Format:DecimalSI}, 3
I0412 15:39:15.555771       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:05 +0000 UTC Window:{Duration:10.804s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12192798 scale:-9} d:{Dec:<nil>} s:12192798n Format:DecimalSI} memory:{i:{value:163725312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.555796       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12192798 scale:-9} d:{Dec:<nil>} s:12192798n Format:DecimalSI}, 13
I0412 15:39:15.555841       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:08 +0000 UTC Window:{Duration:18.166s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1566938 scale:-9} d:{Dec:<nil>} s:1566938n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.555849       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1566938 scale:-9} d:{Dec:<nil>} s:1566938n Format:DecimalSI}, 2
I0412 15:39:15.555890       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:59 +0000 UTC Window:{Duration:19.958s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:39:15.555911       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:39:15.555919       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:39:15.555959       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:01 +0000 UTC Window:{Duration:16.756s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1116853 scale:-9} d:{Dec:<nil>} s:1116853n Format:DecimalSI} memory:{i:{value:6529024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.555975       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1116853 scale:-9} d:{Dec:<nil>} s:1116853n Format:DecimalSI}, 2
I0412 15:39:15.556010       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:04 +0000 UTC Window:{Duration:16.941s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:293607 scale:-9} d:{Dec:<nil>} s:293607n Format:DecimalSI} memory:{i:{value:12685312 scale:0} d:{Dec:<nil>} s:12388Ki Format:BinarySI}]}]}
I0412 15:39:15.556017       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:293607 scale:-9} d:{Dec:<nil>} s:293607n Format:DecimalSI}, 1
I0412 15:39:15.556050       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:05 +0000 UTC Window:{Duration:12.891s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2726243 scale:-9} d:{Dec:<nil>} s:2726243n Format:DecimalSI} memory:{i:{value:18784256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.556073       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2726243 scale:-9} d:{Dec:<nil>} s:2726243n Format:DecimalSI}, 3
I0412 15:39:15.556110       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:38:58 +0000 UTC Window:{Duration:12.744s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:119271 scale:-9} d:{Dec:<nil>} s:119271n Format:DecimalSI} memory:{i:{value:9740288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.556118       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:119271 scale:-9} d:{Dec:<nil>} s:119271n Format:DecimalSI}, 1
I0412 15:39:15.556150       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:09 +0000 UTC Window:{Duration:28.356s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:69544 scale:-9} d:{Dec:<nil>} s:69544n Format:DecimalSI} memory:{i:{value:11628544 scale:0} d:{Dec:<nil>} s:11356Ki Format:BinarySI}]}]}
I0412 15:39:15.556157       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69544 scale:-9} d:{Dec:<nil>} s:69544n Format:DecimalSI}, 1
I0412 15:39:15.556191       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:03 +0000 UTC Window:{Duration:17.556s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:18967 scale:-9} d:{Dec:<nil>} s:18967n Format:DecimalSI} memory:{i:{value:10878976 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.556203       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:18967 scale:-9} d:{Dec:<nil>} s:18967n Format:DecimalSI}, 1
I0412 15:39:15.556236       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:03 +0000 UTC Window:{Duration:12.129s} Containers:[{Name:updater Usage:map[cpu:{i:{value:20364 scale:-9} d:{Dec:<nil>} s:20364n Format:DecimalSI} memory:{i:{value:11919360 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.556242       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:20364 scale:-9} d:{Dec:<nil>} s:20364n Format:DecimalSI}, 1
I0412 15:39:15.556274       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:04 +0000 UTC Window:{Duration:19.96s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:767234 scale:-9} d:{Dec:<nil>} s:767234n Format:DecimalSI} memory:{i:{value:51699712 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:39:15.556281       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:767234 scale:-9} d:{Dec:<nil>} s:767234n Format:DecimalSI}, 1
I0412 15:39:15.556347       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:39:15.556424       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:39:15.556680       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:39:50.320793       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 6 items received
I0412 15:39:55.432934       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 2 items received
I0412 15:40:15.537335       1 recommender.go:166] Recommender Run
I0412 15:40:15.537371       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:40:15.537380       1 cluster_feeder.go:352] Fetched 0 VPAs.
I0412 15:40:15.577154       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987a40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0f8d0ea1-8c3c-4161-81d6-be264f34eee2 0f8d0ea1-8c3c-4161-81d6-be264f34eee2] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd8c0 TLS:0xc0005220b0}
I0412 15:40:15.580192       1 metrics_client.go:75] 12 podMetrics retrieved for all namespaces
I0412 15:40:15.580307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:04 +0000 UTC Window:{Duration:11.825s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1897420 scale:-9} d:{Dec:<nil>} s:1897420n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:40:15.580321       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1897420 scale:-9} d:{Dec:<nil>} s:1897420n Format:DecimalSI}, 2
I0412 15:40:15.580387       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:04 +0000 UTC Window:{Duration:14.346s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13344974 scale:-9} d:{Dec:<nil>} s:13344974n Format:DecimalSI} memory:{i:{value:163725312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:40:15.580403       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13344974 scale:-9} d:{Dec:<nil>} s:13344974n Format:DecimalSI}, 14
I0412 15:40:15.580450       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:08 +0000 UTC Window:{Duration:14.589s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1726917 scale:-9} d:{Dec:<nil>} s:1726917n Format:DecimalSI} memory:{i:{value:14585856 scale:0} d:{Dec:<nil>} s:14244Ki Format:BinarySI}]}]}
I0412 15:40:15.580464       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1726917 scale:-9} d:{Dec:<nil>} s:1726917n Format:DecimalSI}, 2
I0412 15:40:15.580520       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:07 +0000 UTC Window:{Duration:28.98s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:40:15.580528       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:40:15.580543       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:40:15.580592       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:00 +0000 UTC Window:{Duration:11.89s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1255340 scale:-9} d:{Dec:<nil>} s:1255340n Format:DecimalSI} memory:{i:{value:6557696 scale:0} d:{Dec:<nil>} s:6404Ki Format:BinarySI}]}]}
I0412 15:40:15.580648       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1255340 scale:-9} d:{Dec:<nil>} s:1255340n Format:DecimalSI}, 2
I0412 15:40:15.580749       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:39:59 +0000 UTC Window:{Duration:15.38s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:366710 scale:-9} d:{Dec:<nil>} s:366710n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:40:15.580777       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:366710 scale:-9} d:{Dec:<nil>} s:366710n Format:DecimalSI}, 1
I0412 15:40:15.580834       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:12 +0000 UTC Window:{Duration:15.211s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2872986 scale:-9} d:{Dec:<nil>} s:2872986n Format:DecimalSI} memory:{i:{value:18993152 scale:0} d:{Dec:<nil>} s:18548Ki Format:BinarySI}]}]}
I0412 15:40:15.580854       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2872986 scale:-9} d:{Dec:<nil>} s:2872986n Format:DecimalSI}, 3
I0412 15:40:15.580907       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:05 +0000 UTC Window:{Duration:15.391s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:307517 scale:-9} d:{Dec:<nil>} s:307517n Format:DecimalSI} memory:{i:{value:9740288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:40:15.580927       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:307517 scale:-9} d:{Dec:<nil>} s:307517n Format:DecimalSI}, 1
I0412 15:40:15.580976       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:09 +0000 UTC Window:{Duration:26.661s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:197479 scale:-9} d:{Dec:<nil>} s:197479n Format:DecimalSI} memory:{i:{value:11628544 scale:0} d:{Dec:<nil>} s:11356Ki Format:BinarySI}]}]}
I0412 15:40:15.580995       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:197479 scale:-9} d:{Dec:<nil>} s:197479n Format:DecimalSI}, 1
I0412 15:40:15.581046       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:11 +0000 UTC Window:{Duration:15.055s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:69744 scale:-9} d:{Dec:<nil>} s:69744n Format:DecimalSI} memory:{i:{value:10878976 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:40:15.581112       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69744 scale:-9} d:{Dec:<nil>} s:69744n Format:DecimalSI}, 1
I0412 15:40:15.581184       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:04 +0000 UTC Window:{Duration:14.403s} Containers:[{Name:updater Usage:map[cpu:{i:{value:34645 scale:-9} d:{Dec:<nil>} s:34645n Format:DecimalSI} memory:{i:{value:11931648 scale:0} d:{Dec:<nil>} s:11652Ki Format:BinarySI}]}]}
I0412 15:40:15.581204       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:34645 scale:-9} d:{Dec:<nil>} s:34645n Format:DecimalSI}, 1
I0412 15:40:15.581527       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:03 +0000 UTC Window:{Duration:14.074s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1425891 scale:-9} d:{Dec:<nil>} s:1425891n Format:DecimalSI} memory:{i:{value:51822592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:40:15.581548       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1425891 scale:-9} d:{Dec:<nil>} s:1425891n Format:DecimalSI}, 2
I0412 15:40:15.581605       1 cluster_feeder.go:441] ClusterSpec fed with #26 ContainerUsageSamples for #13 containers. Dropped #0 samples.
I0412 15:40:15.581615       1 recommender.go:177] ClusterState is tracking 12 PodStates and 0 VPAs
I0412 15:40:15.581736       1 recommender.go:188] ClusterState is tracking 14 aggregated container states
I0412 15:41:15.533924       1 recommender.go:166] Recommender Run
I0412 15:41:15.533946       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:41:15.533951       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:41:15.534003       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:41:15.547733       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051de00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e522ee1e-b1c8-4fcc-8b0f-b440d4649d4c e522ee1e-b1c8-4fcc-8b0f-b440d4649d4c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363800} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cc60 TLS:0xc0005220b0}
I0412 15:41:15.548270       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:41:15.548323       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-rsdsh GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:12 +0000 UTC Window:{Duration:14.640506432s} Containers:[{Name:workload Usage:map[cpu:{i:{value:2305657 scale:-9} d:{Dec:<nil>} s:2305657n Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548340       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2305657 scale:-9} d:{Dec:<nil>} s:2305657n Format:DecimalSI}, 3
I0412 15:41:15.548376       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-xq97q GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:12 +0000 UTC Window:{Duration:13.788549184s} Containers:[{Name:workload Usage:map[cpu:{i:{value:2591933 scale:-9} d:{Dec:<nil>} s:2591933n Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548387       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2591933 scale:-9} d:{Dec:<nil>} s:2591933n Format:DecimalSI}, 3
I0412 15:41:15.548419       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:04 +0000 UTC Window:{Duration:14.808s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2797676 scale:-9} d:{Dec:<nil>} s:2797676n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548425       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2797676 scale:-9} d:{Dec:<nil>} s:2797676n Format:DecimalSI}, 3
I0412 15:41:15.548456       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:03 +0000 UTC Window:{Duration:17.483s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:26234113 scale:-9} d:{Dec:<nil>} s:26234113n Format:DecimalSI} memory:{i:{value:167542784 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548462       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:26234113 scale:-9} d:{Dec:<nil>} s:26234113n Format:DecimalSI}, 27
I0412 15:41:15.548492       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:05 +0000 UTC Window:{Duration:10.812s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2007584 scale:-9} d:{Dec:<nil>} s:2007584n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548500       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2007584 scale:-9} d:{Dec:<nil>} s:2007584n Format:DecimalSI}, 3
I0412 15:41:15.548541       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:09 +0000 UTC Window:{Duration:17.142s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:41:15.548547       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:41:15.548553       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:41:15.548581       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:00 +0000 UTC Window:{Duration:11.975s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1951231 scale:-9} d:{Dec:<nil>} s:1951231n Format:DecimalSI} memory:{i:{value:6717440 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548585       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1951231 scale:-9} d:{Dec:<nil>} s:1951231n Format:DecimalSI}, 2
I0412 15:41:15.548632       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:08 +0000 UTC Window:{Duration:18.688s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:426316 scale:-9} d:{Dec:<nil>} s:426316n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:41:15.548638       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:426316 scale:-9} d:{Dec:<nil>} s:426316n Format:DecimalSI}, 1
I0412 15:41:15.548667       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:01 +0000 UTC Window:{Duration:13.55s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3993357 scale:-9} d:{Dec:<nil>} s:3993357n Format:DecimalSI} memory:{i:{value:19120128 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548671       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3993357 scale:-9} d:{Dec:<nil>} s:3993357n Format:DecimalSI}, 4
I0412 15:41:15.548724       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:01 +0000 UTC Window:{Duration:13.627s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1740368 scale:-9} d:{Dec:<nil>} s:1740368n Format:DecimalSI} memory:{i:{value:9744384 scale:0} d:{Dec:<nil>} s:9516Ki Format:BinarySI}]}]}
I0412 15:41:15.548731       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1740368 scale:-9} d:{Dec:<nil>} s:1740368n Format:DecimalSI}, 2
I0412 15:41:15.548759       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:40:55 +0000 UTC Window:{Duration:19.305s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:553379 scale:-9} d:{Dec:<nil>} s:553379n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:41:15.548768       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:553379 scale:-9} d:{Dec:<nil>} s:553379n Format:DecimalSI}, 1
I0412 15:41:15.548797       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:02 +0000 UTC Window:{Duration:14.175s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1118659 scale:-9} d:{Dec:<nil>} s:1118659n Format:DecimalSI} memory:{i:{value:10973184 scale:0} d:{Dec:<nil>} s:10716Ki Format:BinarySI}]}]}
I0412 15:41:15.548812       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1118659 scale:-9} d:{Dec:<nil>} s:1118659n Format:DecimalSI}, 2
I0412 15:41:15.548841       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:11 +0000 UTC Window:{Duration:18.526s} Containers:[{Name:updater Usage:map[cpu:{i:{value:1405808 scale:-9} d:{Dec:<nil>} s:1405808n Format:DecimalSI} memory:{i:{value:12021760 scale:0} d:{Dec:<nil>} s:11740Ki Format:BinarySI}]}]}
I0412 15:41:15.548851       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1405808 scale:-9} d:{Dec:<nil>} s:1405808n Format:DecimalSI}, 2
I0412 15:41:15.548878       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:03 +0000 UTC Window:{Duration:17.646s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1012807 scale:-9} d:{Dec:<nil>} s:1012807n Format:DecimalSI} memory:{i:{value:51056640 scale:0} d:{Dec:<nil>} s:49860Ki Format:BinarySI}]}]}
I0412 15:41:15.548886       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1012807 scale:-9} d:{Dec:<nil>} s:1012807n Format:DecimalSI}, 2
I0412 15:41:15.548951       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:41:15.548965       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:41:15.548993       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:41:15.549011       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:41:15.549043       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 0.236\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:41:15.549051       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090a108 ControlledValues:<nil>}:
I0412 15:41:15.549081       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:41:15.549092       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:41:15.549100       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:441971163]
I0412 15:41:15.549106       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:41:15.549114       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:862806899]
I0412 15:41:15.549127       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:41:15.572373       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007468a0} GetBody:0x6d9b40 ContentLength:418 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746930 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a8d46f57-95f7-4c8d-bc12-792b68f9ef30] Cache-Control:[no-cache, private] Content-Length:[2259] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2d80} ContentLength:2259 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0ea0 TLS:0xc0005220b0}
I0412 15:41:15.582914       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0002192f0} GetBody:0x6d9b40 ContentLength:457 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0002193b0 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f103db91-ce1b-43dd-8882-7a41272b04c9] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 15:41:15.594628       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000986030} GetBody:0x6d9b40 ContentLength:639 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009860c0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[580329e1-d24c-4dc9-a81a-eb51ae8bf9d6] Cache-Control:[no-cache, private] Content-Length:[1347] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363c80} ContentLength:1347 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd0e0 TLS:0xc0005220b0}
I0412 15:41:15.594791       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:41:15.594810       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:42:15.533633       1 recommender.go:166] Recommender Run
I0412 15:42:15.533688       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:42:15.533703       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:42:15.533834       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:42:15.533947       1 cluster_feeder.go:401] Deleting Pod {default workload-7b8f975b8d-xq97q}
I0412 15:42:15.549051       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007120f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cc9ed136-acb0-4b74-9cd2-f03f7f500521 cc9ed136-acb0-4b74-9cd2-f03f7f500521] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00030d680 TLS:0xc0005220b0}
I0412 15:42:15.550212       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:42:15.550331       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:02 +0000 UTC Window:{Duration:12.04s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 15:42:15.550361       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:42:15.550444       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-rsdsh GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:09 +0000 UTC Window:{Duration:15.636s} Containers:[{Name:workload Usage:map[cpu:{i:{value:111025 scale:-9} d:{Dec:<nil>} s:111025n Format:DecimalSI} memory:{i:{value:4415488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.550468       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:111025 scale:-9} d:{Dec:<nil>} s:111025n Format:DecimalSI}, 1
I0412 15:42:15.550558       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:00 +0000 UTC Window:{Duration:11.027s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2043348 scale:-9} d:{Dec:<nil>} s:2043348n Format:DecimalSI} memory:{i:{value:32309248 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.550591       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2043348 scale:-9} d:{Dec:<nil>} s:2043348n Format:DecimalSI}, 3
I0412 15:42:15.550667       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:07 +0000 UTC Window:{Duration:17.288s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12104176 scale:-9} d:{Dec:<nil>} s:12104176n Format:DecimalSI} memory:{i:{value:173867008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.550689       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12104176 scale:-9} d:{Dec:<nil>} s:12104176n Format:DecimalSI}, 13
I0412 15:42:15.550759       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:04 +0000 UTC Window:{Duration:15.039s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1544251 scale:-9} d:{Dec:<nil>} s:1544251n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.550781       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1544251 scale:-9} d:{Dec:<nil>} s:1544251n Format:DecimalSI}, 2
I0412 15:42:15.550854       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:56 +0000 UTC Window:{Duration:15.429s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:42:15.550871       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:42:15.550886       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:42:15.550976       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:04 +0000 UTC Window:{Duration:17.949s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1991085 scale:-9} d:{Dec:<nil>} s:1991085n Format:DecimalSI} memory:{i:{value:6823936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.550992       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1991085 scale:-9} d:{Dec:<nil>} s:1991085n Format:DecimalSI}, 2
I0412 15:42:15.551057       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:11 +0000 UTC Window:{Duration:15.04s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:47140 scale:-9} d:{Dec:<nil>} s:47140n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.551140       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:47140 scale:-9} d:{Dec:<nil>} s:47140n Format:DecimalSI}, 1
I0412 15:42:15.551215       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:04 +0000 UTC Window:{Duration:17s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2522941 scale:-9} d:{Dec:<nil>} s:2522941n Format:DecimalSI} memory:{i:{value:19152896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.551234       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2522941 scale:-9} d:{Dec:<nil>} s:2522941n Format:DecimalSI}, 3
I0412 15:42:15.551301       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:08 +0000 UTC Window:{Duration:26.31s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:267920 scale:-9} d:{Dec:<nil>} s:267920n Format:DecimalSI} memory:{i:{value:9879552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.551332       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:267920 scale:-9} d:{Dec:<nil>} s:267920n Format:DecimalSI}, 1
I0412 15:42:15.551395       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:01 +0000 UTC Window:{Duration:13.971s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:85605 scale:-9} d:{Dec:<nil>} s:85605n Format:DecimalSI} memory:{i:{value:11689984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.551416       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:85605 scale:-9} d:{Dec:<nil>} s:85605n Format:DecimalSI}, 1
I0412 15:42:15.551483       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:03 +0000 UTC Window:{Duration:19.276s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:80462 scale:-9} d:{Dec:<nil>} s:80462n Format:DecimalSI} memory:{i:{value:11001856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.551496       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80462 scale:-9} d:{Dec:<nil>} s:80462n Format:DecimalSI}, 1
I0412 15:42:15.551558       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:59 +0000 UTC Window:{Duration:15.8s} Containers:[{Name:updater Usage:map[cpu:{i:{value:72278 scale:-9} d:{Dec:<nil>} s:72278n Format:DecimalSI} memory:{i:{value:12107776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.551588       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:72278 scale:-9} d:{Dec:<nil>} s:72278n Format:DecimalSI}, 1
I0412 15:42:15.551654       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:41:57 +0000 UTC Window:{Duration:11.697s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1050098 scale:-9} d:{Dec:<nil>} s:1050098n Format:DecimalSI} memory:{i:{value:51331072 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:42:15.551674       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1050098 scale:-9} d:{Dec:<nil>} s:1050098n Format:DecimalSI}, 2
I0412 15:42:15.551820       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:42:15.551848       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:42:15.551927       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:42:15.551969       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:42:15.552064       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 0.503\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:42:15.552096       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090bc98 ControlledValues:<nil>}:
I0412 15:42:15.552168       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:42:15.552192       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:42:15.552213       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:441971687]
I0412 15:42:15.552227       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:42:15.552243       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:862544257]
I0412 15:42:15.552262       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:42:15.629526       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728540} GetBody:0x6d9b40 ContentLength:418 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007285d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b02749c0-cd66-46e9-b437-bcfbb7683b32] Cache-Control:[no-cache, private] Content-Length:[2259] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:2259 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b67e0 TLS:0xc0005220b0}
I0412 15:42:15.647684       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c720} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c7b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7e27f7b6-292b-4e8e-ab03-ed33cdeec6fb] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000454360 TLS:0xc0005220b0}
I0412 15:42:15.647876       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:42:15.647898       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:42:35.034103       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 15:43:15.533552       1 recommender.go:166] Recommender Run
I0412 15:43:15.533588       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:43:15.533597       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:43:15.533635       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:43:15.533710       1 cluster_feeder.go:401] Deleting Pod {default workload-7b8f975b8d-rsdsh}
I0412 15:43:15.543322       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e10e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[118496a3-57a6-4765-8570-5cfd5856fd3e 118496a3-57a6-4765-8570-5cfd5856fd3e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082e6c0 TLS:0xc0005220b0}
I0412 15:43:15.543794       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:43:15.543850       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:10 +0000 UTC Window:{Duration:35.838s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 15:43:15.543857       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:43:15.543881       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:05 +0000 UTC Window:{Duration:12.748s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:43:15.543885       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:43:15.543906       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:00 +0000 UTC Window:{Duration:13.853s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1986067 scale:-9} d:{Dec:<nil>} s:1986067n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:43:15.543910       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1986067 scale:-9} d:{Dec:<nil>} s:1986067n Format:DecimalSI}, 2
I0412 15:43:15.543932       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:01 +0000 UTC Window:{Duration:18.926s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12578252 scale:-9} d:{Dec:<nil>} s:12578252n Format:DecimalSI} memory:{i:{value:174960640 scale:0} d:{Dec:<nil>} s:170860Ki Format:BinarySI}]}]}
I0412 15:43:15.543946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12578252 scale:-9} d:{Dec:<nil>} s:12578252n Format:DecimalSI}, 13
I0412 15:43:15.543966       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:10 +0000 UTC Window:{Duration:21.642s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1655669 scale:-9} d:{Dec:<nil>} s:1655669n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:43:15.543977       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1655669 scale:-9} d:{Dec:<nil>} s:1655669n Format:DecimalSI}, 2
I0412 15:43:15.544000       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:00 +0000 UTC Window:{Duration:26.447s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:43:15.544012       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:43:15.544017       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:43:15.544036       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:42:59 +0000 UTC Window:{Duration:14.604s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:2326554 scale:-9} d:{Dec:<nil>} s:2326554n Format:DecimalSI} memory:{i:{value:7086080 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:43:15.544039       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2326554 scale:-9} d:{Dec:<nil>} s:2326554n Format:DecimalSI}, 3
I0412 15:43:15.544059       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:00 +0000 UTC Window:{Duration:19.342s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:427256 scale:-9} d:{Dec:<nil>} s:427256n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 15:43:15.544067       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:427256 scale:-9} d:{Dec:<nil>} s:427256n Format:DecimalSI}, 1
I0412 15:43:15.544086       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:09 +0000 UTC Window:{Duration:26.064s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3210903 scale:-9} d:{Dec:<nil>} s:3210903n Format:DecimalSI} memory:{i:{value:18763776 scale:0} d:{Dec:<nil>} s:18324Ki Format:BinarySI}]}]}
I0412 15:43:15.544094       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3210903 scale:-9} d:{Dec:<nil>} s:3210903n Format:DecimalSI}, 4
I0412 15:43:15.544110       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:07 +0000 UTC Window:{Duration:12.193s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:222012 scale:-9} d:{Dec:<nil>} s:222012n Format:DecimalSI} memory:{i:{value:9932800 scale:0} d:{Dec:<nil>} s:9700Ki Format:BinarySI}]}]}
I0412 15:43:15.544114       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:222012 scale:-9} d:{Dec:<nil>} s:222012n Format:DecimalSI}, 1
I0412 15:43:15.544131       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:05 +0000 UTC Window:{Duration:18.393s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:115859 scale:-9} d:{Dec:<nil>} s:115859n Format:DecimalSI} memory:{i:{value:11915264 scale:0} d:{Dec:<nil>} s:11636Ki Format:BinarySI}]}]}
I0412 15:43:15.544139       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:115859 scale:-9} d:{Dec:<nil>} s:115859n Format:DecimalSI}, 1
I0412 15:43:15.544155       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:06 +0000 UTC Window:{Duration:16.008s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:135494 scale:-9} d:{Dec:<nil>} s:135494n Format:DecimalSI} memory:{i:{value:11227136 scale:0} d:{Dec:<nil>} s:10964Ki Format:BinarySI}]}]}
I0412 15:43:15.544161       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:135494 scale:-9} d:{Dec:<nil>} s:135494n Format:DecimalSI}, 1
I0412 15:43:15.544178       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:09 +0000 UTC Window:{Duration:19.117s} Containers:[{Name:updater Usage:map[cpu:{i:{value:175916 scale:-9} d:{Dec:<nil>} s:175916n Format:DecimalSI} memory:{i:{value:12140544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:43:15.544183       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:175916 scale:-9} d:{Dec:<nil>} s:175916n Format:DecimalSI}, 1
I0412 15:43:15.544199       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:08 +0000 UTC Window:{Duration:15.623s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1100044 scale:-9} d:{Dec:<nil>} s:1100044n Format:DecimalSI} memory:{i:{value:51523584 scale:0} d:{Dec:<nil>} s:50316Ki Format:BinarySI}]}]}
I0412 15:43:15.544205       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1100044 scale:-9} d:{Dec:<nil>} s:1100044n Format:DecimalSI}, 2
I0412 15:43:15.544255       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:43:15.544266       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:43:15.544293       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:43:15.544305       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:43:15.544327       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 0.812\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:43:15.544337       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000605da0 ControlledValues:<nil>}:
I0412 15:43:15.544355       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:43:15.544365       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:43:15.544371       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478244]
I0412 15:43:15.544375       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:43:15.544382       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:862263548]
I0412 15:43:15.544394       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:43:15.561037       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008838f0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883980 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a3366ca8-51b4-48e2-9183-fed6b4ed621e] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003650e0 TLS:0xc0005220b0}
I0412 15:43:15.704080       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00058e150} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058e1e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[95a422be-0dc2-4ffa-8099-ddf1b98f9740] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccf00} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365d40 TLS:0xc0005220b0}
I0412 15:43:15.704251       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:43:15.704274       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:43:36.758302       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 16 items received
I0412 15:44:15.532023       1 recommender.go:166] Recommender Run
I0412 15:44:15.532068       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:44:15.532078       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:44:15.532167       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:44:15.544318       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0002191d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2f5b4354-cd22-43f8-8894-18e754c13694 2f5b4354-cd22-43f8-8894-18e754c13694] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082f680 TLS:0xc0005220b0}
I0412 15:44:15.545547       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:44:15.545641       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:58 +0000 UTC Window:{Duration:10.894s} Containers:[{Name:workload Usage:map[cpu:{i:{value:353864 scale:-9} d:{Dec:<nil>} s:353864n Format:DecimalSI} memory:{i:{value:1527808 scale:0} d:{Dec:<nil>} s:1492Ki Format:BinarySI}]}]}
I0412 15:44:15.545663       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:353864 scale:-9} d:{Dec:<nil>} s:353864n Format:DecimalSI}, 1
I0412 15:44:15.545743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:09 +0000 UTC Window:{Duration:35.157s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:44:15.545769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:44:15.545845       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:05 +0000 UTC Window:{Duration:16.154s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1850501 scale:-9} d:{Dec:<nil>} s:1850501n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:44:15.545870       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1850501 scale:-9} d:{Dec:<nil>} s:1850501n Format:DecimalSI}, 2
I0412 15:44:15.545945       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:03 +0000 UTC Window:{Duration:14.756s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10638791 scale:-9} d:{Dec:<nil>} s:10638791n Format:DecimalSI} memory:{i:{value:174325760 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:44:15.545973       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10638791 scale:-9} d:{Dec:<nil>} s:10638791n Format:DecimalSI}, 11
I0412 15:44:15.546044       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:10 +0000 UTC Window:{Duration:31.183s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1507520 scale:-9} d:{Dec:<nil>} s:1507520n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:44:15.546062       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1507520 scale:-9} d:{Dec:<nil>} s:1507520n Format:DecimalSI}, 2
I0412 15:44:15.546143       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:58 +0000 UTC Window:{Duration:12.389s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:44:15.546170       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:44:15.546185       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:44:15.546248       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:00 +0000 UTC Window:{Duration:16.247s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1978888 scale:-9} d:{Dec:<nil>} s:1978888n Format:DecimalSI} memory:{i:{value:7335936 scale:0} d:{Dec:<nil>} s:7164Ki Format:BinarySI}]}]}
I0412 15:44:15.546272       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1978888 scale:-9} d:{Dec:<nil>} s:1978888n Format:DecimalSI}, 2
I0412 15:44:15.546336       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:08 +0000 UTC Window:{Duration:22.323s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:302692 scale:-9} d:{Dec:<nil>} s:302692n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:44:15.546348       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:302692 scale:-9} d:{Dec:<nil>} s:302692n Format:DecimalSI}, 1
I0412 15:44:15.546407       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:05 +0000 UTC Window:{Duration:18.358s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2480771 scale:-9} d:{Dec:<nil>} s:2480771n Format:DecimalSI} memory:{i:{value:18755584 scale:0} d:{Dec:<nil>} s:18316Ki Format:BinarySI}]}]}
I0412 15:44:15.546436       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2480771 scale:-9} d:{Dec:<nil>} s:2480771n Format:DecimalSI}, 3
I0412 15:44:15.546503       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:03 +0000 UTC Window:{Duration:12.796s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:175992 scale:-9} d:{Dec:<nil>} s:175992n Format:DecimalSI} memory:{i:{value:9969664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:44:15.546522       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:175992 scale:-9} d:{Dec:<nil>} s:175992n Format:DecimalSI}, 1
I0412 15:44:15.546583       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:58 +0000 UTC Window:{Duration:15.294s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:67150 scale:-9} d:{Dec:<nil>} s:67150n Format:DecimalSI} memory:{i:{value:11972608 scale:0} d:{Dec:<nil>} s:11692Ki Format:BinarySI}]}]}
I0412 15:44:15.546605       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:67150 scale:-9} d:{Dec:<nil>} s:67150n Format:DecimalSI}, 1
I0412 15:44:15.546670       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:10 +0000 UTC Window:{Duration:19.521s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:47487 scale:-9} d:{Dec:<nil>} s:47487n Format:DecimalSI} memory:{i:{value:11227136 scale:0} d:{Dec:<nil>} s:10964Ki Format:BinarySI}]}]}
I0412 15:44:15.546683       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:47487 scale:-9} d:{Dec:<nil>} s:47487n Format:DecimalSI}, 1
I0412 15:44:15.546742       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:43:55 +0000 UTC Window:{Duration:16.821s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:12140544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:44:15.546776       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:44:15.546841       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:04 +0000 UTC Window:{Duration:19.79s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1178069 scale:-9} d:{Dec:<nil>} s:1178069n Format:DecimalSI} memory:{i:{value:51564544 scale:0} d:{Dec:<nil>} s:50356Ki Format:BinarySI}]}]}
I0412 15:44:15.546859       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1178069 scale:-9} d:{Dec:<nil>} s:1178069n Format:DecimalSI}, 2
I0412 15:44:15.547002       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:44:15.547032       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:44:15.547098       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:44:15.547140       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:44:15.547215       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 1.163\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:44:15.547234       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090a018 ControlledValues:<nil>}:
I0412 15:44:15.547308       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:44:15.547330       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:44:15.547350       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478258]
I0412 15:44:15.547365       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:44:15.547381       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:861992399]
I0412 15:44:15.547408       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:44:15.568802       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762c60} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762e10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[435fbcf3-86a5-47db-9859-ba4a954201c6] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363680} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d440 TLS:0xc0005220b0}
I0412 15:44:15.581938       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712240} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712300 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[59e0d4bf-b313-4c45-b6aa-f9f1335929fd] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd200 TLS:0xc0005220b0}
I0412 15:44:15.582265       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:44:15.582313       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:44:19.253409       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 0 items received
I0412 15:44:45.472980       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 24 items received
I0412 15:45:15.532963       1 recommender.go:166] Recommender Run
I0412 15:45:15.532997       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:45:15.533007       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:45:15.533078       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:45:15.549117       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058f950 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b9eb90e7-5878-48da-8763-67df6d5b4dbd b9eb90e7-5878-48da-8763-67df6d5b4dbd] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cdb00 TLS:0xc0005220b0}
I0412 15:45:15.550566       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:45:15.550682       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:09 +0000 UTC Window:{Duration:18.84s} Containers:[{Name:workload Usage:map[cpu:{i:{value:126167 scale:-9} d:{Dec:<nil>} s:126167n Format:DecimalSI} memory:{i:{value:1540096 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:45:15.550714       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:126167 scale:-9} d:{Dec:<nil>} s:126167n Format:DecimalSI}, 1
I0412 15:45:15.550795       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:07 +0000 UTC Window:{Duration:25.792s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 15:45:15.550819       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:45:15.550895       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:11 +0000 UTC Window:{Duration:17.632s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2020587 scale:-9} d:{Dec:<nil>} s:2020587n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:45:15.550917       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2020587 scale:-9} d:{Dec:<nil>} s:2020587n Format:DecimalSI}, 3
I0412 15:45:15.550989       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:00 +0000 UTC Window:{Duration:17.521s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12500770 scale:-9} d:{Dec:<nil>} s:12500770n Format:DecimalSI} memory:{i:{value:174280704 scale:0} d:{Dec:<nil>} s:170196Ki Format:BinarySI}]}]}
I0412 15:45:15.551021       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12500770 scale:-9} d:{Dec:<nil>} s:12500770n Format:DecimalSI}, 13
I0412 15:45:15.551090       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:09 +0000 UTC Window:{Duration:29.386s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1512727 scale:-9} d:{Dec:<nil>} s:1512727n Format:DecimalSI} memory:{i:{value:14856192 scale:0} d:{Dec:<nil>} s:14508Ki Format:BinarySI}]}]}
I0412 15:45:15.551112       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1512727 scale:-9} d:{Dec:<nil>} s:1512727n Format:DecimalSI}, 2
I0412 15:45:15.551210       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:00 +0000 UTC Window:{Duration:27.629s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:1954 scale:-9} d:{Dec:<nil>} s:1954n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:45:15.551232       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1954 scale:-9} d:{Dec:<nil>} s:1954n Format:DecimalSI}, 1
I0412 15:45:15.551247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:45:15.551334       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:58 +0000 UTC Window:{Duration:10.632s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1770786 scale:-9} d:{Dec:<nil>} s:1770786n Format:DecimalSI} memory:{i:{value:7553024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:45:15.551349       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1770786 scale:-9} d:{Dec:<nil>} s:1770786n Format:DecimalSI}, 2
I0412 15:45:15.551414       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:00 +0000 UTC Window:{Duration:12.349s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:664264 scale:-9} d:{Dec:<nil>} s:664264n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:45:15.551439       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:664264 scale:-9} d:{Dec:<nil>} s:664264n Format:DecimalSI}, 1
I0412 15:45:15.551506       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:05 +0000 UTC Window:{Duration:14.47s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2385694 scale:-9} d:{Dec:<nil>} s:2385694n Format:DecimalSI} memory:{i:{value:18714624 scale:0} d:{Dec:<nil>} s:18276Ki Format:BinarySI}]}]}
I0412 15:45:15.551528       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2385694 scale:-9} d:{Dec:<nil>} s:2385694n Format:DecimalSI}, 3
I0412 15:45:15.551591       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:11 +0000 UTC Window:{Duration:14.918s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:171135 scale:-9} d:{Dec:<nil>} s:171135n Format:DecimalSI} memory:{i:{value:9977856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:45:15.551679       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:171135 scale:-9} d:{Dec:<nil>} s:171135n Format:DecimalSI}, 1
I0412 15:45:15.551810       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:08 +0000 UTC Window:{Duration:14.786s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:98674 scale:-9} d:{Dec:<nil>} s:98674n Format:DecimalSI} memory:{i:{value:11894784 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:45:15.551832       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:98674 scale:-9} d:{Dec:<nil>} s:98674n Format:DecimalSI}, 1
I0412 15:45:15.551895       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:10 +0000 UTC Window:{Duration:13.148s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:46318 scale:-9} d:{Dec:<nil>} s:46318n Format:DecimalSI} memory:{i:{value:11087872 scale:0} d:{Dec:<nil>} s:10828Ki Format:BinarySI}]}]}
I0412 15:45:15.551909       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:46318 scale:-9} d:{Dec:<nil>} s:46318n Format:DecimalSI}, 1
I0412 15:45:15.551972       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:44:59 +0000 UTC Window:{Duration:16.276s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:12177408 scale:0} d:{Dec:<nil>} s:11892Ki Format:BinarySI}]}]}
I0412 15:45:15.551995       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:45:15.552058       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:04 +0000 UTC Window:{Duration:17.124s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1157965 scale:-9} d:{Dec:<nil>} s:1157965n Format:DecimalSI} memory:{i:{value:51650560 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:45:15.552077       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1157965 scale:-9} d:{Dec:<nil>} s:1157965n Format:DecimalSI}, 2
I0412 15:45:15.552205       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:45:15.552234       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:45:15.552299       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:45:15.552333       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:45:15.552398       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 1.570\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:45:15.552424       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000451e60 ControlledValues:<nil>}:
I0412 15:45:15.552475       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:45:15.552491       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:45:15.552510       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478272]
I0412 15:45:15.552538       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:45:15.552557       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:861717014]
I0412 15:45:15.552575       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:45:15.573443       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089db00} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089dcb0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[061912db-8670-4347-b039-e27f2a463d9a] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b66c0 TLS:0xc0005220b0}
I0412 15:45:15.591994       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986750} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986870 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[be0329d3-4207-46b7-b673-8373e57e5b2b] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6fc0 TLS:0xc0005220b0}
I0412 15:45:15.592214       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:45:15.592240       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:45:19.902592       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 16 items received
I0412 15:45:24.453403       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 15:45:42.698992       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 14 items received
I0412 15:46:15.532885       1 recommender.go:166] Recommender Run
I0412 15:46:15.532917       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:46:15.532924       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:46:15.532970       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:46:15.545791       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0090 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e57d2eeb-f58c-4a36-a60b-61f5ca4f613a e57d2eeb-f58c-4a36-a60b-61f5ca4f613a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7b00 TLS:0xc0005220b0}
I0412 15:46:15.546230       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:46:15.546292       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:07 +0000 UTC Window:{Duration:19.63s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:839680 scale:0} d:{Dec:<nil>} s:820Ki Format:BinarySI}]}]}
I0412 15:46:15.546303       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:46:15.546345       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:08 +0000 UTC Window:{Duration:17.746s} Containers:[{Name:workload Usage:map[cpu:{i:{value:129663 scale:-9} d:{Dec:<nil>} s:129663n Format:DecimalSI} memory:{i:{value:815104 scale:0} d:{Dec:<nil>} s:796Ki Format:BinarySI}]}]}
I0412 15:46:15.546358       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:129663 scale:-9} d:{Dec:<nil>} s:129663n Format:DecimalSI}, 1
I0412 15:46:15.546392       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:57 +0000 UTC Window:{Duration:16.937s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3181496 scale:-9} d:{Dec:<nil>} s:3181496n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:46:15.546399       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3181496 scale:-9} d:{Dec:<nil>} s:3181496n Format:DecimalSI}, 4
I0412 15:46:15.546429       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:06 +0000 UTC Window:{Duration:11.172s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10370658 scale:-9} d:{Dec:<nil>} s:10370658n Format:DecimalSI} memory:{i:{value:168353792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:46:15.546435       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10370658 scale:-9} d:{Dec:<nil>} s:10370658n Format:DecimalSI}, 11
I0412 15:46:15.546464       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:07 +0000 UTC Window:{Duration:14.441s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1440481 scale:-9} d:{Dec:<nil>} s:1440481n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:46:15.546482       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1440481 scale:-9} d:{Dec:<nil>} s:1440481n Format:DecimalSI}, 2
I0412 15:46:15.546517       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:50 +0000 UTC Window:{Duration:17.143s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:46:15.546532       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:46:15.546540       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:46:15.546570       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:03 +0000 UTC Window:{Duration:17.807s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:916268 scale:-9} d:{Dec:<nil>} s:916268n Format:DecimalSI} memory:{i:{value:7327744 scale:0} d:{Dec:<nil>} s:7156Ki Format:BinarySI}]}]}
I0412 15:46:15.546575       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:916268 scale:-9} d:{Dec:<nil>} s:916268n Format:DecimalSI}, 1
I0412 15:46:15.546601       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:56 +0000 UTC Window:{Duration:24.472s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:206603 scale:-9} d:{Dec:<nil>} s:206603n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:46:15.546607       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:206603 scale:-9} d:{Dec:<nil>} s:206603n Format:DecimalSI}, 1
I0412 15:46:15.546632       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:59 +0000 UTC Window:{Duration:15.331s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2986432 scale:-9} d:{Dec:<nil>} s:2986432n Format:DecimalSI} memory:{i:{value:19148800 scale:0} d:{Dec:<nil>} s:18700Ki Format:BinarySI}]}]}
I0412 15:46:15.546638       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2986432 scale:-9} d:{Dec:<nil>} s:2986432n Format:DecimalSI}, 3
I0412 15:46:15.546663       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:02 +0000 UTC Window:{Duration:18.585s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:293785 scale:-9} d:{Dec:<nil>} s:293785n Format:DecimalSI} memory:{i:{value:9822208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:46:15.546675       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:293785 scale:-9} d:{Dec:<nil>} s:293785n Format:DecimalSI}, 1
I0412 15:46:15.546700       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:45:55 +0000 UTC Window:{Duration:15.801s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:150180 scale:-9} d:{Dec:<nil>} s:150180n Format:DecimalSI} memory:{i:{value:11964416 scale:0} d:{Dec:<nil>} s:11684Ki Format:BinarySI}]}]}
I0412 15:46:15.546720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:150180 scale:-9} d:{Dec:<nil>} s:150180n Format:DecimalSI}, 1
I0412 15:46:15.546747       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:08 +0000 UTC Window:{Duration:11.133s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:60091 scale:-9} d:{Dec:<nil>} s:60091n Format:DecimalSI} memory:{i:{value:11087872 scale:0} d:{Dec:<nil>} s:10828Ki Format:BinarySI}]}]}
I0412 15:46:15.546752       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:60091 scale:-9} d:{Dec:<nil>} s:60091n Format:DecimalSI}, 1
I0412 15:46:15.546779       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:11 +0000 UTC Window:{Duration:15.616s} Containers:[{Name:updater Usage:map[cpu:{i:{value:71529 scale:-9} d:{Dec:<nil>} s:71529n Format:DecimalSI} memory:{i:{value:12218368 scale:0} d:{Dec:<nil>} s:11932Ki Format:BinarySI}]}]}
I0412 15:46:15.546791       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:71529 scale:-9} d:{Dec:<nil>} s:71529n Format:DecimalSI}, 1
I0412 15:46:15.546818       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:07 +0000 UTC Window:{Duration:11.074s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:340978 scale:-9} d:{Dec:<nil>} s:340978n Format:DecimalSI} memory:{i:{value:51671040 scale:0} d:{Dec:<nil>} s:50460Ki Format:BinarySI}]}]}
I0412 15:46:15.546826       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:340978 scale:-9} d:{Dec:<nil>} s:340978n Format:DecimalSI}, 1
I0412 15:46:15.546895       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:46:15.546907       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:46:15.546937       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:46:15.546970       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:46:15.547003       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 2.038\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:46:15.547012       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000605a88 ControlledValues:<nil>}:
I0412 15:46:15.547040       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:46:15.547055       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:46:15.547063       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478286]
I0412 15:46:15.547067       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:46:15.547087       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:861446571]
I0412 15:46:15.547097       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:46:15.575544       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746060} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007460f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a2f1a778-db33-40df-8210-ff0464882b56] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363200} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082e000 TLS:0xc0005220b0}
I0412 15:46:15.582590       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0cc0} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0d50 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[eb7f1baf-89a4-4a20-a03b-2f38e92d17b0] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd500} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 15:46:15.612658       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc0004e1650} GetBody:0x6d9b40 ContentLength:645 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e16e0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6b65379a-4988-49fc-b879-0c7bb105231b] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd680} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cfc0 TLS:0xc0005220b0}
I0412 15:46:15.612794       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:46:15.612856       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:46:23.119277       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 5 items received
I0412 15:47:15.536668       1 recommender.go:166] Recommender Run
I0412 15:47:15.536695       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:47:15.536704       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:47:15.536737       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:47:15.549341       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746d20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8610e654-2081-407d-bcc9-3e749d889e38 8610e654-2081-407d-bcc9-3e749d889e38] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 15:47:15.550081       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:47:15.550135       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:55 +0000 UTC Window:{Duration:25.963s} Containers:[{Name:workload Usage:map[cpu:{i:{value:57389 scale:-9} d:{Dec:<nil>} s:57389n Format:DecimalSI} memory:{i:{value:847872 scale:0} d:{Dec:<nil>} s:828Ki Format:BinarySI}]}]}
I0412 15:47:15.550145       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:57389 scale:-9} d:{Dec:<nil>} s:57389n Format:DecimalSI}, 1
I0412 15:47:15.550166       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:52 +0000 UTC Window:{Duration:13.294s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:815104 scale:0} d:{Dec:<nil>} s:796Ki Format:BinarySI}]}]}
I0412 15:47:15.550171       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:47:15.550189       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:10 +0000 UTC Window:{Duration:23.271s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1522667 scale:-9} d:{Dec:<nil>} s:1522667n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:47:15.550196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1522667 scale:-9} d:{Dec:<nil>} s:1522667n Format:DecimalSI}, 2
I0412 15:47:15.550232       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:03 +0000 UTC Window:{Duration:11.38s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9510281 scale:-9} d:{Dec:<nil>} s:9510281n Format:DecimalSI} memory:{i:{value:168353792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:47:15.550247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9510281 scale:-9} d:{Dec:<nil>} s:9510281n Format:DecimalSI}, 10
I0412 15:47:15.550272       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:09 +0000 UTC Window:{Duration:31.858s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1383514 scale:-9} d:{Dec:<nil>} s:1383514n Format:DecimalSI} memory:{i:{value:14589952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:47:15.550275       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1383514 scale:-9} d:{Dec:<nil>} s:1383514n Format:DecimalSI}, 2
I0412 15:47:15.550295       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:46:59 +0000 UTC Window:{Duration:12.143s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:47:15.550298       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:47:15.550302       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:47:15.550316       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:01 +0000 UTC Window:{Duration:10.752s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:964285 scale:-9} d:{Dec:<nil>} s:964285n Format:DecimalSI} memory:{i:{value:6811648 scale:0} d:{Dec:<nil>} s:6652Ki Format:BinarySI}]}]}
I0412 15:47:15.550318       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:964285 scale:-9} d:{Dec:<nil>} s:964285n Format:DecimalSI}, 1
I0412 15:47:15.550332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:09 +0000 UTC Window:{Duration:14.083s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:505148 scale:-9} d:{Dec:<nil>} s:505148n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:47:15.550337       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:505148 scale:-9} d:{Dec:<nil>} s:505148n Format:DecimalSI}, 1
I0412 15:47:15.550351       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:04 +0000 UTC Window:{Duration:10.999s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2051186 scale:-9} d:{Dec:<nil>} s:2051186n Format:DecimalSI} memory:{i:{value:19156992 scale:0} d:{Dec:<nil>} s:18708Ki Format:BinarySI}]}]}
I0412 15:47:15.550354       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2051186 scale:-9} d:{Dec:<nil>} s:2051186n Format:DecimalSI}, 3
I0412 15:47:15.550367       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:10 +0000 UTC Window:{Duration:26.295s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:309336 scale:-9} d:{Dec:<nil>} s:309336n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:47:15.550370       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:309336 scale:-9} d:{Dec:<nil>} s:309336n Format:DecimalSI}, 1
I0412 15:47:15.550383       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:05 +0000 UTC Window:{Duration:12.442s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:124095 scale:-9} d:{Dec:<nil>} s:124095n Format:DecimalSI} memory:{i:{value:11943936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:47:15.550386       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:124095 scale:-9} d:{Dec:<nil>} s:124095n Format:DecimalSI}, 1
I0412 15:47:15.550401       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:07 +0000 UTC Window:{Duration:12.136s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:85695 scale:-9} d:{Dec:<nil>} s:85695n Format:DecimalSI} memory:{i:{value:11100160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:47:15.550406       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:85695 scale:-9} d:{Dec:<nil>} s:85695n Format:DecimalSI}, 1
I0412 15:47:15.550422       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:12 +0000 UTC Window:{Duration:15.359s} Containers:[{Name:updater Usage:map[cpu:{i:{value:54886 scale:-9} d:{Dec:<nil>} s:54886n Format:DecimalSI} memory:{i:{value:12263424 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:47:15.550426       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:54886 scale:-9} d:{Dec:<nil>} s:54886n Format:DecimalSI}, 1
I0412 15:47:15.550440       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:02 +0000 UTC Window:{Duration:11.996s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1139546 scale:-9} d:{Dec:<nil>} s:1139546n Format:DecimalSI} memory:{i:{value:51691520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:47:15.550442       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1139546 scale:-9} d:{Dec:<nil>} s:1139546n Format:DecimalSI}, 2
I0412 15:47:15.550493       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:47:15.550505       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:47:15.550530       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:47:15.550540       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:47:15.550562       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 2.558\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:47:15.550566       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090b500 ControlledValues:<nil>}:
I0412 15:47:15.550584       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:47:15.550588       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:47:15.550594       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478297]
I0412 15:47:15.550597       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:47:15.550602       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:861231383]
I0412 15:47:15.550605       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:47:15.565127       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007292c0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729350 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[667dd9b8-9070-4b71-af01-93f80328ff9e] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00082f8c0 TLS:0xc0005220b0}
I0412 15:47:15.574853       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712d20} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712db0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a0d6ea21-164c-479d-8523-54f70ad34661] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd7a0 TLS:0xc0005220b0}
I0412 15:47:15.575007       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:47:15.575020       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:48:06.324676       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 5 items received
I0412 15:48:15.532744       1 recommender.go:166] Recommender Run
I0412 15:48:15.532785       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:48:15.532795       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:48:15.532880       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:48:15.558137       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c360 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[de2d0ea6-f287-4912-bc01-93801208b27b de2d0ea6-f287-4912-bc01-93801208b27b] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003650e0 TLS:0xc0005220b0}
I0412 15:48:15.558772       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:48:15.558868       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:11 +0000 UTC Window:{Duration:37.87s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:847872 scale:0} d:{Dec:<nil>} s:828Ki Format:BinarySI}]}]}
I0412 15:48:15.558884       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:48:15.558936       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:56 +0000 UTC Window:{Duration:23.834s} Containers:[{Name:workload Usage:map[cpu:{i:{value:66585 scale:-9} d:{Dec:<nil>} s:66585n Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 15:48:15.558962       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:66585 scale:-9} d:{Dec:<nil>} s:66585n Format:DecimalSI}, 1
I0412 15:48:15.559042       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:08 +0000 UTC Window:{Duration:14.332s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2074030 scale:-9} d:{Dec:<nil>} s:2074030n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:48:15.559066       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2074030 scale:-9} d:{Dec:<nil>} s:2074030n Format:DecimalSI}, 3
I0412 15:48:15.559123       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:11 +0000 UTC Window:{Duration:24.745s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12059486 scale:-9} d:{Dec:<nil>} s:12059486n Format:DecimalSI} memory:{i:{value:168386560 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:48:15.559133       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12059486 scale:-9} d:{Dec:<nil>} s:12059486n Format:DecimalSI}, 13
I0412 15:48:15.559168       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:07 +0000 UTC Window:{Duration:18.601s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1666200 scale:-9} d:{Dec:<nil>} s:1666200n Format:DecimalSI} memory:{i:{value:15106048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:48:15.559184       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1666200 scale:-9} d:{Dec:<nil>} s:1666200n Format:DecimalSI}, 2
I0412 15:48:15.559224       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:58 +0000 UTC Window:{Duration:12.978s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:48:15.559247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:48:15.559255       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:48:15.559290       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:03 +0000 UTC Window:{Duration:14.56s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1249587 scale:-9} d:{Dec:<nil>} s:1249587n Format:DecimalSI} memory:{i:{value:6815744 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:48:15.559298       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1249587 scale:-9} d:{Dec:<nil>} s:1249587n Format:DecimalSI}, 2
I0412 15:48:15.559331       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:59 +0000 UTC Window:{Duration:19.957s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:270732 scale:-9} d:{Dec:<nil>} s:270732n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:48:15.559337       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:270732 scale:-9} d:{Dec:<nil>} s:270732n Format:DecimalSI}, 1
I0412 15:48:15.559370       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:02 +0000 UTC Window:{Duration:11.801s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2664265 scale:-9} d:{Dec:<nil>} s:2664265n Format:DecimalSI} memory:{i:{value:19156992 scale:0} d:{Dec:<nil>} s:18708Ki Format:BinarySI}]}]}
I0412 15:48:15.559396       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2664265 scale:-9} d:{Dec:<nil>} s:2664265n Format:DecimalSI}, 3
I0412 15:48:15.559464       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:09 +0000 UTC Window:{Duration:18.76s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:296375 scale:-9} d:{Dec:<nil>} s:296375n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:48:15.559486       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:296375 scale:-9} d:{Dec:<nil>} s:296375n Format:DecimalSI}, 1
I0412 15:48:15.559538       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:10 +0000 UTC Window:{Duration:19.653s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:306874 scale:-9} d:{Dec:<nil>} s:306874n Format:DecimalSI} memory:{i:{value:11956224 scale:0} d:{Dec:<nil>} s:11676Ki Format:BinarySI}]}]}
I0412 15:48:15.559556       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:306874 scale:-9} d:{Dec:<nil>} s:306874n Format:DecimalSI}, 1
I0412 15:48:15.559591       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:56 +0000 UTC Window:{Duration:19.249s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:148423 scale:-9} d:{Dec:<nil>} s:148423n Format:DecimalSI} memory:{i:{value:11100160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:48:15.559603       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:148423 scale:-9} d:{Dec:<nil>} s:148423n Format:DecimalSI}, 1
I0412 15:48:15.559636       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:47:58 +0000 UTC Window:{Duration:18.61s} Containers:[{Name:updater Usage:map[cpu:{i:{value:55077 scale:-9} d:{Dec:<nil>} s:55077n Format:DecimalSI} memory:{i:{value:12300288 scale:0} d:{Dec:<nil>} s:12012Ki Format:BinarySI}]}]}
I0412 15:48:15.559653       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:55077 scale:-9} d:{Dec:<nil>} s:55077n Format:DecimalSI}, 1
I0412 15:48:15.559688       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:05 +0000 UTC Window:{Duration:11.04s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1870471 scale:-9} d:{Dec:<nil>} s:1870471n Format:DecimalSI} memory:{i:{value:51712000 scale:0} d:{Dec:<nil>} s:50500Ki Format:BinarySI}]}]}
I0412 15:48:15.559696       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1870471 scale:-9} d:{Dec:<nil>} s:1870471n Format:DecimalSI}, 2
I0412 15:48:15.559795       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:48:15.559819       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:48:15.559867       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:48:15.559893       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:48:15.559933       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 3.169\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:48:15.559951       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000829020 ControlledValues:<nil>}:
I0412 15:48:15.559983       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:48:15.559994       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:48:15.560007       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478315]
I0412 15:48:15.560015       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:48:15.560026       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:860883887]
I0412 15:48:15.560053       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:48:15.578953       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00058ff50} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d290 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[47855224-ab0c-49bb-95ca-b3185f96825a] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffb00 TLS:0xc0005220b0}
I0412 15:48:15.631509       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986000} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986090 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0eea608a-b94b-4dac-b435-1924b935f040] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363800} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f46c0 TLS:0xc0005220b0}
I0412 15:48:15.631792       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:48:15.631821       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 15:48:15.631835       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:48:15.631843       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:48:15.631875       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:48:15.643569       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008822d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[63328ff4-99f7-43e5-9382-b39dfae3211d] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d4120 TLS:0xc0005220b0}
I0412 15:48:15.653808       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882a20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a424e76d-479d-42ae-93c3-79b58ea939f1] Cache-Control:[no-cache, private] Content-Length:[1516] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003680} ContentLength:1516 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b65a0 TLS:0xc0005220b0}
I0412 15:48:15.663401       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008830b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ab8df98c-8744-4818-9989-b2683b05b022] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003980} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6c60 TLS:0xc0005220b0}
I0412 15:48:15.817741       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883710 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0e07d06e-7d86-4d70-9a1b-52118030bc42] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7320 TLS:0xc0005220b0}
I0412 15:48:15.833917       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883d10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e1c8127c-5d61-44e2-804c-b53ad2526800] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003c80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b79e0 TLS:0xc0005220b0}
I0412 15:48:15.841741       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986870 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ecdc8d21-f3dd-43d0-b57d-65ff6feec0b5] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0ea0 TLS:0xc0005220b0}
I0412 15:48:15.841938       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:48:38.762282       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 15:49:15.532685       1 recommender.go:166] Recommender Run
I0412 15:49:15.532715       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:49:15.532722       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:49:15.532754       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:49:15.543225       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986c60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[30126e5d-1074-429d-9bdf-32c9a0324667 30126e5d-1074-429d-9bdf-32c9a0324667] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 15:49:15.543609       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:49:15.543669       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:51 +0000 UTC Window:{Duration:16.022s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.543681       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:49:15.543706       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:57 +0000 UTC Window:{Duration:16.336s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 15:49:15.543711       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:49:15.543732       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:58 +0000 UTC Window:{Duration:14.128s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1893403 scale:-9} d:{Dec:<nil>} s:1893403n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.543740       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1893403 scale:-9} d:{Dec:<nil>} s:1893403n Format:DecimalSI}, 2
I0412 15:49:15.543760       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:06 +0000 UTC Window:{Duration:12.084s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11853359 scale:-9} d:{Dec:<nil>} s:11853359n Format:DecimalSI} memory:{i:{value:168402944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.543769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11853359 scale:-9} d:{Dec:<nil>} s:11853359n Format:DecimalSI}, 12
I0412 15:49:15.543787       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:05 +0000 UTC Window:{Duration:14.787s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1636369 scale:-9} d:{Dec:<nil>} s:1636369n Format:DecimalSI} memory:{i:{value:14848000 scale:0} d:{Dec:<nil>} s:14500Ki Format:BinarySI}]}]}
I0412 15:49:15.543794       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1636369 scale:-9} d:{Dec:<nil>} s:1636369n Format:DecimalSI}, 2
I0412 15:49:15.543818       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:48:56 +0000 UTC Window:{Duration:18.122s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:49:15.543827       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:49:15.543832       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:49:15.543852       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:09 +0000 UTC Window:{Duration:17.193s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:863839 scale:-9} d:{Dec:<nil>} s:863839n Format:DecimalSI} memory:{i:{value:6852608 scale:0} d:{Dec:<nil>} s:6692Ki Format:BinarySI}]}]}
I0412 15:49:15.543860       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:863839 scale:-9} d:{Dec:<nil>} s:863839n Format:DecimalSI}, 1
I0412 15:49:15.543878       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:10 +0000 UTC Window:{Duration:19.988s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:425755 scale:-9} d:{Dec:<nil>} s:425755n Format:DecimalSI} memory:{i:{value:12689408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.543882       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:425755 scale:-9} d:{Dec:<nil>} s:425755n Format:DecimalSI}, 1
I0412 15:49:15.543899       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:01 +0000 UTC Window:{Duration:17.606s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2644212 scale:-9} d:{Dec:<nil>} s:2644212n Format:DecimalSI} memory:{i:{value:19210240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.543907       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2644212 scale:-9} d:{Dec:<nil>} s:2644212n Format:DecimalSI}, 3
I0412 15:49:15.543923       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:11 +0000 UTC Window:{Duration:19.929s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:224496 scale:-9} d:{Dec:<nil>} s:224496n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.543927       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:224496 scale:-9} d:{Dec:<nil>} s:224496n Format:DecimalSI}, 1
I0412 15:49:15.543944       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:09 +0000 UTC Window:{Duration:30.54s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:183759 scale:-9} d:{Dec:<nil>} s:183759n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:49:15.543951       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:183759 scale:-9} d:{Dec:<nil>} s:183759n Format:DecimalSI}, 1
I0412 15:49:15.543968       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:00 +0000 UTC Window:{Duration:11.528s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:20298 scale:-9} d:{Dec:<nil>} s:20298n Format:DecimalSI} memory:{i:{value:11132928 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.543972       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:20298 scale:-9} d:{Dec:<nil>} s:20298n Format:DecimalSI}, 1
I0412 15:49:15.543989       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:05 +0000 UTC Window:{Duration:16.903s} Containers:[{Name:updater Usage:map[cpu:{i:{value:17097 scale:-9} d:{Dec:<nil>} s:17097n Format:DecimalSI} memory:{i:{value:12390400 scale:0} d:{Dec:<nil>} s:12100Ki Format:BinarySI}]}]}
I0412 15:49:15.543997       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:17097 scale:-9} d:{Dec:<nil>} s:17097n Format:DecimalSI}, 1
I0412 15:49:15.544013       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:08 +0000 UTC Window:{Duration:14.897s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:985164 scale:-9} d:{Dec:<nil>} s:985164n Format:DecimalSI} memory:{i:{value:50561024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:49:15.544020       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:985164 scale:-9} d:{Dec:<nil>} s:985164n Format:DecimalSI}, 1
I0412 15:49:15.544081       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:49:15.544093       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:49:15.544120       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:49:15.544149       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:49:15.544172       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 3.856\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:49:15.544182       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000829908 ControlledValues:<nil>}:
I0412 15:49:15.544201       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:49:15.544208       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:49:15.544214       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478326]
I0412 15:49:15.544218       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:49:15.544224       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:860673841]
I0412 15:49:15.544228       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:49:15.558838       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883c80} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883d10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ea431ef5-ca12-4899-bb6c-c453a2f6495b] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1560 TLS:0xc0005220b0}
I0412 15:49:15.577066       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746b10} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746ba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f06fef23-ed97-4bde-9967-73590848c427] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6900 TLS:0xc0005220b0}
I0412 15:49:15.577267       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:49:15.577284       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:50:15.532679       1 recommender.go:166] Recommender Run
I0412 15:50:15.532706       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:50:15.532713       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:50:15.532745       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:50:15.544880       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747bf0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[29200685-fde2-4c13-a9d8-bbb094fa8646 29200685-fde2-4c13-a9d8-bbb094fa8646] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b70e0 TLS:0xc0005220b0}
I0412 15:50:15.545643       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:50:15.545700       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:09 +0000 UTC Window:{Duration:18.619s} Containers:[{Name:workload Usage:map[cpu:{i:{value:104624 scale:-9} d:{Dec:<nil>} s:104624n Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:50:15.545712       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:104624 scale:-9} d:{Dec:<nil>} s:104624n Format:DecimalSI}, 1
I0412 15:50:15.545746       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:08 +0000 UTC Window:{Duration:11.749s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:50:15.545754       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:50:15.545782       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:02 +0000 UTC Window:{Duration:16.274s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2100651 scale:-9} d:{Dec:<nil>} s:2100651n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:50:15.545787       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2100651 scale:-9} d:{Dec:<nil>} s:2100651n Format:DecimalSI}, 3
I0412 15:50:15.545812       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:55 +0000 UTC Window:{Duration:18.902s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13566183 scale:-9} d:{Dec:<nil>} s:13566183n Format:DecimalSI} memory:{i:{value:168427520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:50:15.545820       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13566183 scale:-9} d:{Dec:<nil>} s:13566183n Format:DecimalSI}, 14
I0412 15:50:15.545843       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:05 +0000 UTC Window:{Duration:11.763s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1398622 scale:-9} d:{Dec:<nil>} s:1398622n Format:DecimalSI} memory:{i:{value:15114240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:50:15.545850       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1398622 scale:-9} d:{Dec:<nil>} s:1398622n Format:DecimalSI}, 2
I0412 15:50:15.545876       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:02 +0000 UTC Window:{Duration:15.068s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:50:15.545885       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:50:15.545891       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:50:15.545918       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:05 +0000 UTC Window:{Duration:17.986s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:959746 scale:-9} d:{Dec:<nil>} s:959746n Format:DecimalSI} memory:{i:{value:6852608 scale:0} d:{Dec:<nil>} s:6692Ki Format:BinarySI}]}]}
I0412 15:50:15.545928       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:959746 scale:-9} d:{Dec:<nil>} s:959746n Format:DecimalSI}, 1
I0412 15:50:15.545959       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:05 +0000 UTC Window:{Duration:10.201s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:778747 scale:-9} d:{Dec:<nil>} s:778747n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:50:15.545969       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:778747 scale:-9} d:{Dec:<nil>} s:778747n Format:DecimalSI}, 1
I0412 15:50:15.545998       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:10 +0000 UTC Window:{Duration:13.497s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3195599 scale:-9} d:{Dec:<nil>} s:3195599n Format:DecimalSI} memory:{i:{value:19214336 scale:0} d:{Dec:<nil>} s:18764Ki Format:BinarySI}]}]}
I0412 15:50:15.546009       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3195599 scale:-9} d:{Dec:<nil>} s:3195599n Format:DecimalSI}, 4
I0412 15:50:15.546038       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:49:55 +0000 UTC Window:{Duration:30.767s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:203334 scale:-9} d:{Dec:<nil>} s:203334n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:50:15.546049       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:203334 scale:-9} d:{Dec:<nil>} s:203334n Format:DecimalSI}, 1
I0412 15:50:15.546074       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:03 +0000 UTC Window:{Duration:12.903s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:44718 scale:-9} d:{Dec:<nil>} s:44718n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:50:15.546081       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:44718 scale:-9} d:{Dec:<nil>} s:44718n Format:DecimalSI}, 1
I0412 15:50:15.546102       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:00 +0000 UTC Window:{Duration:14.003s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:109048 scale:-9} d:{Dec:<nil>} s:109048n Format:DecimalSI} memory:{i:{value:11137024 scale:0} d:{Dec:<nil>} s:10876Ki Format:BinarySI}]}]}
I0412 15:50:15.546108       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:109048 scale:-9} d:{Dec:<nil>} s:109048n Format:DecimalSI}, 1
I0412 15:50:15.546130       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:08 +0000 UTC Window:{Duration:12.951s} Containers:[{Name:updater Usage:map[cpu:{i:{value:131186 scale:-9} d:{Dec:<nil>} s:131186n Format:DecimalSI} memory:{i:{value:12128256 scale:0} d:{Dec:<nil>} s:11844Ki Format:BinarySI}]}]}
I0412 15:50:15.546137       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:131186 scale:-9} d:{Dec:<nil>} s:131186n Format:DecimalSI}, 1
I0412 15:50:15.546159       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:08 +0000 UTC Window:{Duration:25.681s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:838401 scale:-9} d:{Dec:<nil>} s:838401n Format:DecimalSI} memory:{i:{value:50728960 scale:0} d:{Dec:<nil>} s:49540Ki Format:BinarySI}]}]}
I0412 15:50:15.546165       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:838401 scale:-9} d:{Dec:<nil>} s:838401n Format:DecimalSI}, 1
I0412 15:50:15.546226       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:50:15.546237       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:50:15.546262       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:50:15.546275       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:50:15.546302       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 4.672\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:50:15.546333       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828660 ControlledValues:<nil>}:
I0412 15:50:15.546358       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:50:15.546363       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:50:15.546368       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478343]
I0412 15:50:15.546371       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:50:15.546375       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:860345497]
I0412 15:50:15.546379       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:50:15.620072       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d710} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d7a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[52d73be3-5748-4b83-9358-f58814d0ba1f] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363800} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd8c0 TLS:0xc0005220b0}
I0412 15:50:15.636644       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0c30} GetBody:0x6d9b40 ContentLength:462 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0cc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f135afd1-6fee-43ae-96aa-8fd87f6f4ae6] Cache-Control:[no-cache, private] Content-Length:[1361] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003680} ContentLength:1361 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365560 TLS:0xc0005220b0}
I0412 15:50:15.636810       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:50:15.636831       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:51:15.532068       1 recommender.go:166] Recommender Run
I0412 15:51:15.532090       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:51:15.532095       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:51:15.532159       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:51:15.544200       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008826c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ee4423b9-724d-497a-a326-dcaed43d194f ee4423b9-724d-497a-a326-dcaed43d194f] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364b40 TLS:0xc0005220b0}
I0412 15:51:15.544968       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:51:15.545064       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:08 +0000 UTC Window:{Duration:15.79s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:51:15.545081       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:51:15.545126       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:53 +0000 UTC Window:{Duration:14.782s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:51:15.545140       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:51:15.545180       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:05 +0000 UTC Window:{Duration:17.74s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1843799 scale:-9} d:{Dec:<nil>} s:1843799n Format:DecimalSI} memory:{i:{value:32047104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:51:15.545188       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1843799 scale:-9} d:{Dec:<nil>} s:1843799n Format:DecimalSI}, 2
I0412 15:51:15.545226       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:56 +0000 UTC Window:{Duration:23.6s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10833601 scale:-9} d:{Dec:<nil>} s:10833601n Format:DecimalSI} memory:{i:{value:168316928 scale:0} d:{Dec:<nil>} s:164372Ki Format:BinarySI}]}]}
I0412 15:51:15.545241       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10833601 scale:-9} d:{Dec:<nil>} s:10833601n Format:DecimalSI}, 11
I0412 15:51:15.545275       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:11 +0000 UTC Window:{Duration:15.738s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1492248 scale:-9} d:{Dec:<nil>} s:1492248n Format:DecimalSI} memory:{i:{value:14848000 scale:0} d:{Dec:<nil>} s:14500Ki Format:BinarySI}]}]}
I0412 15:51:15.545290       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1492248 scale:-9} d:{Dec:<nil>} s:1492248n Format:DecimalSI}, 2
I0412 15:51:15.545332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:01 +0000 UTC Window:{Duration:10.184s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:51:15.545347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:51:15.545356       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:51:15.545390       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:03 +0000 UTC Window:{Duration:16.419s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1225531 scale:-9} d:{Dec:<nil>} s:1225531n Format:DecimalSI} memory:{i:{value:6742016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:51:15.545454       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1225531 scale:-9} d:{Dec:<nil>} s:1225531n Format:DecimalSI}, 2
I0412 15:51:15.545501       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:02 +0000 UTC Window:{Duration:13.625s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:628403 scale:-9} d:{Dec:<nil>} s:628403n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:51:15.545522       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:628403 scale:-9} d:{Dec:<nil>} s:628403n Format:DecimalSI}, 1
I0412 15:51:15.545560       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:02 +0000 UTC Window:{Duration:14.433s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3666181 scale:-9} d:{Dec:<nil>} s:3666181n Format:DecimalSI} memory:{i:{value:19210240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:51:15.545578       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3666181 scale:-9} d:{Dec:<nil>} s:3666181n Format:DecimalSI}, 4
I0412 15:51:15.545615       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:50:56 +0000 UTC Window:{Duration:14.931s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:295090 scale:-9} d:{Dec:<nil>} s:295090n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:51:15.545629       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:295090 scale:-9} d:{Dec:<nil>} s:295090n Format:DecimalSI}, 1
I0412 15:51:15.545663       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:10 +0000 UTC Window:{Duration:16.618s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:80635 scale:-9} d:{Dec:<nil>} s:80635n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:51:15.545669       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80635 scale:-9} d:{Dec:<nil>} s:80635n Format:DecimalSI}, 1
I0412 15:51:15.545707       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:04 +0000 UTC Window:{Duration:16.494s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:19764 scale:-9} d:{Dec:<nil>} s:19764n Format:DecimalSI} memory:{i:{value:11137024 scale:0} d:{Dec:<nil>} s:10876Ki Format:BinarySI}]}]}
I0412 15:51:15.545720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:19764 scale:-9} d:{Dec:<nil>} s:19764n Format:DecimalSI}, 1
I0412 15:51:15.545757       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:09 +0000 UTC Window:{Duration:16.421s} Containers:[{Name:updater Usage:map[cpu:{i:{value:96218 scale:-9} d:{Dec:<nil>} s:96218n Format:DecimalSI} memory:{i:{value:12132352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:51:15.545778       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:96218 scale:-9} d:{Dec:<nil>} s:96218n Format:DecimalSI}, 1
I0412 15:51:15.545844       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:06 +0000 UTC Window:{Duration:15.259s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:998165 scale:-9} d:{Dec:<nil>} s:998165n Format:DecimalSI} memory:{i:{value:50933760 scale:0} d:{Dec:<nil>} s:49740Ki Format:BinarySI}]}]}
I0412 15:51:15.545867       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:998165 scale:-9} d:{Dec:<nil>} s:998165n Format:DecimalSI}, 1
I0412 15:51:15.546012       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:51:15.546041       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:51:15.546093       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:51:15.546118       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:51:15.546162       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 5.592\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:51:15.546177       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000829db8 ControlledValues:<nil>}:
I0412 15:51:15.546220       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:51:15.546237       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:51:15.546249       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478357]
I0412 15:51:15.546270       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:51:15.546281       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:860076821]
I0412 15:51:15.546288       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:51:15.560023       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d680} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d710 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[644e99c6-958b-4814-a29e-826279cc2b62] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003680} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b17a0 TLS:0xc0005220b0}
I0412 15:51:15.573432       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986570} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986660 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e6285f7b-338e-44d7-9fa0-bff9ecdc3b5c] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003980} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002ccb40 TLS:0xc0005220b0}
I0412 15:51:15.573615       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:51:15.573634       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:51:31.477085       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 15:51:43.906165       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 0 items received
I0412 15:51:56.704238       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 14 items received
I0412 15:52:14.037743       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 10 items received
I0412 15:52:15.532224       1 recommender.go:166] Recommender Run
I0412 15:52:15.532261       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:52:15.532271       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:52:15.532331       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:52:15.552092       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987950 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e44a9c4d-4cb0-4378-af3e-397f9fb98d99 e44a9c4d-4cb0-4378-af3e-397f9fb98d99] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004545a0 TLS:0xc0005220b0}
I0412 15:52:15.553054       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:52:15.553144       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:54 +0000 UTC Window:{Duration:18.676s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69661 scale:-9} d:{Dec:<nil>} s:69661n Format:DecimalSI} memory:{i:{value:839680 scale:0} d:{Dec:<nil>} s:820Ki Format:BinarySI}]}]}
I0412 15:52:15.553156       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69661 scale:-9} d:{Dec:<nil>} s:69661n Format:DecimalSI}, 1
I0412 15:52:15.553200       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:59 +0000 UTC Window:{Duration:17.43s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 15:52:15.553225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:52:15.553265       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:08 +0000 UTC Window:{Duration:21.946s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1748929 scale:-9} d:{Dec:<nil>} s:1748929n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:52:15.553282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1748929 scale:-9} d:{Dec:<nil>} s:1748929n Format:DecimalSI}, 2
I0412 15:52:15.553323       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:05 +0000 UTC Window:{Duration:15.111s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10951492 scale:-9} d:{Dec:<nil>} s:10951492n Format:DecimalSI} memory:{i:{value:168345600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:52:15.553336       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10951492 scale:-9} d:{Dec:<nil>} s:10951492n Format:DecimalSI}, 11
I0412 15:52:15.553372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:07 +0000 UTC Window:{Duration:14.551s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1382173 scale:-9} d:{Dec:<nil>} s:1382173n Format:DecimalSI} memory:{i:{value:14848000 scale:0} d:{Dec:<nil>} s:14500Ki Format:BinarySI}]}]}
I0412 15:52:15.553389       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1382173 scale:-9} d:{Dec:<nil>} s:1382173n Format:DecimalSI}, 2
I0412 15:52:15.553432       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:52 +0000 UTC Window:{Duration:14.484s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:1391 scale:-9} d:{Dec:<nil>} s:1391n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:52:15.553439       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:52:15.553447       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1391 scale:-9} d:{Dec:<nil>} s:1391n Format:DecimalSI}, 1
I0412 15:52:15.553483       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:06 +0000 UTC Window:{Duration:11.8s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:649237 scale:-9} d:{Dec:<nil>} s:649237n Format:DecimalSI} memory:{i:{value:6742016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:52:15.553499       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:649237 scale:-9} d:{Dec:<nil>} s:649237n Format:DecimalSI}, 1
I0412 15:52:15.553550       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:01 +0000 UTC Window:{Duration:17.786s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:286180 scale:-9} d:{Dec:<nil>} s:286180n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:52:15.553567       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:286180 scale:-9} d:{Dec:<nil>} s:286180n Format:DecimalSI}, 1
I0412 15:52:15.553603       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:02 +0000 UTC Window:{Duration:17.489s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2275030 scale:-9} d:{Dec:<nil>} s:2275030n Format:DecimalSI} memory:{i:{value:19263488 scale:0} d:{Dec:<nil>} s:18812Ki Format:BinarySI}]}]}
I0412 15:52:15.553618       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2275030 scale:-9} d:{Dec:<nil>} s:2275030n Format:DecimalSI}, 3
I0412 15:52:15.553654       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:07 +0000 UTC Window:{Duration:13.345s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:123791 scale:-9} d:{Dec:<nil>} s:123791n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:52:15.553667       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:123791 scale:-9} d:{Dec:<nil>} s:123791n Format:DecimalSI}, 1
I0412 15:52:15.553700       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:10 +0000 UTC Window:{Duration:14.911s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:154785 scale:-9} d:{Dec:<nil>} s:154785n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:52:15.553709       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:154785 scale:-9} d:{Dec:<nil>} s:154785n Format:DecimalSI}, 1
I0412 15:52:15.553742       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:58 +0000 UTC Window:{Duration:11.861s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:187842 scale:-9} d:{Dec:<nil>} s:187842n Format:DecimalSI} memory:{i:{value:11137024 scale:0} d:{Dec:<nil>} s:10876Ki Format:BinarySI}]}]}
I0412 15:52:15.553755       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:187842 scale:-9} d:{Dec:<nil>} s:187842n Format:DecimalSI}, 1
I0412 15:52:15.553788       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:10 +0000 UTC Window:{Duration:30.887s} Containers:[{Name:updater Usage:map[cpu:{i:{value:66403 scale:-9} d:{Dec:<nil>} s:66403n Format:DecimalSI} memory:{i:{value:12132352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:52:15.553800       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:66403 scale:-9} d:{Dec:<nil>} s:66403n Format:DecimalSI}, 1
I0412 15:52:15.553833       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:51:53 +0000 UTC Window:{Duration:16.86s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:996975 scale:-9} d:{Dec:<nil>} s:996975n Format:DecimalSI} memory:{i:{value:52523008 scale:0} d:{Dec:<nil>} s:51292Ki Format:BinarySI}]}]}
I0412 15:52:15.553845       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:996975 scale:-9} d:{Dec:<nil>} s:996975n Format:DecimalSI}, 1
I0412 15:52:15.553925       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:52:15.553943       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:52:15.553989       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:52:15.554071       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:52:15.554143       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 6.639\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:52:15.554159       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000605b78 ControlledValues:<nil>}:
I0412 15:52:15.554199       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:52:15.554210       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:52:15.554227       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478369]
I0412 15:52:15.554237       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:52:15.554248       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:859844854]
I0412 15:52:15.554259       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:52:15.580727       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00058f980} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058fa10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e6a55909-0ecb-4206-a730-d49453ae69c2] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d46c0 TLS:0xc0005220b0}
I0412 15:52:15.612926       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007285a0} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728630 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0adcb0e5-8944-4077-86d2-ba72d2816a6e] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3680} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4900 TLS:0xc0005220b0}
I0412 15:52:15.613090       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:52:15.613112       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:52:55.456710       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 4 items received
I0412 15:52:59.255830       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 8 items received
I0412 15:53:15.532283       1 recommender.go:166] Recommender Run
I0412 15:53:15.532307       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:53:15.532312       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:53:15.532351       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:53:15.548095       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729380 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[64c833ef-887e-48c7-ad73-e1f28c4100b7 64c833ef-887e-48c7-ad73-e1f28c4100b7] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6a20 TLS:0xc0005220b0}
I0412 15:53:15.548648       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:53:15.548718       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:09 +0000 UTC Window:{Duration:16.525s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:839680 scale:0} d:{Dec:<nil>} s:820Ki Format:BinarySI}]}]}
I0412 15:53:15.548735       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:53:15.548770       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:57 +0000 UTC Window:{Duration:16.076s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.548780       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:53:15.548810       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:59 +0000 UTC Window:{Duration:14.922s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1914354 scale:-9} d:{Dec:<nil>} s:1914354n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:53:15.548815       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1914354 scale:-9} d:{Dec:<nil>} s:1914354n Format:DecimalSI}, 2
I0412 15:53:15.548848       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:05 +0000 UTC Window:{Duration:18.238s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11074459 scale:-9} d:{Dec:<nil>} s:11074459n Format:DecimalSI} memory:{i:{value:168345600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.548868       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11074459 scale:-9} d:{Dec:<nil>} s:11074459n Format:DecimalSI}, 12
I0412 15:53:15.548919       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:05 +0000 UTC Window:{Duration:14.926s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1332641 scale:-9} d:{Dec:<nil>} s:1332641n Format:DecimalSI} memory:{i:{value:14594048 scale:0} d:{Dec:<nil>} s:14252Ki Format:BinarySI}]}]}
I0412 15:53:15.548930       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1332641 scale:-9} d:{Dec:<nil>} s:1332641n Format:DecimalSI}, 2
I0412 15:53:15.549028       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:53 +0000 UTC Window:{Duration:17.347s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:53:15.549043       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:53:15.549054       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:53:15.549103       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:07 +0000 UTC Window:{Duration:11.388s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:656041 scale:-9} d:{Dec:<nil>} s:656041n Format:DecimalSI} memory:{i:{value:6750208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.549121       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:656041 scale:-9} d:{Dec:<nil>} s:656041n Format:DecimalSI}, 1
I0412 15:53:15.549179       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:57 +0000 UTC Window:{Duration:11.992s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:635340 scale:-9} d:{Dec:<nil>} s:635340n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.549199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:635340 scale:-9} d:{Dec:<nil>} s:635340n Format:DecimalSI}, 1
I0412 15:53:15.549252       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:10 +0000 UTC Window:{Duration:30.238s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2739698 scale:-9} d:{Dec:<nil>} s:2739698n Format:DecimalSI} memory:{i:{value:18505728 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.549271       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2739698 scale:-9} d:{Dec:<nil>} s:2739698n Format:DecimalSI}, 3
I0412 15:53:15.549305       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:57 +0000 UTC Window:{Duration:12.354s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:460255 scale:-9} d:{Dec:<nil>} s:460255n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.549317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:460255 scale:-9} d:{Dec:<nil>} s:460255n Format:DecimalSI}, 1
I0412 15:53:15.549343       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:01 +0000 UTC Window:{Duration:16.234s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:468646 scale:-9} d:{Dec:<nil>} s:468646n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:53:15.549348       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:468646 scale:-9} d:{Dec:<nil>} s:468646n Format:DecimalSI}, 1
I0412 15:53:15.549382       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:52:58 +0000 UTC Window:{Duration:18.65s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:184343 scale:-9} d:{Dec:<nil>} s:184343n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.549393       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:184343 scale:-9} d:{Dec:<nil>} s:184343n Format:DecimalSI}, 1
I0412 15:53:15.549420       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:08 +0000 UTC Window:{Duration:16.074s} Containers:[{Name:updater Usage:map[cpu:{i:{value:90829 scale:-9} d:{Dec:<nil>} s:90829n Format:DecimalSI} memory:{i:{value:12140544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:53:15.549431       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:90829 scale:-9} d:{Dec:<nil>} s:90829n Format:DecimalSI}, 1
I0412 15:53:15.549478       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:06 +0000 UTC Window:{Duration:10.521s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:367930 scale:-9} d:{Dec:<nil>} s:367930n Format:DecimalSI} memory:{i:{value:52563968 scale:0} d:{Dec:<nil>} s:51332Ki Format:BinarySI}]}]}
I0412 15:53:15.549496       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:367930 scale:-9} d:{Dec:<nil>} s:367930n Format:DecimalSI}, 1
I0412 15:53:15.549603       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:53:15.549622       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:53:15.549659       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:53:15.549701       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:53:15.549732       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 7.860\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:53:15.549740       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc0000104e0 ControlledValues:<nil>}:
I0412 15:53:15.549776       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:53:15.549784       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:53:15.549792       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478385]
I0412 15:53:15.549798       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:53:15.549805       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:859526889]
I0412 15:53:15.549810       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:53:15.572255       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c180} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c210 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7571173e-e95d-4365-9775-08393dd998ab] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c6c0 TLS:0xc0005220b0}
I0412 15:53:15.588869       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cb10} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c39af971-e508-4718-bcac-200f22cd6962] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d320 TLS:0xc0005220b0}
I0412 15:53:15.589793       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:53:15.589819       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:53:28.122898       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 2 items received
I0412 15:54:15.531665       1 recommender.go:166] Recommender Run
I0412 15:54:15.531724       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:54:15.531736       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:54:15.531802       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:54:15.547178       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0f60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[add38bb1-b054-4f83-9f50-e035ad53421a add38bb1-b054-4f83-9f50-e035ad53421a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364fc0 TLS:0xc0005220b0}
I0412 15:54:15.548119       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:54:15.548232       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:59 +0000 UTC Window:{Duration:16.487s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.548250       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:54:15.548319       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:10 +0000 UTC Window:{Duration:23.426s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.548379       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:54:15.548532       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:07 +0000 UTC Window:{Duration:17.809s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1958616 scale:-9} d:{Dec:<nil>} s:1958616n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:54:15.548550       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1958616 scale:-9} d:{Dec:<nil>} s:1958616n Format:DecimalSI}, 2
I0412 15:54:15.548665       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:55 +0000 UTC Window:{Duration:17.244s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11086928 scale:-9} d:{Dec:<nil>} s:11086928n Format:DecimalSI} memory:{i:{value:168419328 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.548688       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11086928 scale:-9} d:{Dec:<nil>} s:11086928n Format:DecimalSI}, 12
I0412 15:54:15.548750       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:07 +0000 UTC Window:{Duration:17.206s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1607462 scale:-9} d:{Dec:<nil>} s:1607462n Format:DecimalSI} memory:{i:{value:14594048 scale:0} d:{Dec:<nil>} s:14252Ki Format:BinarySI}]}]}
I0412 15:54:15.548768       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1607462 scale:-9} d:{Dec:<nil>} s:1607462n Format:DecimalSI}, 2
I0412 15:54:15.548839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:49 +0000 UTC Window:{Duration:19.515s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:54:15.548859       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:54:15.548873       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:54:15.548938       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:04 +0000 UTC Window:{Duration:11.503s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:993132 scale:-9} d:{Dec:<nil>} s:993132n Format:DecimalSI} memory:{i:{value:6836224 scale:0} d:{Dec:<nil>} s:6676Ki Format:BinarySI}]}]}
I0412 15:54:15.548949       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:993132 scale:-9} d:{Dec:<nil>} s:993132n Format:DecimalSI}, 1
I0412 15:54:15.549049       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:58 +0000 UTC Window:{Duration:18.714s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:547611 scale:-9} d:{Dec:<nil>} s:547611n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.549071       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:547611 scale:-9} d:{Dec:<nil>} s:547611n Format:DecimalSI}, 1
I0412 15:54:15.549133       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:57 +0000 UTC Window:{Duration:14.748s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2288445 scale:-9} d:{Dec:<nil>} s:2288445n Format:DecimalSI} memory:{i:{value:18612224 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.549145       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2288445 scale:-9} d:{Dec:<nil>} s:2288445n Format:DecimalSI}, 3
I0412 15:54:15.549200       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:59 +0000 UTC Window:{Duration:13.784s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:377176 scale:-9} d:{Dec:<nil>} s:377176n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.549225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:377176 scale:-9} d:{Dec:<nil>} s:377176n Format:DecimalSI}, 1
I0412 15:54:15.549286       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:53:58 +0000 UTC Window:{Duration:10.419s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:48469 scale:-9} d:{Dec:<nil>} s:48469n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:54:15.549308       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:48469 scale:-9} d:{Dec:<nil>} s:48469n Format:DecimalSI}, 1
I0412 15:54:15.549363       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:05 +0000 UTC Window:{Duration:13.834s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:157871 scale:-9} d:{Dec:<nil>} s:157871n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.549384       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:157871 scale:-9} d:{Dec:<nil>} s:157871n Format:DecimalSI}, 1
I0412 15:54:15.549438       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:02 +0000 UTC Window:{Duration:17.205s} Containers:[{Name:updater Usage:map[cpu:{i:{value:102179 scale:-9} d:{Dec:<nil>} s:102179n Format:DecimalSI} memory:{i:{value:12140544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:54:15.549463       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:102179 scale:-9} d:{Dec:<nil>} s:102179n Format:DecimalSI}, 1
I0412 15:54:15.549519       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:01 +0000 UTC Window:{Duration:12.085s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1041290 scale:-9} d:{Dec:<nil>} s:1041290n Format:DecimalSI} memory:{i:{value:52662272 scale:0} d:{Dec:<nil>} s:51428Ki Format:BinarySI}]}]}
I0412 15:54:15.549532       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1041290 scale:-9} d:{Dec:<nil>} s:1041290n Format:DecimalSI}, 2
I0412 15:54:15.549654       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:54:15.549679       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:54:15.549739       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:54:15.549771       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:54:15.549835       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 9.268\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:54:15.549855       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc0008281f8 ControlledValues:<nil>}:
I0412 15:54:15.549907       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:54:15.549923       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:54:15.549941       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478400]
I0412 15:54:15.549960       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:54:15.549976       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:859250199]
I0412 15:54:15.549994       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:54:15.574696       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712cf0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712d80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[245013be-b08f-40bf-aae8-fb3495146078] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b18c0 TLS:0xc0005220b0}
I0412 15:54:15.588902       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713890} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007139b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[320e855c-e90a-401d-a5c7-9a0216ba7324] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd200 TLS:0xc0005220b0}
I0412 15:54:15.589232       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:54:15.589266       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:55:15.532652       1 recommender.go:166] Recommender Run
I0412 15:55:15.532678       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:55:15.532684       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:55:15.532719       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:55:15.550637       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0d0cfff7-7bb3-4819-86f4-6f5f1525abdc 0d0cfff7-7bb3-4819-86f4-6f5f1525abdc] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 15:55:15.551090       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:55:15.551141       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:51 +0000 UTC Window:{Duration:15.422s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551148       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:55:15.551168       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:07 +0000 UTC Window:{Duration:22.998s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:815104 scale:0} d:{Dec:<nil>} s:796Ki Format:BinarySI}]}]}
I0412 15:55:15.551174       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:55:15.551192       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:03 +0000 UTC Window:{Duration:16.896s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2306403 scale:-9} d:{Dec:<nil>} s:2306403n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:55:15.551197       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2306403 scale:-9} d:{Dec:<nil>} s:2306403n Format:DecimalSI}, 3
I0412 15:55:15.551216       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:07 +0000 UTC Window:{Duration:11.309s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13316738 scale:-9} d:{Dec:<nil>} s:13316738n Format:DecimalSI} memory:{i:{value:168304640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551224       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13316738 scale:-9} d:{Dec:<nil>} s:13316738n Format:DecimalSI}, 14
I0412 15:55:15.551253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:00 +0000 UTC Window:{Duration:17.939s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1890071 scale:-9} d:{Dec:<nil>} s:1890071n Format:DecimalSI} memory:{i:{value:14868480 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551262       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1890071 scale:-9} d:{Dec:<nil>} s:1890071n Format:DecimalSI}, 2
I0412 15:55:15.551293       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:56 +0000 UTC Window:{Duration:19.184s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:55:15.551301       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:55:15.551308       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:55:15.551335       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:10 +0000 UTC Window:{Duration:31.816s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1041299 scale:-9} d:{Dec:<nil>} s:1041299n Format:DecimalSI} memory:{i:{value:6864896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1041299 scale:-9} d:{Dec:<nil>} s:1041299n Format:DecimalSI}, 2
I0412 15:55:15.551368       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:02 +0000 UTC Window:{Duration:13.671s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:787506 scale:-9} d:{Dec:<nil>} s:787506n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:55:15.551374       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:787506 scale:-9} d:{Dec:<nil>} s:787506n Format:DecimalSI}, 1
I0412 15:55:15.551388       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:07 +0000 UTC Window:{Duration:12.852s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3000622 scale:-9} d:{Dec:<nil>} s:3000622n Format:DecimalSI} memory:{i:{value:18636800 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551394       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3000622 scale:-9} d:{Dec:<nil>} s:3000622n Format:DecimalSI}, 4
I0412 15:55:15.551407       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:01 +0000 UTC Window:{Duration:19.485s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:255427 scale:-9} d:{Dec:<nil>} s:255427n Format:DecimalSI} memory:{i:{value:9830400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:255427 scale:-9} d:{Dec:<nil>} s:255427n Format:DecimalSI}, 1
I0412 15:55:15.551424       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:01 +0000 UTC Window:{Duration:11.115s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:60908 scale:-9} d:{Dec:<nil>} s:60908n Format:DecimalSI} memory:{i:{value:11763712 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551432       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:60908 scale:-9} d:{Dec:<nil>} s:60908n Format:DecimalSI}, 1
I0412 15:55:15.551446       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:54:55 +0000 UTC Window:{Duration:31.769s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:158236 scale:-9} d:{Dec:<nil>} s:158236n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:55:15.551455       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:158236 scale:-9} d:{Dec:<nil>} s:158236n Format:DecimalSI}, 1
I0412 15:55:15.551468       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:07 +0000 UTC Window:{Duration:13.955s} Containers:[{Name:updater Usage:map[cpu:{i:{value:84270 scale:-9} d:{Dec:<nil>} s:84270n Format:DecimalSI} memory:{i:{value:11980800 scale:0} d:{Dec:<nil>} s:11700Ki Format:BinarySI}]}]}
I0412 15:55:15.551472       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:84270 scale:-9} d:{Dec:<nil>} s:84270n Format:DecimalSI}, 1
I0412 15:55:15.551485       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:02 +0000 UTC Window:{Duration:10.972s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1058148 scale:-9} d:{Dec:<nil>} s:1058148n Format:DecimalSI} memory:{i:{value:52662272 scale:0} d:{Dec:<nil>} s:51428Ki Format:BinarySI}]}]}
I0412 15:55:15.551490       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1058148 scale:-9} d:{Dec:<nil>} s:1058148n Format:DecimalSI}, 2
I0412 15:55:15.551541       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:55:15.551557       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:55:15.551586       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:55:15.551601       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:55:15.551631       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 10.864\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:55:15.551639       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000829ba8 ControlledValues:<nil>}:
I0412 15:55:15.551660       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:55:15.551665       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:55:15.551673       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478413]
I0412 15:55:15.551679       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:55:15.551687       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:858991985]
I0412 15:55:15.551692       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:55:15.565182       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729050} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007290e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5e91ac5b-cc81-40c0-93cc-2e0e76edb410] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6900 TLS:0xc0005220b0}
I0412 15:55:15.577880       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d2f0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d380 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a433a30b-d005-4e3c-b284-4e1719553bca] Cache-Control:[no-cache, private] Content-Length:[1364] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:1364 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 15:55:15.578013       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:55:15.578029       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:56:15.532698       1 recommender.go:166] Recommender Run
I0412 15:56:15.532783       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:56:15.532799       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:56:15.532880       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:56:15.550784       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882210 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[26fecdfc-0c27-4964-b083-931901b62bff 26fecdfc-0c27-4964-b083-931901b62bff] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccf00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003646c0 TLS:0xc0005220b0}
I0412 15:56:15.551587       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:56:15.551806       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:00 +0000 UTC Window:{Duration:29.054s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:839680 scale:0} d:{Dec:<nil>} s:820Ki Format:BinarySI}]}]}
I0412 15:56:15.551884       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:56:15.551987       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:10 +0000 UTC Window:{Duration:18.157s} Containers:[{Name:workload Usage:map[cpu:{i:{value:68127 scale:-9} d:{Dec:<nil>} s:68127n Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:56:15.552063       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:68127 scale:-9} d:{Dec:<nil>} s:68127n Format:DecimalSI}, 1
I0412 15:56:15.552151       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:04 +0000 UTC Window:{Duration:15.863s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1720481 scale:-9} d:{Dec:<nil>} s:1720481n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:56:15.552212       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1720481 scale:-9} d:{Dec:<nil>} s:1720481n Format:DecimalSI}, 2
I0412 15:56:15.552318       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:07 +0000 UTC Window:{Duration:17.049s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11679629 scale:-9} d:{Dec:<nil>} s:11679629n Format:DecimalSI} memory:{i:{value:168378368 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:56:15.552335       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11679629 scale:-9} d:{Dec:<nil>} s:11679629n Format:DecimalSI}, 12
I0412 15:56:15.552375       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:59 +0000 UTC Window:{Duration:16.695s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1718238 scale:-9} d:{Dec:<nil>} s:1718238n Format:DecimalSI} memory:{i:{value:14598144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:56:15.552382       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1718238 scale:-9} d:{Dec:<nil>} s:1718238n Format:DecimalSI}, 2
I0412 15:56:15.552421       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:53 +0000 UTC Window:{Duration:16.931s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:56:15.552428       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:56:15.552436       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:56:15.552469       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:09 +0000 UTC Window:{Duration:19.246s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:937493 scale:-9} d:{Dec:<nil>} s:937493n Format:DecimalSI} memory:{i:{value:6881280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:56:15.552513       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:937493 scale:-9} d:{Dec:<nil>} s:937493n Format:DecimalSI}, 1
I0412 15:56:15.552579       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:00 +0000 UTC Window:{Duration:13.756s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:612823 scale:-9} d:{Dec:<nil>} s:612823n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:56:15.552689       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:612823 scale:-9} d:{Dec:<nil>} s:612823n Format:DecimalSI}, 1
I0412 15:56:15.552798       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:11 +0000 UTC Window:{Duration:22.282s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2736917 scale:-9} d:{Dec:<nil>} s:2736917n Format:DecimalSI} memory:{i:{value:18993152 scale:0} d:{Dec:<nil>} s:18548Ki Format:BinarySI}]}]}
I0412 15:56:15.552856       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2736917 scale:-9} d:{Dec:<nil>} s:2736917n Format:DecimalSI}, 3
I0412 15:56:15.552927       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:06 +0000 UTC Window:{Duration:18.227s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:80155 scale:-9} d:{Dec:<nil>} s:80155n Format:DecimalSI} memory:{i:{value:9723904 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:56:15.552987       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80155 scale:-9} d:{Dec:<nil>} s:80155n Format:DecimalSI}, 1
I0412 15:56:15.553142       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:03 +0000 UTC Window:{Duration:11.597s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:50357 scale:-9} d:{Dec:<nil>} s:50357n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:56:15.553161       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50357 scale:-9} d:{Dec:<nil>} s:50357n Format:DecimalSI}, 1
I0412 15:56:15.553198       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:55:57 +0000 UTC Window:{Duration:19.242s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:94792 scale:-9} d:{Dec:<nil>} s:94792n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:56:15.553222       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:94792 scale:-9} d:{Dec:<nil>} s:94792n Format:DecimalSI}, 1
I0412 15:56:15.553257       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:01 +0000 UTC Window:{Duration:11.368s} Containers:[{Name:updater Usage:map[cpu:{i:{value:113124 scale:-9} d:{Dec:<nil>} s:113124n Format:DecimalSI} memory:{i:{value:11980800 scale:0} d:{Dec:<nil>} s:11700Ki Format:BinarySI}]}]}
I0412 15:56:15.553303       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:113124 scale:-9} d:{Dec:<nil>} s:113124n Format:DecimalSI}, 1
I0412 15:56:15.553370       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:10 +0000 UTC Window:{Duration:19.196s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1385340 scale:-9} d:{Dec:<nil>} s:1385340n Format:DecimalSI} memory:{i:{value:52682752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:56:15.553415       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1385340 scale:-9} d:{Dec:<nil>} s:1385340n Format:DecimalSI}, 2
I0412 15:56:15.553536       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:56:15.553556       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:56:15.553606       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:56:15.553662       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:56:15.553729       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 12.724\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:56:15.553775       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090adb0 ControlledValues:<nil>}:
I0412 15:56:15.553814       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:56:15.553825       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:56:15.553836       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478428]
I0412 15:56:15.553844       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:56:15.553854       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:858706963]
I0412 15:56:15.553863       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:56:15.581843       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000987290} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987320 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[78690d62-39fb-4f09-b60f-543ee0efdeb6] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363200} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0d80 TLS:0xc0005220b0}
I0412 15:56:15.609019       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882db0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882e40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[29a46ad9-d76f-40dd-bd74-5b92ec9cea51] Cache-Control:[no-cache, private] Content-Length:[1364] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:1364 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003657a0 TLS:0xc0005220b0}
I0412 15:56:15.609410       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:56:15.609455       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:56:41.328981       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 3 items received
I0412 15:56:59.708149       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 11 items received
I0412 15:57:15.532716       1 recommender.go:166] Recommender Run
I0412 15:57:15.532783       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:57:15.532793       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:57:15.532830       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:57:15.548350       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058eea0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9198d4ea-ffae-4b8a-b5c8-821b52f0e152 9198d4ea-ffae-4b8a-b5c8-821b52f0e152] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365560 TLS:0xc0005220b0}
I0412 15:57:15.549208       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:57:15.549257       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:59 +0000 UTC Window:{Duration:14.646s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:847872 scale:0} d:{Dec:<nil>} s:828Ki Format:BinarySI}]}]}
I0412 15:57:15.549265       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:57:15.549285       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:09 +0000 UTC Window:{Duration:39.888s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:57:15.549288       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:57:15.549305       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:05 +0000 UTC Window:{Duration:15.057s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2189745 scale:-9} d:{Dec:<nil>} s:2189745n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:57:15.549308       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2189745 scale:-9} d:{Dec:<nil>} s:2189745n Format:DecimalSI}, 3
I0412 15:57:15.549324       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:11 +0000 UTC Window:{Duration:16.005s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11859418 scale:-9} d:{Dec:<nil>} s:11859418n Format:DecimalSI} memory:{i:{value:168378368 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:57:15.549330       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11859418 scale:-9} d:{Dec:<nil>} s:11859418n Format:DecimalSI}, 12
I0412 15:57:15.549344       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:10 +0000 UTC Window:{Duration:16.122s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1487160 scale:-9} d:{Dec:<nil>} s:1487160n Format:DecimalSI} memory:{i:{value:14708736 scale:0} d:{Dec:<nil>} s:14364Ki Format:BinarySI}]}]}
I0412 15:57:15.549347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1487160 scale:-9} d:{Dec:<nil>} s:1487160n Format:DecimalSI}, 2
I0412 15:57:15.549364       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:02 +0000 UTC Window:{Duration:29.324s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:57:15.549367       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:57:15.549371       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:57:15.549384       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:08 +0000 UTC Window:{Duration:20.749s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1338377 scale:-9} d:{Dec:<nil>} s:1338377n Format:DecimalSI} memory:{i:{value:6873088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:57:15.549387       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1338377 scale:-9} d:{Dec:<nil>} s:1338377n Format:DecimalSI}, 2
I0412 15:57:15.549400       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:00 +0000 UTC Window:{Duration:17.477s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:546661 scale:-9} d:{Dec:<nil>} s:546661n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:57:15.549405       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:546661 scale:-9} d:{Dec:<nil>} s:546661n Format:DecimalSI}, 1
I0412 15:57:15.549419       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:06 +0000 UTC Window:{Duration:13.75s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2527054 scale:-9} d:{Dec:<nil>} s:2527054n Format:DecimalSI} memory:{i:{value:19304448 scale:0} d:{Dec:<nil>} s:18852Ki Format:BinarySI}]}]}
I0412 15:57:15.549422       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2527054 scale:-9} d:{Dec:<nil>} s:2527054n Format:DecimalSI}, 3
I0412 15:57:15.549436       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:56:55 +0000 UTC Window:{Duration:29.405s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:305152 scale:-9} d:{Dec:<nil>} s:305152n Format:DecimalSI} memory:{i:{value:9723904 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:57:15.549439       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:305152 scale:-9} d:{Dec:<nil>} s:305152n Format:DecimalSI}, 1
I0412 15:57:15.549453       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:09 +0000 UTC Window:{Duration:18.122s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:82330 scale:-9} d:{Dec:<nil>} s:82330n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:57:15.549455       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:82330 scale:-9} d:{Dec:<nil>} s:82330n Format:DecimalSI}, 1
I0412 15:57:15.549469       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:10 +0000 UTC Window:{Duration:23.02s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:122111 scale:-9} d:{Dec:<nil>} s:122111n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:57:15.549475       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:122111 scale:-9} d:{Dec:<nil>} s:122111n Format:DecimalSI}, 1
I0412 15:57:15.549489       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:12 +0000 UTC Window:{Duration:22.629s} Containers:[{Name:updater Usage:map[cpu:{i:{value:473021 scale:-9} d:{Dec:<nil>} s:473021n Format:DecimalSI} memory:{i:{value:11980800 scale:0} d:{Dec:<nil>} s:11700Ki Format:BinarySI}]}]}
I0412 15:57:15.549496       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:473021 scale:-9} d:{Dec:<nil>} s:473021n Format:DecimalSI}, 1
I0412 15:57:15.549512       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:09 +0000 UTC Window:{Duration:24.275s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1350154 scale:-9} d:{Dec:<nil>} s:1350154n Format:DecimalSI} memory:{i:{value:52670464 scale:0} d:{Dec:<nil>} s:51436Ki Format:BinarySI}]}]}
I0412 15:57:15.549514       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1350154 scale:-9} d:{Dec:<nil>} s:1350154n Format:DecimalSI}, 2
I0412 15:57:15.549561       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:57:15.549570       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:57:15.549592       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:57:15.549608       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:57:15.549627       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 14.855\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:57:15.549635       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090be78 ControlledValues:<nil>}:
I0412 15:57:15.549657       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:57:15.549662       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:57:15.549668       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478442]
I0412 15:57:15.549671       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:57:15.549675       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:858440391]
I0412 15:57:15.549678       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:57:15.568055       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746b40} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746bd0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8ef6c5de-4f85-4546-92a0-b12491787d93] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f46c0 TLS:0xc0005220b0}
I0412 15:57:15.584420       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882ed0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882f60 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fdce1a06-e018-434c-b666-44e8cd009233] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1b00 TLS:0xc0005220b0}
I0412 15:57:15.610709       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc0008839e0} GetBody:0x6d9b40 ContentLength:646 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883a70 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[66e2b1e5-a6a8-43a7-9424-5812dc8b8ddc] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 15:57:15.610822       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:57:15.610836       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:57:19.911047       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 4 items received
I0412 15:58:13.460980       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 15:58:15.532489       1 recommender.go:166] Recommender Run
I0412 15:58:15.532535       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:58:15.532543       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:58:15.532578       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:58:15.543161       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729140 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bf513779-f46f-4d83-af11-9a4b5a869c44 bf513779-f46f-4d83-af11-9a4b5a869c44] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6d80 TLS:0xc0005220b0}
I0412 15:58:15.543829       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:58:15.543889       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:11 +0000 UTC Window:{Duration:38.174s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:847872 scale:0} d:{Dec:<nil>} s:828Ki Format:BinarySI}]}]}
I0412 15:58:15.543901       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:58:15.543941       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:56 +0000 UTC Window:{Duration:17.397s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:815104 scale:0} d:{Dec:<nil>} s:796Ki Format:BinarySI}]}]}
I0412 15:58:15.543951       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:58:15.543987       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:10 +0000 UTC Window:{Duration:26.555s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2204405 scale:-9} d:{Dec:<nil>} s:2204405n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:58:15.544000       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2204405 scale:-9} d:{Dec:<nil>} s:2204405n Format:DecimalSI}, 3
I0412 15:58:15.544037       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:03 +0000 UTC Window:{Duration:18.071s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12330308 scale:-9} d:{Dec:<nil>} s:12330308n Format:DecimalSI} memory:{i:{value:168357888 scale:0} d:{Dec:<nil>} s:164412Ki Format:BinarySI}]}]}
I0412 15:58:15.544048       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12330308 scale:-9} d:{Dec:<nil>} s:12330308n Format:DecimalSI}, 13
I0412 15:58:15.544082       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:05 +0000 UTC Window:{Duration:14.567s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1697329 scale:-9} d:{Dec:<nil>} s:1697329n Format:DecimalSI} memory:{i:{value:14843904 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:58:15.544093       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1697329 scale:-9} d:{Dec:<nil>} s:1697329n Format:DecimalSI}, 2
I0412 15:58:15.544142       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:55 +0000 UTC Window:{Duration:19.35s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 15:58:15.544155       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:58:15.544164       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:58:15.544201       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:12 +0000 UTC Window:{Duration:17.173s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1053980 scale:-9} d:{Dec:<nil>} s:1053980n Format:DecimalSI} memory:{i:{value:7000064 scale:0} d:{Dec:<nil>} s:6836Ki Format:BinarySI}]}]}
I0412 15:58:15.544214       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1053980 scale:-9} d:{Dec:<nil>} s:1053980n Format:DecimalSI}, 2
I0412 15:58:15.544247       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:10 +0000 UTC Window:{Duration:17.506s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:450074 scale:-9} d:{Dec:<nil>} s:450074n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:58:15.544260       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:450074 scale:-9} d:{Dec:<nil>} s:450074n Format:DecimalSI}, 1
I0412 15:58:15.544297       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:54 +0000 UTC Window:{Duration:13.36s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3078143 scale:-9} d:{Dec:<nil>} s:3078143n Format:DecimalSI} memory:{i:{value:19374080 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:58:15.544304       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3078143 scale:-9} d:{Dec:<nil>} s:3078143n Format:DecimalSI}, 4
I0412 15:58:15.544339       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:02 +0000 UTC Window:{Duration:19.3s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:200777 scale:-9} d:{Dec:<nil>} s:200777n Format:DecimalSI} memory:{i:{value:9723904 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:58:15.544346       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:200777 scale:-9} d:{Dec:<nil>} s:200777n Format:DecimalSI}, 1
I0412 15:58:15.544379       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:57:56 +0000 UTC Window:{Duration:32.819s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:180901 scale:-9} d:{Dec:<nil>} s:180901n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:58:15.544389       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:180901 scale:-9} d:{Dec:<nil>} s:180901n Format:DecimalSI}, 1
I0412 15:58:15.544423       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:02 +0000 UTC Window:{Duration:13.127s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:80292 scale:-9} d:{Dec:<nil>} s:80292n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:58:15.544433       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80292 scale:-9} d:{Dec:<nil>} s:80292n Format:DecimalSI}, 1
I0412 15:58:15.544465       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:00 +0000 UTC Window:{Duration:18.494s} Containers:[{Name:updater Usage:map[cpu:{i:{value:82675 scale:-9} d:{Dec:<nil>} s:82675n Format:DecimalSI} memory:{i:{value:11980800 scale:0} d:{Dec:<nil>} s:11700Ki Format:BinarySI}]}]}
I0412 15:58:15.544476       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:82675 scale:-9} d:{Dec:<nil>} s:82675n Format:DecimalSI}, 1
I0412 15:58:15.544507       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:01 +0000 UTC Window:{Duration:15.25s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1014426 scale:-9} d:{Dec:<nil>} s:1014426n Format:DecimalSI} memory:{i:{value:52678656 scale:0} d:{Dec:<nil>} s:51444Ki Format:BinarySI}]}]}
I0412 15:58:15.544517       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1014426 scale:-9} d:{Dec:<nil>} s:1014426n Format:DecimalSI}, 2
I0412 15:58:15.544597       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:58:15.544647       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:58:15.544682       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:58:15.544702       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:58:15.544740       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 17.300\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:58:15.544753       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000604798 ControlledValues:<nil>}:
I0412 15:58:15.544786       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:58:15.544799       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:58:15.544810       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478456]
I0412 15:58:15.544816       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:58:15.544826       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:858160633]
I0412 15:58:15.544836       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:58:15.574149       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1e60} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1ef0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4f1a3fb4-a342-4c61-b43a-0b7cfdc01048] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363980} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff8c0 TLS:0xc0005220b0}
I0412 15:58:15.596441       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712e10} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712ea0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d84593f8-e3a4-46f3-ba52-89baf171e781] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363e00} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d4240 TLS:0xc0005220b0}
I0412 15:58:15.596661       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:58:15.596678       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 15:58:15.596688       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:58:15.596696       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:58:15.596735       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:58:15.609898       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713890 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d0fd7600-d8aa-4b37-809d-a5dffb2c2c1e] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000003680} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d47e0 TLS:0xc0005220b0}
I0412 15:58:15.619548       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d6e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f1701f28-bed9-43f0-9496-a93250b67afd] Cache-Control:[no-cache, private] Content-Length:[1516] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:1516 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0005139e0 TLS:0xc0005220b0}
I0412 15:58:15.628671       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000218270 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bf98cc4b-5410-43a9-a528-5f2e6531df50] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3680} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d4d80 TLS:0xc0005220b0}
I0412 15:58:15.635889       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000218b40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[596b3895-6056-4f64-ab2c-3174f143d957] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003f8b40 TLS:0xc0005220b0}
I0412 15:58:15.650454       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0002193e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8b763178-df2c-4ea3-8f7c-447a95775afb] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000349320 TLS:0xc0005220b0}
I0412 15:58:15.662505       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000219e60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[26f0b87b-13c7-44df-aa96-554db775fb16] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2480} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076a900 TLS:0xc0005220b0}
I0412 15:58:15.662637       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:58:28.767675       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 2 items received
I0412 15:59:15.531889       1 recommender.go:166] Recommender Run
I0412 15:59:15.531932       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 15:59:15.531943       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 15:59:15.531998       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 15:59:15.544740       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728a50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3ae3ceb5-a1cc-44d7-8252-e4d2a7c04f8a 3ae3ceb5-a1cc-44d7-8252-e4d2a7c04f8a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 15:59:15.545463       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 15:59:15.545556       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:06 +0000 UTC Window:{Duration:19.953s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:851968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:59:15.545577       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:59:15.545622       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:11 +0000 UTC Window:{Duration:15.63s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:815104 scale:0} d:{Dec:<nil>} s:796Ki Format:BinarySI}]}]}
I0412 15:59:15.545636       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:59:15.545676       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:57 +0000 UTC Window:{Duration:19.723s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1922526 scale:-9} d:{Dec:<nil>} s:1922526n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 15:59:15.545689       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1922526 scale:-9} d:{Dec:<nil>} s:1922526n Format:DecimalSI}, 2
I0412 15:59:15.545727       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:09 +0000 UTC Window:{Duration:18.724s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13176458 scale:-9} d:{Dec:<nil>} s:13176458n Format:DecimalSI} memory:{i:{value:168357888 scale:0} d:{Dec:<nil>} s:164412Ki Format:BinarySI}]}]}
I0412 15:59:15.545735       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13176458 scale:-9} d:{Dec:<nil>} s:13176458n Format:DecimalSI}, 14
I0412 15:59:15.545768       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:57 +0000 UTC Window:{Duration:15.117s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1627307 scale:-9} d:{Dec:<nil>} s:1627307n Format:DecimalSI} memory:{i:{value:14782464 scale:0} d:{Dec:<nil>} s:14436Ki Format:BinarySI}]}]}
I0412 15:59:15.545839       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1627307 scale:-9} d:{Dec:<nil>} s:1627307n Format:DecimalSI}, 2
I0412 15:59:15.545897       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:50 +0000 UTC Window:{Duration:11.387s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 15:59:15.545910       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:59:15.545918       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 15:59:15.545952       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:58:53 +0000 UTC Window:{Duration:12.313s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:828473 scale:-9} d:{Dec:<nil>} s:828473n Format:DecimalSI} memory:{i:{value:6762496 scale:0} d:{Dec:<nil>} s:6604Ki Format:BinarySI}]}]}
I0412 15:59:15.545964       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:828473 scale:-9} d:{Dec:<nil>} s:828473n Format:DecimalSI}, 1
I0412 15:59:15.545998       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:06 +0000 UTC Window:{Duration:19.684s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:258534 scale:-9} d:{Dec:<nil>} s:258534n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 15:59:15.546010       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:258534 scale:-9} d:{Dec:<nil>} s:258534n Format:DecimalSI}, 1
I0412 15:59:15.546046       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:11 +0000 UTC Window:{Duration:16.992s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3074329 scale:-9} d:{Dec:<nil>} s:3074329n Format:DecimalSI} memory:{i:{value:19374080 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:59:15.546059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3074329 scale:-9} d:{Dec:<nil>} s:3074329n Format:DecimalSI}, 4
I0412 15:59:15.546093       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:10 +0000 UTC Window:{Duration:14.991s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:378560 scale:-9} d:{Dec:<nil>} s:378560n Format:DecimalSI} memory:{i:{value:9723904 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:59:15.546106       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:378560 scale:-9} d:{Dec:<nil>} s:378560n Format:DecimalSI}, 1
I0412 15:59:15.546138       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:09 +0000 UTC Window:{Duration:14.768s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:124322 scale:-9} d:{Dec:<nil>} s:124322n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 15:59:15.546150       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:124322 scale:-9} d:{Dec:<nil>} s:124322n Format:DecimalSI}, 1
I0412 15:59:15.546183       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:09 +0000 UTC Window:{Duration:16.779s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:154598 scale:-9} d:{Dec:<nil>} s:154598n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 15:59:15.546194       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:154598 scale:-9} d:{Dec:<nil>} s:154598n Format:DecimalSI}, 1
I0412 15:59:15.546227       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:11 +0000 UTC Window:{Duration:19.773s} Containers:[{Name:updater Usage:map[cpu:{i:{value:352248 scale:-9} d:{Dec:<nil>} s:352248n Format:DecimalSI} memory:{i:{value:11980800 scale:0} d:{Dec:<nil>} s:11700Ki Format:BinarySI}]}]}
I0412 15:59:15.546239       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:352248 scale:-9} d:{Dec:<nil>} s:352248n Format:DecimalSI}, 1
I0412 15:59:15.546273       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 15:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:11 +0000 UTC Window:{Duration:21.511s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1852215 scale:-9} d:{Dec:<nil>} s:1852215n Format:DecimalSI} memory:{i:{value:52711424 scale:0} d:{Dec:<nil>} s:51476Ki Format:BinarySI}]}]}
I0412 15:59:15.546286       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1852215 scale:-9} d:{Dec:<nil>} s:1852215n Format:DecimalSI}, 2
I0412 15:59:15.546371       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 15:59:15.546389       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 15:59:15.546438       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 15:59:15.546460       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 15:59:15.546505       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 20.141\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 15:59:15.546520       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090a270 ControlledValues:<nil>}:
I0412 15:59:15.546557       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 15:59:15.546573       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:59:15.546585       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478470]
I0412 15:59:15.546602       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:59:15.546613       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:857890258]
I0412 15:59:15.546621       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 15:59:15.564757       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747890} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747920 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b87df467-90cd-402c-9cc0-5e1f051fb1a2] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7b00 TLS:0xc0005220b0}
I0412 15:59:15.574339       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00058ea50} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058eb40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c39adeed-481c-42e0-9ae4-24166291d05c] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 15:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364480 TLS:0xc0005220b0}
I0412 15:59:15.574497       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 15:59:15.574515       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 15:59:45.043077       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 7 items received
I0412 16:00:15.532429       1 recommender.go:166] Recommender Run
I0412 16:00:15.532453       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:00:15.532458       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:00:15.532493       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:00:15.542473       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[79ada55c-0ae4-4cd1-bbd7-929ad995fe94 79ada55c-0ae4-4cd1-bbd7-929ad995fe94] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccf00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003657a0 TLS:0xc0005220b0}
I0412 16:00:15.542914       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:00:15.542973       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:10 +0000 UTC Window:{Duration:15.82s} Containers:[{Name:workload Usage:map[cpu:{i:{value:135651 scale:-9} d:{Dec:<nil>} s:135651n Format:DecimalSI} memory:{i:{value:839680 scale:0} d:{Dec:<nil>} s:820Ki Format:BinarySI}]}]}
I0412 16:00:15.542985       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:135651 scale:-9} d:{Dec:<nil>} s:135651n Format:DecimalSI}, 1
I0412 16:00:15.543017       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:03 +0000 UTC Window:{Duration:17.856s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:00:15.543029       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:00:15.543060       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:03 +0000 UTC Window:{Duration:13.798s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1933323 scale:-9} d:{Dec:<nil>} s:1933323n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 16:00:15.543072       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1933323 scale:-9} d:{Dec:<nil>} s:1933323n Format:DecimalSI}, 2
I0412 16:00:15.543101       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:07 +0000 UTC Window:{Duration:17.414s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12225508 scale:-9} d:{Dec:<nil>} s:12225508n Format:DecimalSI} memory:{i:{value:168402944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:00:15.543109       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12225508 scale:-9} d:{Dec:<nil>} s:12225508n Format:DecimalSI}, 13
I0412 16:00:15.543135       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:07 +0000 UTC Window:{Duration:13.587s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1824243 scale:-9} d:{Dec:<nil>} s:1824243n Format:DecimalSI} memory:{i:{value:14540800 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:00:15.543143       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1824243 scale:-9} d:{Dec:<nil>} s:1824243n Format:DecimalSI}, 2
I0412 16:00:15.543173       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:03 +0000 UTC Window:{Duration:15.757s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:00:15.543178       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:00:15.543184       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:00:15.543201       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:02 +0000 UTC Window:{Duration:11.45s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:965676 scale:-9} d:{Dec:<nil>} s:965676n Format:DecimalSI} memory:{i:{value:6823936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:00:15.543204       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:965676 scale:-9} d:{Dec:<nil>} s:965676n Format:DecimalSI}, 1
I0412 16:00:15.543218       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:09 +0000 UTC Window:{Duration:14.515s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:336066 scale:-9} d:{Dec:<nil>} s:336066n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:00:15.543222       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:336066 scale:-9} d:{Dec:<nil>} s:336066n Format:DecimalSI}, 1
I0412 16:00:15.543236       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:09 +0000 UTC Window:{Duration:24.443s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3380681 scale:-9} d:{Dec:<nil>} s:3380681n Format:DecimalSI} memory:{i:{value:19468288 scale:0} d:{Dec:<nil>} s:19012Ki Format:BinarySI}]}]}
I0412 16:00:15.543239       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3380681 scale:-9} d:{Dec:<nil>} s:3380681n Format:DecimalSI}, 4
I0412 16:00:15.543253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:05 +0000 UTC Window:{Duration:16.888s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:316733 scale:-9} d:{Dec:<nil>} s:316733n Format:DecimalSI} memory:{i:{value:9728000 scale:0} d:{Dec:<nil>} s:9500Ki Format:BinarySI}]}]}
I0412 16:00:15.543260       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:316733 scale:-9} d:{Dec:<nil>} s:316733n Format:DecimalSI}, 1
I0412 16:00:15.543274       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:07 +0000 UTC Window:{Duration:15.075s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:123051 scale:-9} d:{Dec:<nil>} s:123051n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 16:00:15.543278       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:123051 scale:-9} d:{Dec:<nil>} s:123051n Format:DecimalSI}, 1
I0412 16:00:15.543293       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:12 +0000 UTC Window:{Duration:30.537s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:126273 scale:-9} d:{Dec:<nil>} s:126273n Format:DecimalSI} memory:{i:{value:11059200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:00:15.543296       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:126273 scale:-9} d:{Dec:<nil>} s:126273n Format:DecimalSI}, 1
I0412 16:00:15.543309       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:09 +0000 UTC Window:{Duration:17.973s} Containers:[{Name:updater Usage:map[cpu:{i:{value:139320 scale:-9} d:{Dec:<nil>} s:139320n Format:DecimalSI} memory:{i:{value:11984896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:00:15.543312       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:139320 scale:-9} d:{Dec:<nil>} s:139320n Format:DecimalSI}, 1
I0412 16:00:15.543325       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 15:59:58 +0000 UTC Window:{Duration:16.818s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:948804 scale:-9} d:{Dec:<nil>} s:948804n Format:DecimalSI} memory:{i:{value:52711424 scale:0} d:{Dec:<nil>} s:51476Ki Format:BinarySI}]}]}
I0412 16:00:15.543330       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:948804 scale:-9} d:{Dec:<nil>} s:948804n Format:DecimalSI}, 1
I0412 16:00:15.543378       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:00:15.543391       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:00:15.543419       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:00:15.543438       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:00:15.543470       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 23.390\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:00:15.543482       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090aff0 ControlledValues:<nil>}:
I0412 16:00:15.543508       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:00:15.543518       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:00:15.543524       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478484]
I0412 16:00:15.543527       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:00:15.543534       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:857624732]
I0412 16:00:15.543540       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:00:15.554575       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d7a0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d830 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2a7b6f2c-c697-4e31-9ab3-2d6db36fdccc] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd080} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 16:00:15.565667       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e03f0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0480 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4e2aad10-e16b-4ba5-a41b-d4b334790c1b] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd380} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b19e0 TLS:0xc0005220b0}
I0412 16:00:15.565875       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:00:15.565887       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 16:00:22.481536       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 7 items received
I0412 16:00:43.128670       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 16:01:15.531736       1 recommender.go:166] Recommender Run
I0412 16:01:15.531771       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:01:15.531780       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:01:15.531829       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:01:15.547732       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e07b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[63ca0080-9c3e-4448-af73-ce4c9c09ac79 63ca0080-9c3e-4448-af73-ce4c9c09ac79] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b66c0 TLS:0xc0005220b0}
I0412 16:01:15.548472       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:01:15.548566       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:59 +0000 UTC Window:{Duration:14.971s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:839680 scale:0} d:{Dec:<nil>} s:820Ki Format:BinarySI}]}]}
I0412 16:01:15.548583       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:01:15.548678       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:52 +0000 UTC Window:{Duration:10.962s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:01:15.548694       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:01:15.548728       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:06 +0000 UTC Window:{Duration:18.488s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1735720 scale:-9} d:{Dec:<nil>} s:1735720n Format:DecimalSI} memory:{i:{value:32317440 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:01:15.548734       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1735720 scale:-9} d:{Dec:<nil>} s:1735720n Format:DecimalSI}, 2
I0412 16:01:15.548764       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:58 +0000 UTC Window:{Duration:19.486s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9960895 scale:-9} d:{Dec:<nil>} s:9960895n Format:DecimalSI} memory:{i:{value:168402944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:01:15.548778       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9960895 scale:-9} d:{Dec:<nil>} s:9960895n Format:DecimalSI}, 10
I0412 16:01:15.548822       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:11 +0000 UTC Window:{Duration:15.475s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1741712 scale:-9} d:{Dec:<nil>} s:1741712n Format:DecimalSI} memory:{i:{value:14528512 scale:0} d:{Dec:<nil>} s:14188Ki Format:BinarySI}]}]}
I0412 16:01:15.548837       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1741712 scale:-9} d:{Dec:<nil>} s:1741712n Format:DecimalSI}, 2
I0412 16:01:15.548887       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:50 +0000 UTC Window:{Duration:15.223s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:01:15.548905       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:01:15.548914       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:01:15.548960       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:04 +0000 UTC Window:{Duration:16.14s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:984944 scale:-9} d:{Dec:<nil>} s:984944n Format:DecimalSI} memory:{i:{value:6885376 scale:0} d:{Dec:<nil>} s:6724Ki Format:BinarySI}]}]}
I0412 16:01:15.549024       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:984944 scale:-9} d:{Dec:<nil>} s:984944n Format:DecimalSI}, 1
I0412 16:01:15.549093       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:57 +0000 UTC Window:{Duration:17.09s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:484376 scale:-9} d:{Dec:<nil>} s:484376n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:01:15.549115       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:484376 scale:-9} d:{Dec:<nil>} s:484376n Format:DecimalSI}, 1
I0412 16:01:15.549187       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:04 +0000 UTC Window:{Duration:18.062s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3029454 scale:-9} d:{Dec:<nil>} s:3029454n Format:DecimalSI} memory:{i:{value:19496960 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:01:15.549196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3029454 scale:-9} d:{Dec:<nil>} s:3029454n Format:DecimalSI}, 4
I0412 16:01:15.549239       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:08 +0000 UTC Window:{Duration:15.933s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:240820 scale:-9} d:{Dec:<nil>} s:240820n Format:DecimalSI} memory:{i:{value:9728000 scale:0} d:{Dec:<nil>} s:9500Ki Format:BinarySI}]}]}
I0412 16:01:15.549257       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:240820 scale:-9} d:{Dec:<nil>} s:240820n Format:DecimalSI}, 1
I0412 16:01:15.549303       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:07 +0000 UTC Window:{Duration:15.682s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:323173 scale:-9} d:{Dec:<nil>} s:323173n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 16:01:15.549317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:323173 scale:-9} d:{Dec:<nil>} s:323173n Format:DecimalSI}, 1
I0412 16:01:15.549372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:57 +0000 UTC Window:{Duration:19.319s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:386510 scale:-9} d:{Dec:<nil>} s:386510n Format:DecimalSI} memory:{i:{value:11071488 scale:0} d:{Dec:<nil>} s:10812Ki Format:BinarySI}]}]}
I0412 16:01:15.549385       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:386510 scale:-9} d:{Dec:<nil>} s:386510n Format:DecimalSI}, 1
I0412 16:01:15.549432       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:00:57 +0000 UTC Window:{Duration:19.787s} Containers:[{Name:updater Usage:map[cpu:{i:{value:111285 scale:-9} d:{Dec:<nil>} s:111285n Format:DecimalSI} memory:{i:{value:12001280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:01:15.549457       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:111285 scale:-9} d:{Dec:<nil>} s:111285n Format:DecimalSI}, 1
I0412 16:01:15.549497       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:11 +0000 UTC Window:{Duration:27.254s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1420929 scale:-9} d:{Dec:<nil>} s:1420929n Format:DecimalSI} memory:{i:{value:51564544 scale:0} d:{Dec:<nil>} s:50356Ki Format:BinarySI}]}]}
I0412 16:01:15.549513       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1420929 scale:-9} d:{Dec:<nil>} s:1420929n Format:DecimalSI}, 2
I0412 16:01:15.549602       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:01:15.549619       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:01:15.549655       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:01:15.549672       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:01:15.549703       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 27.028\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:01:15.549714       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000829f20 ControlledValues:<nil>}:
I0412 16:01:15.549740       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:01:15.549748       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:01:15.549757       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478495]
I0412 16:01:15.549762       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:01:15.549770       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:857404468]
I0412 16:01:15.549775       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:01:15.570172       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007620f0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[323b0d5a-e586-4899-bb35-4343b79a2106] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0c60 TLS:0xc0005220b0}
I0412 16:01:15.587711       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00058ea80} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00058eb70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1ba4eace-68d0-4cf8-897a-f2ee1b4b3f1e] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b440 TLS:0xc0005220b0}
I0412 16:01:15.587915       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:01:15.587940       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 16:02:14.258565       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 7 items received
I0412 16:02:15.532313       1 recommender.go:166] Recommender Run
I0412 16:02:15.532378       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:02:15.532391       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:02:15.532438       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:02:15.548417       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763a10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a44b9813-3fe2-4910-b4fa-3c4648874f19 a44b9813-3fe2-4910-b4fa-3c4648874f19] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9e00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b18c0 TLS:0xc0005220b0}
I0412 16:02:15.549107       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:02:15.549159       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:11 +0000 UTC Window:{Duration:15.81s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:851968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:02:15.549171       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:02:15.549229       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:59 +0000 UTC Window:{Duration:11.623s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:02:15.549243       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:02:15.549277       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:05 +0000 UTC Window:{Duration:14.723s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1844121 scale:-9} d:{Dec:<nil>} s:1844121n Format:DecimalSI} memory:{i:{value:32055296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:02:15.549285       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1844121 scale:-9} d:{Dec:<nil>} s:1844121n Format:DecimalSI}, 2
I0412 16:02:15.549307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:04 +0000 UTC Window:{Duration:18.565s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10366657 scale:-9} d:{Dec:<nil>} s:10366657n Format:DecimalSI} memory:{i:{value:167800832 scale:0} d:{Dec:<nil>} s:163868Ki Format:BinarySI}]}]}
I0412 16:02:15.549314       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10366657 scale:-9} d:{Dec:<nil>} s:10366657n Format:DecimalSI}, 11
I0412 16:02:15.549333       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:08 +0000 UTC Window:{Duration:26.068s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1497429 scale:-9} d:{Dec:<nil>} s:1497429n Format:DecimalSI} memory:{i:{value:14532608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:02:15.549341       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1497429 scale:-9} d:{Dec:<nil>} s:1497429n Format:DecimalSI}, 2
I0412 16:02:15.549363       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:55 +0000 UTC Window:{Duration:17.197s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:02:15.549369       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:02:15.549374       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:02:15.549392       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:10 +0000 UTC Window:{Duration:29.291s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:899559 scale:-9} d:{Dec:<nil>} s:899559n Format:DecimalSI} memory:{i:{value:6897664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:02:15.549396       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:899559 scale:-9} d:{Dec:<nil>} s:899559n Format:DecimalSI}, 1
I0412 16:02:15.549413       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:05 +0000 UTC Window:{Duration:11.621s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:567421 scale:-9} d:{Dec:<nil>} s:567421n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:02:15.549420       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:567421 scale:-9} d:{Dec:<nil>} s:567421n Format:DecimalSI}, 1
I0412 16:02:15.549436       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:09 +0000 UTC Window:{Duration:13.272s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2663728 scale:-9} d:{Dec:<nil>} s:2663728n Format:DecimalSI} memory:{i:{value:19496960 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:02:15.549442       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2663728 scale:-9} d:{Dec:<nil>} s:2663728n Format:DecimalSI}, 3
I0412 16:02:15.549459       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:06 +0000 UTC Window:{Duration:16.868s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:109378 scale:-9} d:{Dec:<nil>} s:109378n Format:DecimalSI} memory:{i:{value:9728000 scale:0} d:{Dec:<nil>} s:9500Ki Format:BinarySI}]}]}
I0412 16:02:15.549465       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:109378 scale:-9} d:{Dec:<nil>} s:109378n Format:DecimalSI}, 1
I0412 16:02:15.549481       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:09 +0000 UTC Window:{Duration:28.742s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:189722 scale:-9} d:{Dec:<nil>} s:189722n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 16:02:15.549487       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:189722 scale:-9} d:{Dec:<nil>} s:189722n Format:DecimalSI}, 1
I0412 16:02:15.549504       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:04 +0000 UTC Window:{Duration:10.428s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:60030 scale:-9} d:{Dec:<nil>} s:60030n Format:DecimalSI} memory:{i:{value:11071488 scale:0} d:{Dec:<nil>} s:10812Ki Format:BinarySI}]}]}
I0412 16:02:15.549507       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:60030 scale:-9} d:{Dec:<nil>} s:60030n Format:DecimalSI}, 1
I0412 16:02:15.549523       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:05 +0000 UTC Window:{Duration:10.574s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:12001280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:02:15.549526       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:02:15.549543       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:01:56 +0000 UTC Window:{Duration:21.206s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1621380 scale:-9} d:{Dec:<nil>} s:1621380n Format:DecimalSI} memory:{i:{value:51572736 scale:0} d:{Dec:<nil>} s:50364Ki Format:BinarySI}]}]}
I0412 16:02:15.549547       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1621380 scale:-9} d:{Dec:<nil>} s:1621380n Format:DecimalSI}, 2
I0412 16:02:15.549601       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:02:15.549613       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:02:15.549639       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:02:15.549652       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:02:15.549674       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 31.299\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:02:15.549682       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000991068 ControlledValues:<nil>}:
I0412 16:02:15.549702       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:02:15.549716       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:02:15.549722       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478512]
I0412 16:02:15.549725       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:02:15.549731       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:857081240]
I0412 16:02:15.549734       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:02:15.578610       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986fc0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987050 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3405e008-2218-4a4a-8f56-b2625bf2f6d7] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003659e0 TLS:0xc0005220b0}
I0412 16:02:15.599783       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882de0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882e70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4393bf4d-8df8-4c56-b501-3c7463f711e6] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd560 TLS:0xc0005220b0}
I0412 16:02:15.599966       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:02:15.599987       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 16:03:04.712306       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 14 items received
I0412 16:03:15.532110       1 recommender.go:166] Recommender Run
I0412 16:03:15.532155       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:03:15.532166       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:03:15.532207       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:03:15.546771       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[826ccb6e-8b7c-4fb2-a734-003679ed701a 826ccb6e-8b7c-4fb2-a734-003679ed701a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd200 TLS:0xc0005220b0}
I0412 16:03:15.547448       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:03:15.547513       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:03 +0000 UTC Window:{Duration:18.351s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:851968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:03:15.547534       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:03:15.547555       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:02 +0000 UTC Window:{Duration:28.242s} Containers:[{Name:workload Usage:map[cpu:{i:{value:76092 scale:-9} d:{Dec:<nil>} s:76092n Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:03:15.547563       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:76092 scale:-9} d:{Dec:<nil>} s:76092n Format:DecimalSI}, 1
I0412 16:03:15.547582       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:07 +0000 UTC Window:{Duration:14.63s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2232740 scale:-9} d:{Dec:<nil>} s:2232740n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 16:03:15.547586       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2232740 scale:-9} d:{Dec:<nil>} s:2232740n Format:DecimalSI}, 3
I0412 16:03:15.547603       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:07 +0000 UTC Window:{Duration:13.098s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12412811 scale:-9} d:{Dec:<nil>} s:12412811n Format:DecimalSI} memory:{i:{value:167620608 scale:0} d:{Dec:<nil>} s:163692Ki Format:BinarySI}]}]}
I0412 16:03:15.547606       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12412811 scale:-9} d:{Dec:<nil>} s:12412811n Format:DecimalSI}, 13
I0412 16:03:15.547621       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:06 +0000 UTC Window:{Duration:11.455s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1657529 scale:-9} d:{Dec:<nil>} s:1657529n Format:DecimalSI} memory:{i:{value:14528512 scale:0} d:{Dec:<nil>} s:14188Ki Format:BinarySI}]}]}
I0412 16:03:15.547628       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1657529 scale:-9} d:{Dec:<nil>} s:1657529n Format:DecimalSI}, 2
I0412 16:03:15.547647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:00 +0000 UTC Window:{Duration:13.595s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:03:15.547654       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:03:15.547658       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:03:15.547672       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:01 +0000 UTC Window:{Duration:15.375s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1274471 scale:-9} d:{Dec:<nil>} s:1274471n Format:DecimalSI} memory:{i:{value:6750208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:03:15.547682       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1274471 scale:-9} d:{Dec:<nil>} s:1274471n Format:DecimalSI}, 2
I0412 16:03:15.547696       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:53 +0000 UTC Window:{Duration:16.2s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:378148 scale:-9} d:{Dec:<nil>} s:378148n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:03:15.547699       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:378148 scale:-9} d:{Dec:<nil>} s:378148n Format:DecimalSI}, 1
I0412 16:03:15.547713       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:08 +0000 UTC Window:{Duration:16.864s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2736361 scale:-9} d:{Dec:<nil>} s:2736361n Format:DecimalSI} memory:{i:{value:18350080 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:03:15.547717       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2736361 scale:-9} d:{Dec:<nil>} s:2736361n Format:DecimalSI}, 3
I0412 16:03:15.547731       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:00 +0000 UTC Window:{Duration:18.478s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:286935 scale:-9} d:{Dec:<nil>} s:286935n Format:DecimalSI} memory:{i:{value:9728000 scale:0} d:{Dec:<nil>} s:9500Ki Format:BinarySI}]}]}
I0412 16:03:15.547737       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:286935 scale:-9} d:{Dec:<nil>} s:286935n Format:DecimalSI}, 1
I0412 16:03:15.547753       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:59 +0000 UTC Window:{Duration:11.663s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:657035 scale:-9} d:{Dec:<nil>} s:657035n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 16:03:15.547759       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:657035 scale:-9} d:{Dec:<nil>} s:657035n Format:DecimalSI}, 1
I0412 16:03:15.547774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:02:56 +0000 UTC Window:{Duration:25.139s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:187875 scale:-9} d:{Dec:<nil>} s:187875n Format:DecimalSI} memory:{i:{value:11071488 scale:0} d:{Dec:<nil>} s:10812Ki Format:BinarySI}]}]}
I0412 16:03:15.547782       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:187875 scale:-9} d:{Dec:<nil>} s:187875n Format:DecimalSI}, 1
I0412 16:03:15.547796       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:09 +0000 UTC Window:{Duration:12.505s} Containers:[{Name:updater Usage:map[cpu:{i:{value:80447 scale:-9} d:{Dec:<nil>} s:80447n Format:DecimalSI} memory:{i:{value:12005376 scale:0} d:{Dec:<nil>} s:11724Ki Format:BinarySI}]}]}
I0412 16:03:15.547799       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80447 scale:-9} d:{Dec:<nil>} s:80447n Format:DecimalSI}, 1
I0412 16:03:15.547813       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:00 +0000 UTC Window:{Duration:19.082s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1067393 scale:-9} d:{Dec:<nil>} s:1067393n Format:DecimalSI} memory:{i:{value:51605504 scale:0} d:{Dec:<nil>} s:50396Ki Format:BinarySI}]}]}
I0412 16:03:15.547816       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1067393 scale:-9} d:{Dec:<nil>} s:1067393n Format:DecimalSI}, 2
I0412 16:03:15.547869       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:03:15.547883       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:03:15.547907       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:03:15.547920       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:03:15.547939       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 36.178\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:03:15.547944       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc000828678 ControlledValues:<nil>}:
I0412 16:03:15.547962       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:03:15.547967       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:03:15.547972       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478524]
I0412 16:03:15.547975       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:03:15.547979       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:856848110]
I0412 16:03:15.547982       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:03:15.563435       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0009875c0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987650 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[473140d1-9610-4352-9291-e7373d852837] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365e60 TLS:0xc0005220b0}
I0412 16:03:15.581744       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e00f0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[17a58335-3657-4070-b12e-43bc45e3cdb3] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2c00} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6a20 TLS:0xc0005220b0}
I0412 16:03:15.581902       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:03:15.581916       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 16:04:15.532465       1 recommender.go:166] Recommender Run
I0412 16:04:15.532499       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:04:15.532508       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:04:15.532742       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:04:15.547501       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1020 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6f41afc3-04f8-4129-aad0-2835b3408aef 6f41afc3-04f8-4129-aad0-2835b3408aef] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6fc0 TLS:0xc0005220b0}
I0412 16:04:15.548018       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:04:15.548070       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:58 +0000 UTC Window:{Duration:23.73s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:04:15.548082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:04:15.548107       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:56 +0000 UTC Window:{Duration:17.878s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:04:15.548110       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:04:15.548131       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:55 +0000 UTC Window:{Duration:15.703s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2862574 scale:-9} d:{Dec:<nil>} s:2862574n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 16:04:15.548138       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2862574 scale:-9} d:{Dec:<nil>} s:2862574n Format:DecimalSI}, 3
I0412 16:04:15.548157       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:00 +0000 UTC Window:{Duration:15.49s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10934861 scale:-9} d:{Dec:<nil>} s:10934861n Format:DecimalSI} memory:{i:{value:168435712 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:04:15.548164       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10934861 scale:-9} d:{Dec:<nil>} s:10934861n Format:DecimalSI}, 11
I0412 16:04:15.548182       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:10 +0000 UTC Window:{Duration:19.054s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2068909 scale:-9} d:{Dec:<nil>} s:2068909n Format:DecimalSI} memory:{i:{value:15040512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:04:15.548190       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2068909 scale:-9} d:{Dec:<nil>} s:2068909n Format:DecimalSI}, 3
I0412 16:04:15.548212       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:56 +0000 UTC Window:{Duration:25.72s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:1438 scale:-9} d:{Dec:<nil>} s:1438n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:04:15.548219       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:04:15.548224       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1438 scale:-9} d:{Dec:<nil>} s:1438n Format:DecimalSI}, 1
I0412 16:04:15.548241       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:11 +0000 UTC Window:{Duration:14.368s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:843471 scale:-9} d:{Dec:<nil>} s:843471n Format:DecimalSI} memory:{i:{value:6762496 scale:0} d:{Dec:<nil>} s:6604Ki Format:BinarySI}]}]}
I0412 16:04:15.548247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:843471 scale:-9} d:{Dec:<nil>} s:843471n Format:DecimalSI}, 1
I0412 16:04:15.548264       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:11 +0000 UTC Window:{Duration:19.102s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:228876 scale:-9} d:{Dec:<nil>} s:228876n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:04:15.548267       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:228876 scale:-9} d:{Dec:<nil>} s:228876n Format:DecimalSI}, 1
I0412 16:04:15.548287       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:09 +0000 UTC Window:{Duration:15.228s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2882453 scale:-9} d:{Dec:<nil>} s:2882453n Format:DecimalSI} memory:{i:{value:18731008 scale:0} d:{Dec:<nil>} s:18292Ki Format:BinarySI}]}]}
I0412 16:04:15.548294       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2882453 scale:-9} d:{Dec:<nil>} s:2882453n Format:DecimalSI}, 3
I0412 16:04:15.548310       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:00 +0000 UTC Window:{Duration:14.288s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:155025 scale:-9} d:{Dec:<nil>} s:155025n Format:DecimalSI} memory:{i:{value:9728000 scale:0} d:{Dec:<nil>} s:9500Ki Format:BinarySI}]}]}
I0412 16:04:15.548313       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:155025 scale:-9} d:{Dec:<nil>} s:155025n Format:DecimalSI}, 1
I0412 16:04:15.548332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:09 +0000 UTC Window:{Duration:15.003s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:115710 scale:-9} d:{Dec:<nil>} s:115710n Format:DecimalSI} memory:{i:{value:11759616 scale:0} d:{Dec:<nil>} s:11484Ki Format:BinarySI}]}]}
I0412 16:04:15.548337       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:115710 scale:-9} d:{Dec:<nil>} s:115710n Format:DecimalSI}, 1
I0412 16:04:15.548354       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:10 +0000 UTC Window:{Duration:31.228s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:55751 scale:-9} d:{Dec:<nil>} s:55751n Format:DecimalSI} memory:{i:{value:11071488 scale:0} d:{Dec:<nil>} s:10812Ki Format:BinarySI}]}]}
I0412 16:04:15.548357       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:55751 scale:-9} d:{Dec:<nil>} s:55751n Format:DecimalSI}, 1
I0412 16:04:15.548374       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:03:55 +0000 UTC Window:{Duration:19.657s} Containers:[{Name:updater Usage:map[cpu:{i:{value:80581 scale:-9} d:{Dec:<nil>} s:80581n Format:DecimalSI} memory:{i:{value:12005376 scale:0} d:{Dec:<nil>} s:11724Ki Format:BinarySI}]}]}
I0412 16:04:15.548379       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80581 scale:-9} d:{Dec:<nil>} s:80581n Format:DecimalSI}, 1
I0412 16:04:15.548397       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:01 +0000 UTC Window:{Duration:19.85s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:766498 scale:-9} d:{Dec:<nil>} s:766498n Format:DecimalSI} memory:{i:{value:51609600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:04:15.548403       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:766498 scale:-9} d:{Dec:<nil>} s:766498n Format:DecimalSI}, 1
I0412 16:04:15.548453       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:04:15.548461       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:04:15.548487       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:04:15.548501       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:04:15.548522       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 41.711\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:04:15.548529       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:100 scale:-3} d:{Dec:<nil>} s:100m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:524288000 scale:0} d:{Dec:<nil>} s:500Mi Format:BinarySI}] ControlledResources:0xc00090b4d0 ControlledValues:<nil>}:
I0412 16:04:15.548555       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:04:15.548561       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:04:15.548567       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478537]
I0412 16:04:15.548571       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:04:15.548576       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:856601816]
I0412 16:04:15.548580       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:04:15.565044       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007462d0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007463c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[328d6028-eeeb-4b12-b5f5-dc47c6bcd2de] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c120 TLS:0xc0005220b0}
I0412 16:04:15.586993       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746cc0} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746d50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d88ca3ad-7097-4fa1-8668-4637a2139d62] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cc60 TLS:0xc0005220b0}
I0412 16:04:15.587130       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:04:15.587153       1 recommender.go:188] ClusterState is tracking 15 aggregated container states
I0412 16:05:15.531973       1 recommender.go:166] Recommender Run
I0412 16:05:15.531996       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:05:15.532002       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:05:15.532027       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:05:15.546142       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763140 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[32de12ef-0091-44cb-95a0-b76d3f1537cc 32de12ef-0091-44cb-95a0-b76d3f1537cc] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3b00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364480 TLS:0xc0005220b0}
I0412 16:05:15.546640       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:05:15.546686       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-2vpfg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:48 +0000 UTC Window:{Duration:17.508s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:05:15.546692       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:05:15.546712       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-7b8f975b8d-nb47r GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:7b8f975b8d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:08 +0000 UTC Window:{Duration:19.029s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:05:15.546720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:05:15.546738       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:05 +0000 UTC Window:{Duration:19.56s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2193507 scale:-9} d:{Dec:<nil>} s:2193507n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 16:05:15.546741       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2193507 scale:-9} d:{Dec:<nil>} s:2193507n Format:DecimalSI}, 3
I0412 16:05:15.546757       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:12 +0000 UTC Window:{Duration:19.38s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:27470072 scale:-9} d:{Dec:<nil>} s:27470072n Format:DecimalSI} memory:{i:{value:172621824 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:05:15.546760       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:27470072 scale:-9} d:{Dec:<nil>} s:27470072n Format:DecimalSI}, 28
I0412 16:05:15.546774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:59 +0000 UTC Window:{Duration:11.291s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1666194 scale:-9} d:{Dec:<nil>} s:1666194n Format:DecimalSI} memory:{i:{value:14536704 scale:0} d:{Dec:<nil>} s:14196Ki Format:BinarySI}]}]}
I0412 16:05:15.546777       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1666194 scale:-9} d:{Dec:<nil>} s:1666194n Format:DecimalSI}, 2
I0412 16:05:15.546801       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:04:56 +0000 UTC Window:{Duration:25.562s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:05:15.546805       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:05:15.546810       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:05:15.546824       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:04 +0000 UTC Window:{Duration:13.551s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1857427 scale:-9} d:{Dec:<nil>} s:1857427n Format:DecimalSI} memory:{i:{value:6782976 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:05:15.546827       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1857427 scale:-9} d:{Dec:<nil>} s:1857427n Format:DecimalSI}, 2
I0412 16:05:15.546840       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:07 +0000 UTC Window:{Duration:12.889s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:615253 scale:-9} d:{Dec:<nil>} s:615253n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:05:15.546843       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:615253 scale:-9} d:{Dec:<nil>} s:615253n Format:DecimalSI}, 1
I0412 16:05:15.546856       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:08 +0000 UTC Window:{Duration:12.055s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3233927 scale:-9} d:{Dec:<nil>} s:3233927n Format:DecimalSI} memory:{i:{value:18989056 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:05:15.546858       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3233927 scale:-9} d:{Dec:<nil>} s:3233927n Format:DecimalSI}, 4
I0412 16:05:15.546873       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:00 +0000 UTC Window:{Duration:12.976s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:460003 scale:-9} d:{Dec:<nil>} s:460003n Format:DecimalSI} memory:{i:{value:9728000 scale:0} d:{Dec:<nil>} s:9500Ki Format:BinarySI}]}]}
I0412 16:05:15.546876       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:460003 scale:-9} d:{Dec:<nil>} s:460003n Format:DecimalSI}, 1
I0412 16:05:15.546890       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:08 +0000 UTC Window:{Duration:26.323s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:929643 scale:-9} d:{Dec:<nil>} s:929643n Format:DecimalSI} memory:{i:{value:11767808 scale:0} d:{Dec:<nil>} s:11492Ki Format:BinarySI}]}]}
I0412 16:05:15.546893       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:929643 scale:-9} d:{Dec:<nil>} s:929643n Format:DecimalSI}, 1
I0412 16:05:15.546905       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:09 +0000 UTC Window:{Duration:15.032s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:613491 scale:-9} d:{Dec:<nil>} s:613491n Format:DecimalSI} memory:{i:{value:11071488 scale:0} d:{Dec:<nil>} s:10812Ki Format:BinarySI}]}]}
I0412 16:05:15.546908       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:613491 scale:-9} d:{Dec:<nil>} s:613491n Format:DecimalSI}, 1
I0412 16:05:15.546921       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:01 +0000 UTC Window:{Duration:19.26s} Containers:[{Name:updater Usage:map[cpu:{i:{value:366926 scale:-9} d:{Dec:<nil>} s:366926n Format:DecimalSI} memory:{i:{value:12017664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:05:15.546923       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:366926 scale:-9} d:{Dec:<nil>} s:366926n Format:DecimalSI}, 1
I0412 16:05:15.546937       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:01 +0000 UTC Window:{Duration:14.44s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1734833 scale:-9} d:{Dec:<nil>} s:1734833n Format:DecimalSI} memory:{i:{value:52928512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:05:15.546940       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1734833 scale:-9} d:{Dec:<nil>} s:1734833n Format:DecimalSI}, 2
I0412 16:05:15.546988       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:05:15.546995       1 recommender.go:177] ClusterState is tracking 16 PodStates and 1 VPAs
I0412 16:05:15.547016       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:05:15.547025       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:05:15.547044       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 48.083\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:05:15.547049       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc00090a9f0 ControlledValues:<nil>}:
I0412 16:05:15.547064       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:05:15.547069       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:05:15.547074       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478553]
I0412 16:05:15.547077       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:05:15.547082       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:856288774]
I0412 16:05:15.547091       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:05:15.566955       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986660} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009866f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[15827991-20fe-4fce-9721-081dae7805ed] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3c80} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b440 TLS:0xc0005220b0}
I0412 16:05:15.585471       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0009873b0} GetBody:0x6d9b40 ContentLength:463 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987440 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5a732f80-d6e7-4ed2-a456-f14bed1dfa57] Cache-Control:[no-cache, private] Content-Length:[1362] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:1362 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4480 TLS:0xc0005220b0}
I0412 16:05:15.585600       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:05:15.585616       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 16:05:43.334688       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 1 items received
I0412 16:05:56.914451       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 12 items received
I0412 16:06:15.532287       1 recommender.go:166] Recommender Run
I0412 16:06:15.532314       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:06:15.532321       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:06:15.532420       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:06:15.532498       1 cluster_feeder.go:401] Deleting Pod {default workload-7b8f975b8d-2vpfg}
I0412 16:06:15.532514       1 cluster_feeder.go:401] Deleting Pod {default workload-7b8f975b8d-nb47r}
I0412 16:06:15.532520       1 cluster_feeder.go:401] Deleting Pod {default workload-57f59d8dd8-xd2lp}
I0412 16:06:15.541893       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cf00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6a742266-801a-47cf-aaf4-407f27a42f9d 6a742266-801a-47cf-aaf4-407f27a42f9d] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000808a20 TLS:0xc0005220b0}
I0412 16:06:15.542371       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:06:15.542433       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-jlqf4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:54 +0000 UTC Window:{Duration:16.502s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:843776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:06:15.542442       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:06:15.542470       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-wd8bl GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:11 +0000 UTC Window:{Duration:14.692s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:06:15.542488       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:06:15.542519       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:01 +0000 UTC Window:{Duration:12.162s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1850518 scale:-9} d:{Dec:<nil>} s:1850518n Format:DecimalSI} memory:{i:{value:32051200 scale:0} d:{Dec:<nil>} s:31300Ki Format:BinarySI}]}]}
I0412 16:06:15.542528       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1850518 scale:-9} d:{Dec:<nil>} s:1850518n Format:DecimalSI}, 2
I0412 16:06:15.542558       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:00 +0000 UTC Window:{Duration:17.968s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10904329 scale:-9} d:{Dec:<nil>} s:10904329n Format:DecimalSI} memory:{i:{value:171614208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:06:15.542566       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10904329 scale:-9} d:{Dec:<nil>} s:10904329n Format:DecimalSI}, 11
I0412 16:06:15.542592       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:06 +0000 UTC Window:{Duration:11.711s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1702245 scale:-9} d:{Dec:<nil>} s:1702245n Format:DecimalSI} memory:{i:{value:15044608 scale:0} d:{Dec:<nil>} s:14692Ki Format:BinarySI}]}]}
I0412 16:06:15.542601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1702245 scale:-9} d:{Dec:<nil>} s:1702245n Format:DecimalSI}, 2
I0412 16:06:15.542632       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:05:59 +0000 UTC Window:{Duration:12.01s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:06:15.542648       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:06:15.542654       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:06:15.542679       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:06 +0000 UTC Window:{Duration:13.769s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1036386 scale:-9} d:{Dec:<nil>} s:1036386n Format:DecimalSI} memory:{i:{value:6791168 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:06:15.542695       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1036386 scale:-9} d:{Dec:<nil>} s:1036386n Format:DecimalSI}, 2
I0412 16:06:15.542722       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:08 +0000 UTC Window:{Duration:19.051s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:476877 scale:-9} d:{Dec:<nil>} s:476877n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:06:15.542731       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:476877 scale:-9} d:{Dec:<nil>} s:476877n Format:DecimalSI}, 1
I0412 16:06:15.542758       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:04 +0000 UTC Window:{Duration:13.926s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2477236 scale:-9} d:{Dec:<nil>} s:2477236n Format:DecimalSI} memory:{i:{value:19132416 scale:0} d:{Dec:<nil>} s:18684Ki Format:BinarySI}]}]}
I0412 16:06:15.542767       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2477236 scale:-9} d:{Dec:<nil>} s:2477236n Format:DecimalSI}, 3
I0412 16:06:15.542794       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:06 +0000 UTC Window:{Duration:15.504s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:307340 scale:-9} d:{Dec:<nil>} s:307340n Format:DecimalSI} memory:{i:{value:9900032 scale:0} d:{Dec:<nil>} s:9668Ki Format:BinarySI}]}]}
I0412 16:06:15.542799       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:307340 scale:-9} d:{Dec:<nil>} s:307340n Format:DecimalSI}, 1
I0412 16:06:15.542831       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:06 +0000 UTC Window:{Duration:18.495s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:71100 scale:-9} d:{Dec:<nil>} s:71100n Format:DecimalSI} memory:{i:{value:11767808 scale:0} d:{Dec:<nil>} s:11492Ki Format:BinarySI}]}]}
I0412 16:06:15.542839       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:71100 scale:-9} d:{Dec:<nil>} s:71100n Format:DecimalSI}, 1
I0412 16:06:15.542862       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:02 +0000 UTC Window:{Duration:15.73s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:193642 scale:-9} d:{Dec:<nil>} s:193642n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:06:15.542869       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:193642 scale:-9} d:{Dec:<nil>} s:193642n Format:DecimalSI}, 1
I0412 16:06:15.542896       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:08 +0000 UTC Window:{Duration:13.743s} Containers:[{Name:updater Usage:map[cpu:{i:{value:342792 scale:-9} d:{Dec:<nil>} s:342792n Format:DecimalSI} memory:{i:{value:12197888 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:06:15.542902       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:342792 scale:-9} d:{Dec:<nil>} s:342792n Format:DecimalSI}, 1
I0412 16:06:15.542929       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:01 +0000 UTC Window:{Duration:11.063s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1373497 scale:-9} d:{Dec:<nil>} s:1373497n Format:DecimalSI} memory:{i:{value:55492608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:06:15.542935       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1373497 scale:-9} d:{Dec:<nil>} s:1373497n Format:DecimalSI}, 2
I0412 16:06:15.543002       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:06:15.543014       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:06:15.543048       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:06:15.543073       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:06:15.543121       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 55.479\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:06:15.543135       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990fa8 ControlledValues:<nil>}:
I0412 16:06:15.543164       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:06:15.543177       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:06:15.543185       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478568]
I0412 16:06:15.543191       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:06:15.543197       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:856007442]
I0412 16:06:15.543202       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:06:15.565675       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582180} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582210 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[117146ac-945d-4c18-8b72-fbb3f024923a] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3080} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c120 TLS:0xc0005220b0}
I0412 16:06:15.582965       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00045f3b0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00045f620 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[10b608cc-90c5-44ac-805e-d6a58a861fbe] Cache-Control:[no-cache, private] Content-Length:[1364] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000706180} ContentLength:1364 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c900 TLS:0xc0005220b0}
I0412 16:06:15.584519       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:06:15.584535       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 16:06:17.466505       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 8 items received
I0412 16:07:15.531730       1 recommender.go:166] Recommender Run
I0412 16:07:15.531770       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:07:15.531780       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:07:15.531835       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:07:15.531906       1 cluster_feeder.go:401] Deleting Pod {default workload-57f59d8dd8-jlqf4}
I0412 16:07:15.551791       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005beb70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[30516e53-5192-44f6-8fc2-88c7f63c27b4 30516e53-5192-44f6-8fc2-88c7f63c27b4] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d200 TLS:0xc0005220b0}
I0412 16:07:15.552650       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:07:15.552761       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-khnv6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:01 +0000 UTC Window:{Duration:10.091s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:07:15.552784       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:07:15.552834       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-wd8bl GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:48 +0000 UTC Window:{Duration:18.253s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:07:15.552842       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:07:15.552882       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:57 +0000 UTC Window:{Duration:12.616s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2139663 scale:-9} d:{Dec:<nil>} s:2139663n Format:DecimalSI} memory:{i:{value:32055296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:07:15.552895       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2139663 scale:-9} d:{Dec:<nil>} s:2139663n Format:DecimalSI}, 3
I0412 16:07:15.552933       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:09 +0000 UTC Window:{Duration:21.956s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11641419 scale:-9} d:{Dec:<nil>} s:11641419n Format:DecimalSI} memory:{i:{value:173481984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:07:15.552941       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11641419 scale:-9} d:{Dec:<nil>} s:11641419n Format:DecimalSI}, 12
I0412 16:07:15.552975       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:52 +0000 UTC Window:{Duration:11.856s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1613697 scale:-9} d:{Dec:<nil>} s:1613697n Format:DecimalSI} memory:{i:{value:14528512 scale:0} d:{Dec:<nil>} s:14188Ki Format:BinarySI}]}]}
I0412 16:07:15.552995       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1613697 scale:-9} d:{Dec:<nil>} s:1613697n Format:DecimalSI}, 2
I0412 16:07:15.553036       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:52 +0000 UTC Window:{Duration:15.074s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:07:15.553049       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:07:15.553057       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:07:15.553091       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:07 +0000 UTC Window:{Duration:15.953s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:829311 scale:-9} d:{Dec:<nil>} s:829311n Format:DecimalSI} memory:{i:{value:6959104 scale:0} d:{Dec:<nil>} s:6796Ki Format:BinarySI}]}]}
I0412 16:07:15.553103       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:829311 scale:-9} d:{Dec:<nil>} s:829311n Format:DecimalSI}, 1
I0412 16:07:15.553141       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:06 +0000 UTC Window:{Duration:15.261s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:652775 scale:-9} d:{Dec:<nil>} s:652775n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:07:15.553152       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:652775 scale:-9} d:{Dec:<nil>} s:652775n Format:DecimalSI}, 1
I0412 16:07:15.553198       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:07 +0000 UTC Window:{Duration:18.471s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2115478 scale:-9} d:{Dec:<nil>} s:2115478n Format:DecimalSI} memory:{i:{value:19140608 scale:0} d:{Dec:<nil>} s:18692Ki Format:BinarySI}]}]}
I0412 16:07:15.553205       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2115478 scale:-9} d:{Dec:<nil>} s:2115478n Format:DecimalSI}, 3
I0412 16:07:15.553274       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:09 +0000 UTC Window:{Duration:14.098s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:141154 scale:-9} d:{Dec:<nil>} s:141154n Format:DecimalSI} memory:{i:{value:9920512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:07:15.553282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:141154 scale:-9} d:{Dec:<nil>} s:141154n Format:DecimalSI}, 1
I0412 16:07:15.553318       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:05 +0000 UTC Window:{Duration:16.822s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:249197 scale:-9} d:{Dec:<nil>} s:249197n Format:DecimalSI} memory:{i:{value:11677696 scale:0} d:{Dec:<nil>} s:11404Ki Format:BinarySI}]}]}
I0412 16:07:15.553324       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:249197 scale:-9} d:{Dec:<nil>} s:249197n Format:DecimalSI}, 1
I0412 16:07:15.553355       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:03 +0000 UTC Window:{Duration:18.526s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:327917 scale:-9} d:{Dec:<nil>} s:327917n Format:DecimalSI} memory:{i:{value:11620352 scale:0} d:{Dec:<nil>} s:11348Ki Format:BinarySI}]}]}
I0412 16:07:15.553361       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:327917 scale:-9} d:{Dec:<nil>} s:327917n Format:DecimalSI}, 1
I0412 16:07:15.553392       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:06:55 +0000 UTC Window:{Duration:15.629s} Containers:[{Name:updater Usage:map[cpu:{i:{value:60464 scale:-9} d:{Dec:<nil>} s:60464n Format:DecimalSI} memory:{i:{value:11915264 scale:0} d:{Dec:<nil>} s:11636Ki Format:BinarySI}]}]}
I0412 16:07:15.553407       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:60464 scale:-9} d:{Dec:<nil>} s:60464n Format:DecimalSI}, 1
I0412 16:07:15.553439       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:02 +0000 UTC Window:{Duration:14.828s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:974642 scale:-9} d:{Dec:<nil>} s:974642n Format:DecimalSI} memory:{i:{value:56205312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:07:15.553454       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:974642 scale:-9} d:{Dec:<nil>} s:974642n Format:DecimalSI}, 1
I0412 16:07:15.553540       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:07:15.553561       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:07:15.553619       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:07:15.553649       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:07:15.553690       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 63.818\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:07:15.553702       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841680 ControlledValues:<nil>}:
I0412 16:07:15.553736       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:07:15.553747       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:07:15.553760       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478579]
I0412 16:07:15.553768       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:07:15.553778       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:855784434]
I0412 16:07:15.553798       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:07:15.576336       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713a10} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713aa0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[00419888-bcd9-49a4-b92b-9c58e74d3b52] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000706480} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00089fe60 TLS:0xc0005220b0}
I0412 16:07:15.593061       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf830} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf8c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e7320a3d-bb40-41cd-9dbb-2e7ca4ebcd67] Cache-Control:[no-cache, private] Content-Length:[1364] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:1364 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074db00 TLS:0xc0005220b0}
I0412 16:07:15.593324       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:07:15.593352       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 16:07:32.771537       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 17 items received
I0412 16:08:15.532722       1 recommender.go:166] Recommender Run
I0412 16:08:15.532755       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:08:15.532762       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:08:15.532871       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:08:15.543073       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1380 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3ecf40a4-ed0f-460f-82ee-8254f0bb64e2 3ecf40a4-ed0f-460f-82ee-8254f0bb64e2] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000706a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214d80 TLS:0xc0005220b0}
I0412 16:08:15.543650       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:08:15.543706       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-khnv6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:08 +0000 UTC Window:{Duration:11.353s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:08:15.543714       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:08:15.543736       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-wd8bl GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:01 +0000 UTC Window:{Duration:15.392s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:815104 scale:0} d:{Dec:<nil>} s:796Ki Format:BinarySI}]}]}
I0412 16:08:15.543743       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:08:15.543764       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:10 +0000 UTC Window:{Duration:14.899s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1693469 scale:-9} d:{Dec:<nil>} s:1693469n Format:DecimalSI} memory:{i:{value:32055296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:08:15.543769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1693469 scale:-9} d:{Dec:<nil>} s:1693469n Format:DecimalSI}, 2
I0412 16:08:15.543787       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:11 +0000 UTC Window:{Duration:25.803s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11628376 scale:-9} d:{Dec:<nil>} s:11628376n Format:DecimalSI} memory:{i:{value:173531136 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:08:15.543794       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11628376 scale:-9} d:{Dec:<nil>} s:11628376n Format:DecimalSI}, 12
I0412 16:08:15.543812       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:02 +0000 UTC Window:{Duration:13.675s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1339085 scale:-9} d:{Dec:<nil>} s:1339085n Format:DecimalSI} memory:{i:{value:14794752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:08:15.543822       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1339085 scale:-9} d:{Dec:<nil>} s:1339085n Format:DecimalSI}, 2
I0412 16:08:15.543844       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:55 +0000 UTC Window:{Duration:15.882s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:08:15.543851       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:08:15.543855       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:08:15.543876       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:03 +0000 UTC Window:{Duration:11.099s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:989818 scale:-9} d:{Dec:<nil>} s:989818n Format:DecimalSI} memory:{i:{value:7053312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:08:15.543882       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:989818 scale:-9} d:{Dec:<nil>} s:989818n Format:DecimalSI}, 1
I0412 16:08:15.543913       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:10 +0000 UTC Window:{Duration:17.296s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:349040 scale:-9} d:{Dec:<nil>} s:349040n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:08:15.543920       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:349040 scale:-9} d:{Dec:<nil>} s:349040n Format:DecimalSI}, 1
I0412 16:08:15.543939       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:08 +0000 UTC Window:{Duration:17.508s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2273246 scale:-9} d:{Dec:<nil>} s:2273246n Format:DecimalSI} memory:{i:{value:19161088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:08:15.543942       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2273246 scale:-9} d:{Dec:<nil>} s:2273246n Format:DecimalSI}, 3
I0412 16:08:15.543960       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:07:57 +0000 UTC Window:{Duration:16.951s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:265412 scale:-9} d:{Dec:<nil>} s:265412n Format:DecimalSI} memory:{i:{value:9920512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:08:15.543966       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:265412 scale:-9} d:{Dec:<nil>} s:265412n Format:DecimalSI}, 1
I0412 16:08:15.543983       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:07 +0000 UTC Window:{Duration:10.502s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:106265 scale:-9} d:{Dec:<nil>} s:106265n Format:DecimalSI} memory:{i:{value:11685888 scale:0} d:{Dec:<nil>} s:11412Ki Format:BinarySI}]}]}
I0412 16:08:15.543986       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:106265 scale:-9} d:{Dec:<nil>} s:106265n Format:DecimalSI}, 1
I0412 16:08:15.544003       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:07 +0000 UTC Window:{Duration:17.64s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:69331 scale:-9} d:{Dec:<nil>} s:69331n Format:DecimalSI} memory:{i:{value:11669504 scale:0} d:{Dec:<nil>} s:11396Ki Format:BinarySI}]}]}
I0412 16:08:15.544009       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69331 scale:-9} d:{Dec:<nil>} s:69331n Format:DecimalSI}, 1
I0412 16:08:15.544027       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:11 +0000 UTC Window:{Duration:27.531s} Containers:[{Name:updater Usage:map[cpu:{i:{value:140060 scale:-9} d:{Dec:<nil>} s:140060n Format:DecimalSI} memory:{i:{value:11948032 scale:0} d:{Dec:<nil>} s:11668Ki Format:BinarySI}]}]}
I0412 16:08:15.544036       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:140060 scale:-9} d:{Dec:<nil>} s:140060n Format:DecimalSI}, 1
I0412 16:08:15.544071       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:05 +0000 UTC Window:{Duration:11.991s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1438078 scale:-9} d:{Dec:<nil>} s:1438078n Format:DecimalSI} memory:{i:{value:58806272 scale:0} d:{Dec:<nil>} s:57428Ki Format:BinarySI}]}]}
I0412 16:08:15.544083       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1438078 scale:-9} d:{Dec:<nil>} s:1438078n Format:DecimalSI}, 2
I0412 16:08:15.544159       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:08:15.544172       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:08:15.544197       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:08:15.544213       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:08:15.544236       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 73.620\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:08:15.544273       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491cf8 ControlledValues:<nil>}:
I0412 16:08:15.544317       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:08:15.544338       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:08:15.544358       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478595]
I0412 16:08:15.544363       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:08:15.544369       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:855485981]
I0412 16:08:15.544372       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:08:15.564880       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883920} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008839b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1f40d2b6-88c4-45b7-b891-e4059d3796fc] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7680 TLS:0xc0005220b0}
I0412 16:08:15.578799       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986600} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986690 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c58d754b-34f8-4323-a5e3-74fdbc509564] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 16:08:15.596454       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000986f60} GetBody:0x6d9b40 ContentLength:646 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986ff0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e4b77403-595c-4bfa-a192-157ab0cbaf6e] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d0e0 TLS:0xc0005220b0}
I0412 16:08:15.596571       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:08:15.596580       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 16:08:15.596586       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:08:15.596590       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:08:15.596637       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:08:15.817302       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1bc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d94934e0-afc4-4fa2-a9a5-2a664a9ea41a] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000706f00} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215320 TLS:0xc0005220b0}
I0412 16:08:15.973175       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728390 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[131c79e2-2115-457e-8362-8112adc33c7a] Cache-Control:[no-cache, private] Content-Length:[1516] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000707980} ContentLength:1516 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b19e0 TLS:0xc0005220b0}
I0412 16:08:16.006904       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728ba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a5008380-5a88-40eb-9a0b-db789e9728ae] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:16 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000707c80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003646c0 TLS:0xc0005220b0}
I0412 16:08:16.035590       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729320 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[74bf502c-bab5-45fa-a079-6c310437b7fe] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:16 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000707e00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003650e0 TLS:0xc0005220b0}
I0412 16:08:16.132717       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729bc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ca388e27-aec3-49f2-ad05-81224829f326] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:16 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003659e0 TLS:0xc0005220b0}
I0412 16:08:16.149175       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c300 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[52d703ae-690c-40bf-acd9-d94b83e13f8a] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:08:16 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076a900 TLS:0xc0005220b0}
I0412 16:08:16.149352       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 16:09:15.532052       1 recommender.go:166] Recommender Run
I0412 16:09:15.532074       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:09:15.532080       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:09:15.532107       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:09:15.547233       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986690 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[849ee0d1-603d-40ee-95af-a49640f3d548 849ee0d1-603d-40ee-95af-a49640f3d548] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ab40 TLS:0xc0005220b0}
I0412 16:09:15.548068       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:09:15.548122       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-khnv6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:51 +0000 UTC Window:{Duration:14.2s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:802816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:09:15.548146       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:09:15.548181       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-wd8bl GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:10 +0000 UTC Window:{Duration:17.404s} Containers:[{Name:workload Usage:map[cpu:{i:{value:82452 scale:-9} d:{Dec:<nil>} s:82452n Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:09:15.548191       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:82452 scale:-9} d:{Dec:<nil>} s:82452n Format:DecimalSI}, 1
I0412 16:09:15.548222       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:11 +0000 UTC Window:{Duration:19.209s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1751522 scale:-9} d:{Dec:<nil>} s:1751522n Format:DecimalSI} memory:{i:{value:32055296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:09:15.548232       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1751522 scale:-9} d:{Dec:<nil>} s:1751522n Format:DecimalSI}, 2
I0412 16:09:15.548263       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:02 +0000 UTC Window:{Duration:13.704s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11927247 scale:-9} d:{Dec:<nil>} s:11927247n Format:DecimalSI} memory:{i:{value:168284160 scale:0} d:{Dec:<nil>} s:164340Ki Format:BinarySI}]}]}
I0412 16:09:15.548269       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11927247 scale:-9} d:{Dec:<nil>} s:11927247n Format:DecimalSI}, 12
I0412 16:09:15.548298       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:54 +0000 UTC Window:{Duration:16.872s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1804824 scale:-9} d:{Dec:<nil>} s:1804824n Format:DecimalSI} memory:{i:{value:14532608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:09:15.548331       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1804824 scale:-9} d:{Dec:<nil>} s:1804824n Format:DecimalSI}, 2
I0412 16:09:15.548372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:51 +0000 UTC Window:{Duration:11.394s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:09:15.548382       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:09:15.548390       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:09:15.548419       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:56 +0000 UTC Window:{Duration:28.126s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1174500 scale:-9} d:{Dec:<nil>} s:1174500n Format:DecimalSI} memory:{i:{value:6950912 scale:0} d:{Dec:<nil>} s:6788Ki Format:BinarySI}]}]}
I0412 16:09:15.548426       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1174500 scale:-9} d:{Dec:<nil>} s:1174500n Format:DecimalSI}, 2
I0412 16:09:15.548453       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:58 +0000 UTC Window:{Duration:17.824s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:908942 scale:-9} d:{Dec:<nil>} s:908942n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:09:15.548459       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:908942 scale:-9} d:{Dec:<nil>} s:908942n Format:DecimalSI}, 1
I0412 16:09:15.548486       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:06 +0000 UTC Window:{Duration:12.298s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2303220 scale:-9} d:{Dec:<nil>} s:2303220n Format:DecimalSI} memory:{i:{value:19181568 scale:0} d:{Dec:<nil>} s:18732Ki Format:BinarySI}]}]}
I0412 16:09:15.548496       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2303220 scale:-9} d:{Dec:<nil>} s:2303220n Format:DecimalSI}, 3
I0412 16:09:15.548523       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:00 +0000 UTC Window:{Duration:19.322s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:219438 scale:-9} d:{Dec:<nil>} s:219438n Format:DecimalSI} memory:{i:{value:9920512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:09:15.548529       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:219438 scale:-9} d:{Dec:<nil>} s:219438n Format:DecimalSI}, 1
I0412 16:09:15.548557       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:11 +0000 UTC Window:{Duration:23.64s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:278045 scale:-9} d:{Dec:<nil>} s:278045n Format:DecimalSI} memory:{i:{value:11689984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:09:15.548564       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:278045 scale:-9} d:{Dec:<nil>} s:278045n Format:DecimalSI}, 1
I0412 16:09:15.548590       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:11 +0000 UTC Window:{Duration:18.94s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:63305 scale:-9} d:{Dec:<nil>} s:63305n Format:DecimalSI} memory:{i:{value:11747328 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:09:15.548601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:63305 scale:-9} d:{Dec:<nil>} s:63305n Format:DecimalSI}, 1
I0412 16:09:15.548645       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:59 +0000 UTC Window:{Duration:18.23s} Containers:[{Name:updater Usage:map[cpu:{i:{value:195063 scale:-9} d:{Dec:<nil>} s:195063n Format:DecimalSI} memory:{i:{value:11948032 scale:0} d:{Dec:<nil>} s:11668Ki Format:BinarySI}]}]}
I0412 16:09:15.548654       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:195063 scale:-9} d:{Dec:<nil>} s:195063n Format:DecimalSI}, 1
I0412 16:09:15.548683       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:08:53 +0000 UTC Window:{Duration:12.627s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:425912 scale:-9} d:{Dec:<nil>} s:425912n Format:DecimalSI} memory:{i:{value:58888192 scale:0} d:{Dec:<nil>} s:57508Ki Format:BinarySI}]}]}
I0412 16:09:15.548693       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:425912 scale:-9} d:{Dec:<nil>} s:425912n Format:DecimalSI}, 1
I0412 16:09:15.548763       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:09:15.548774       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:09:15.548810       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:09:15.548832       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:09:15.548862       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 84.779\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:09:15.548880       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc00090a798 ControlledValues:<nil>}:
I0412 16:09:15.548908       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:09:15.548919       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:09:15.548928       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478609]
I0412 16:09:15.548934       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:09:15.548941       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:855210184]
I0412 16:09:15.548946       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:09:15.573704       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747530} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007475c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1916b623-7122-44d3-8a40-b594d7facc49] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2600} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 16:09:15.592052       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747ef0} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794030 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[68843117-61f6-46b2-b2ff-3e614fd5af53] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2c00} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d200 TLS:0xc0005220b0}
I0412 16:09:15.592168       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:09:15.592184       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 16:09:32.134629       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 8 items received
I0412 16:09:34.047412       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 6 items received
I0412 16:10:15.531989       1 recommender.go:166] Recommender Run
I0412 16:10:15.532016       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:10:15.532023       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:10:15.532052       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:10:15.547988       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007952c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[46983b54-e8bd-4be7-a469-24ec29f225c9 46983b54-e8bd-4be7-a469-24ec29f225c9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3080} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00089e360 TLS:0xc0005220b0}
I0412 16:10:15.549025       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:10:15.549134       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-khnv6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:58 +0000 UTC Window:{Duration:20.479s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:802816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.549153       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:10:15.549220       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-wd8bl GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:56 +0000 UTC Window:{Duration:18.029s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:10:15.549239       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:10:15.549333       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:58 +0000 UTC Window:{Duration:13.798s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2513625 scale:-9} d:{Dec:<nil>} s:2513625n Format:DecimalSI} memory:{i:{value:32055296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.549347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2513625 scale:-9} d:{Dec:<nil>} s:2513625n Format:DecimalSI}, 3
I0412 16:10:15.549410       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:56 +0000 UTC Window:{Duration:14.3s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12794545 scale:-9} d:{Dec:<nil>} s:12794545n Format:DecimalSI} memory:{i:{value:169029632 scale:0} d:{Dec:<nil>} s:165068Ki Format:BinarySI}]}]}
I0412 16:10:15.549427       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12794545 scale:-9} d:{Dec:<nil>} s:12794545n Format:DecimalSI}, 13
I0412 16:10:15.549484       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:55 +0000 UTC Window:{Duration:28.106s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1685085 scale:-9} d:{Dec:<nil>} s:1685085n Format:DecimalSI} memory:{i:{value:14532608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.549500       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1685085 scale:-9} d:{Dec:<nil>} s:1685085n Format:DecimalSI}, 2
I0412 16:10:15.549567       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:56 +0000 UTC Window:{Duration:18.535s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:10:15.549586       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:10:15.549602       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:10:15.549661       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:09:57 +0000 UTC Window:{Duration:10.859s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1227921 scale:-9} d:{Dec:<nil>} s:1227921n Format:DecimalSI} memory:{i:{value:6946816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.549680       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1227921 scale:-9} d:{Dec:<nil>} s:1227921n Format:DecimalSI}, 2
I0412 16:10:15.549737       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:06 +0000 UTC Window:{Duration:10.126s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:88978 scale:-9} d:{Dec:<nil>} s:88978n Format:DecimalSI} memory:{i:{value:12693504 scale:0} d:{Dec:<nil>} s:12396Ki Format:BinarySI}]}]}
I0412 16:10:15.549756       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:88978 scale:-9} d:{Dec:<nil>} s:88978n Format:DecimalSI}, 1
I0412 16:10:15.549814       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:02 +0000 UTC Window:{Duration:11.166s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3203474 scale:-9} d:{Dec:<nil>} s:3203474n Format:DecimalSI} memory:{i:{value:19185664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.549829       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3203474 scale:-9} d:{Dec:<nil>} s:3203474n Format:DecimalSI}, 4
I0412 16:10:15.549885       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:09 +0000 UTC Window:{Duration:12.439s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:108770 scale:-9} d:{Dec:<nil>} s:108770n Format:DecimalSI} memory:{i:{value:9928704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.549896       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:108770 scale:-9} d:{Dec:<nil>} s:108770n Format:DecimalSI}, 1
I0412 16:10:15.549959       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:07 +0000 UTC Window:{Duration:18.791s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:150816 scale:-9} d:{Dec:<nil>} s:150816n Format:DecimalSI} memory:{i:{value:11649024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.549976       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:150816 scale:-9} d:{Dec:<nil>} s:150816n Format:DecimalSI}, 1
I0412 16:10:15.550034       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:01 +0000 UTC Window:{Duration:19.081s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:52198 scale:-9} d:{Dec:<nil>} s:52198n Format:DecimalSI} memory:{i:{value:11771904 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:10:15.550050       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:52198 scale:-9} d:{Dec:<nil>} s:52198n Format:DecimalSI}, 1
I0412 16:10:15.550105       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:06 +0000 UTC Window:{Duration:12.235s} Containers:[{Name:updater Usage:map[cpu:{i:{value:54924 scale:-9} d:{Dec:<nil>} s:54924n Format:DecimalSI} memory:{i:{value:11948032 scale:0} d:{Dec:<nil>} s:11668Ki Format:BinarySI}]}]}
I0412 16:10:15.550118       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:54924 scale:-9} d:{Dec:<nil>} s:54924n Format:DecimalSI}, 1
I0412 16:10:15.550180       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:06 +0000 UTC Window:{Duration:18.329s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:922527 scale:-9} d:{Dec:<nil>} s:922527n Format:DecimalSI} memory:{i:{value:59027456 scale:0} d:{Dec:<nil>} s:57644Ki Format:BinarySI}]}]}
I0412 16:10:15.550199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:922527 scale:-9} d:{Dec:<nil>} s:922527n Format:DecimalSI}, 1
I0412 16:10:15.550341       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:10:15.550368       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:10:15.550429       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:10:15.550467       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:10:15.550526       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 97.490\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:10:15.550548       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc00090b1d0 ControlledValues:<nil>}:
I0412 16:10:15.550595       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:10:15.550617       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:10:15.550635       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478620]
I0412 16:10:15.550647       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:10:15.550665       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:854996918]
I0412 16:10:15.550676       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:10:15.574537       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be720} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be7b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c04e579c-93db-4f85-a7e6-af1b4e40a7d2] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3200} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00089f9e0 TLS:0xc0005220b0}
I0412 16:10:15.589512       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf440} GetBody:0x6d9b40 ContentLength:464 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf4d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2de5543f-f13b-45de-8ac0-045a74dbf335] Cache-Control:[no-cache, private] Content-Length:[1363] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3680} ContentLength:1363 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c480 TLS:0xc0005220b0}
I0412 16:10:15.589765       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:10:15.589808       1 recommender.go:188] ClusterState is tracking 16 aggregated container states
I0412 16:10:17.484979       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 35 items received
I0412 16:10:47.137104       1 cluster_feeder.go:138] Eviction event chan closed
I0412 16:10:47.137137       1 cluster_feeder.go:128] An attempt to watch eviction events finished. Waiting 13.222489697s before the next one.
I0412 16:10:51.262610       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 4 items received
I0412 16:11:09.716578       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 21 items received
I0412 16:11:15.532627       1 recommender.go:166] Recommender Run
I0412 16:11:15.532738       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:11:15.532808       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:11:15.532939       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:11:15.544807       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089df20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b4fb55d8-4fde-4659-8f4a-2c978f6b8b17 b4fb55d8-4fde-4659-8f4a-2c978f6b8b17] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363e00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c6c0 TLS:0xc0005220b0}
I0412 16:11:15.545411       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:11:15.545490       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-khnv6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:58 +0000 UTC Window:{Duration:26.391s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:806912 scale:0} d:{Dec:<nil>} s:788Ki Format:BinarySI}]}]}
I0412 16:11:15.545555       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:11:15.545609       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-57f59d8dd8-wd8bl GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:57f59d8dd8] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:56 +0000 UTC Window:{Duration:27.561s} Containers:[{Name:workload Usage:map[cpu:{i:{value:57980 scale:-9} d:{Dec:<nil>} s:57980n Format:DecimalSI} memory:{i:{value:811008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:11:15.545622       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:57980 scale:-9} d:{Dec:<nil>} s:57980n Format:DecimalSI}, 1
I0412 16:11:15.545660       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:06 +0000 UTC Window:{Duration:16.622s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1942245 scale:-9} d:{Dec:<nil>} s:1942245n Format:DecimalSI} memory:{i:{value:32055296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:11:15.545667       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1942245 scale:-9} d:{Dec:<nil>} s:1942245n Format:DecimalSI}, 2
I0412 16:11:15.545701       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:58 +0000 UTC Window:{Duration:16.321s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10572697 scale:-9} d:{Dec:<nil>} s:10572697n Format:DecimalSI} memory:{i:{value:168284160 scale:0} d:{Dec:<nil>} s:164340Ki Format:BinarySI}]}]}
I0412 16:11:15.545708       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10572697 scale:-9} d:{Dec:<nil>} s:10572697n Format:DecimalSI}, 11
I0412 16:11:15.545740       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:04 +0000 UTC Window:{Duration:18.69s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1470786 scale:-9} d:{Dec:<nil>} s:1470786n Format:DecimalSI} memory:{i:{value:14577664 scale:0} d:{Dec:<nil>} s:14236Ki Format:BinarySI}]}]}
I0412 16:11:15.545751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1470786 scale:-9} d:{Dec:<nil>} s:1470786n Format:DecimalSI}, 2
I0412 16:11:15.545789       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:54 +0000 UTC Window:{Duration:27.405s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:4269 scale:-9} d:{Dec:<nil>} s:4269n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:11:15.545800       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4269 scale:-9} d:{Dec:<nil>} s:4269n Format:DecimalSI}, 1
I0412 16:11:15.545807       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:11:15.545838       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:59 +0000 UTC Window:{Duration:13.296s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:877481 scale:-9} d:{Dec:<nil>} s:877481n Format:DecimalSI} memory:{i:{value:6950912 scale:0} d:{Dec:<nil>} s:6788Ki Format:BinarySI}]}]}
I0412 16:11:15.545845       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:877481 scale:-9} d:{Dec:<nil>} s:877481n Format:DecimalSI}, 1
I0412 16:11:15.545875       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:03 +0000 UTC Window:{Duration:12.28s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:973127 scale:-9} d:{Dec:<nil>} s:973127n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:11:15.545918       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:973127 scale:-9} d:{Dec:<nil>} s:973127n Format:DecimalSI}, 1
I0412 16:11:15.545962       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:12 +0000 UTC Window:{Duration:25.588s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2628497 scale:-9} d:{Dec:<nil>} s:2628497n Format:DecimalSI} memory:{i:{value:18305024 scale:0} d:{Dec:<nil>} s:17876Ki Format:BinarySI}]}]}
I0412 16:11:15.545968       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2628497 scale:-9} d:{Dec:<nil>} s:2628497n Format:DecimalSI}, 3
I0412 16:11:15.546001       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:03 +0000 UTC Window:{Duration:13.479s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:533348 scale:-9} d:{Dec:<nil>} s:533348n Format:DecimalSI} memory:{i:{value:9928704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:11:15.546286       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:533348 scale:-9} d:{Dec:<nil>} s:533348n Format:DecimalSI}, 1
I0412 16:11:15.546432       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:57 +0000 UTC Window:{Duration:19.066s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:344172 scale:-9} d:{Dec:<nil>} s:344172n Format:DecimalSI} memory:{i:{value:11649024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:11:15.546448       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:344172 scale:-9} d:{Dec:<nil>} s:344172n Format:DecimalSI}, 1
I0412 16:11:15.546485       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:01 +0000 UTC Window:{Duration:11.767s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:507860 scale:-9} d:{Dec:<nil>} s:507860n Format:DecimalSI} memory:{i:{value:11276288 scale:0} d:{Dec:<nil>} s:11012Ki Format:BinarySI}]}]}
I0412 16:11:15.546492       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:507860 scale:-9} d:{Dec:<nil>} s:507860n Format:DecimalSI}, 1
I0412 16:11:15.546526       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:10:59 +0000 UTC Window:{Duration:11.888s} Containers:[{Name:updater Usage:map[cpu:{i:{value:380131 scale:-9} d:{Dec:<nil>} s:380131n Format:DecimalSI} memory:{i:{value:11952128 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:11:15.546568       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:380131 scale:-9} d:{Dec:<nil>} s:380131n Format:DecimalSI}, 1
I0412 16:11:15.546662       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:06 +0000 UTC Window:{Duration:17.497s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:993827 scale:-9} d:{Dec:<nil>} s:993827n Format:DecimalSI} memory:{i:{value:59383808 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:11:15.546702       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:993827 scale:-9} d:{Dec:<nil>} s:993827n Format:DecimalSI}, 1
I0412 16:11:15.546778       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:11:15.546824       1 recommender.go:177] ClusterState is tracking 15 PodStates and 1 VPAs
I0412 16:11:15.546891       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:11:15.546915       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:11:15.546952       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 0, totalWeight: 112.092\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.010\n95\t0.010\n100\t0.010:
I0412 16:11:15.546995       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990e58 ControlledValues:<nil>}:
I0412 16:11:15.547031       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:11 memory:442809964]
I0412 16:11:15.547042       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:11:15.547053       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478634]
I0412 16:11:15.547059       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:11:15.547068       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:21 memory:854730644]
I0412 16:11:15.547076       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:11:15.562431       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000795500} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795590 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[170c2c75-9839-4d40-b753-2fba0b0ef1e2] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00089e6c0 TLS:0xc0005220b0}
I0412 16:11:15.583603       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000795e90} GetBody:0x6d9b40 ContentLength:465 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795f20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d00f0858-83f5-49cf-8ae4-a075d29a99c7] Cache-Control:[no-cache, private] Content-Length:[1364] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:1364 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00089eea0 TLS:0xc0005220b0}
I0412 16:11:15.584300       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:11:15.584333       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:12:15.532672       1 recommender.go:166] Recommender Run
I0412 16:12:15.532726       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:12:15.532736       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:12:15.532787       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:12:15.532856       1 cluster_feeder.go:401] Deleting Pod {default workload-57f59d8dd8-khnv6}
I0412 16:12:15.532887       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-6md5x}
I0412 16:12:15.532895       1 cluster_feeder.go:401] Deleting Pod {default workload-57f59d8dd8-wd8bl}
I0412 16:12:15.544958       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008839b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4d7404b6-fdb7-4646-9d76-34e707affe42 4d7404b6-fdb7-4646-9d76-34e707affe42] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe6c0 TLS:0xc0005220b0}
I0412 16:12:15.546036       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:12:15.546167       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hshzp GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:09 +0000 UTC Window:{Duration:12.302s} Containers:[{Name:workload Usage:map[cpu:{i:{value:26732726 scale:-9} d:{Dec:<nil>} s:26732726n Format:DecimalSI} memory:{i:{value:4022272 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:12:15.546199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:26732726 scale:-9} d:{Dec:<nil>} s:26732726n Format:DecimalSI}, 27
I0412 16:12:15.546281       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-jd5pv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:59 +0000 UTC Window:{Duration:16.489s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49896173 scale:-9} d:{Dec:<nil>} s:49896173n Format:DecimalSI} memory:{i:{value:30425088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:12:15.546307       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49896173 scale:-9} d:{Dec:<nil>} s:49896173n Format:DecimalSI}, 50
I0412 16:12:15.546384       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:09 +0000 UTC Window:{Duration:12.712s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2224276 scale:-9} d:{Dec:<nil>} s:2224276n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:12:15.546492       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2224276 scale:-9} d:{Dec:<nil>} s:2224276n Format:DecimalSI}, 3
I0412 16:12:15.546594       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:57 +0000 UTC Window:{Duration:13.634s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11772553 scale:-9} d:{Dec:<nil>} s:11772553n Format:DecimalSI} memory:{i:{value:174321664 scale:0} d:{Dec:<nil>} s:170236Ki Format:BinarySI}]}]}
I0412 16:12:15.546675       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11772553 scale:-9} d:{Dec:<nil>} s:11772553n Format:DecimalSI}, 12
I0412 16:12:15.546761       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:00 +0000 UTC Window:{Duration:10.673s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1534526 scale:-9} d:{Dec:<nil>} s:1534526n Format:DecimalSI} memory:{i:{value:14577664 scale:0} d:{Dec:<nil>} s:14236Ki Format:BinarySI}]}]}
I0412 16:12:15.546784       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1534526 scale:-9} d:{Dec:<nil>} s:1534526n Format:DecimalSI}, 2
I0412 16:12:15.546865       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:07 +0000 UTC Window:{Duration:23.301s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:12:15.546950       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:12:15.546978       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:12:15.547053       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:07 +0000 UTC Window:{Duration:17.023s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1175820 scale:-9} d:{Dec:<nil>} s:1175820n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:12:15.547088       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1175820 scale:-9} d:{Dec:<nil>} s:1175820n Format:DecimalSI}, 2
I0412 16:12:15.547156       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:11 +0000 UTC Window:{Duration:17.255s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:788814 scale:-9} d:{Dec:<nil>} s:788814n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:12:15.547178       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:788814 scale:-9} d:{Dec:<nil>} s:788814n Format:DecimalSI}, 1
I0412 16:12:15.547243       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:59 +0000 UTC Window:{Duration:18.493s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2605310 scale:-9} d:{Dec:<nil>} s:2605310n Format:DecimalSI} memory:{i:{value:18579456 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:12:15.547266       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2605310 scale:-9} d:{Dec:<nil>} s:2605310n Format:DecimalSI}, 3
I0412 16:12:15.547333       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:04 +0000 UTC Window:{Duration:11.233s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:277842 scale:-9} d:{Dec:<nil>} s:277842n Format:DecimalSI} memory:{i:{value:10018816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:12:15.547409       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:277842 scale:-9} d:{Dec:<nil>} s:277842n Format:DecimalSI}, 1
I0412 16:12:15.547506       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:01 +0000 UTC Window:{Duration:15.62s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:73623 scale:-9} d:{Dec:<nil>} s:73623n Format:DecimalSI} memory:{i:{value:11649024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:12:15.547531       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:73623 scale:-9} d:{Dec:<nil>} s:73623n Format:DecimalSI}, 1
I0412 16:12:15.547596       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:03 +0000 UTC Window:{Duration:14.191s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:65111 scale:-9} d:{Dec:<nil>} s:65111n Format:DecimalSI} memory:{i:{value:11284480 scale:0} d:{Dec:<nil>} s:11020Ki Format:BinarySI}]}]}
I0412 16:12:15.547683       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:65111 scale:-9} d:{Dec:<nil>} s:65111n Format:DecimalSI}, 1
I0412 16:12:15.547762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:11:59 +0000 UTC Window:{Duration:17.806s} Containers:[{Name:updater Usage:map[cpu:{i:{value:154049 scale:-9} d:{Dec:<nil>} s:154049n Format:DecimalSI} memory:{i:{value:11948032 scale:0} d:{Dec:<nil>} s:11668Ki Format:BinarySI}]}]}
I0412 16:12:15.547785       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:154049 scale:-9} d:{Dec:<nil>} s:154049n Format:DecimalSI}, 1
I0412 16:12:15.547853       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:07 +0000 UTC Window:{Duration:23.255s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1116620 scale:-9} d:{Dec:<nil>} s:1116620n Format:DecimalSI} memory:{i:{value:59641856 scale:0} d:{Dec:<nil>} s:58244Ki Format:BinarySI}]}]}
I0412 16:12:15.547932       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1116620 scale:-9} d:{Dec:<nil>} s:1116620n Format:DecimalSI}, 2
I0412 16:12:15.548143       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:12:15.548171       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:12:15.548252       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:12:15.548307       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:12:15.548375       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 129.140\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.010\n85\t0.010\n90\t0.032\n95\t0.055\n100\t0.055:
I0412 16:12:15.548392       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450ee8 ControlledValues:<nil>}:
I0412 16:12:15.548451       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:12:15.548470       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:12:15.548491       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478650]
I0412 16:12:15.548578       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:12:15.548652       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:854415998]
I0412 16:12:15.548731       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:12:15.559083       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000218570} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000218630 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bc5649af-f56d-4ca0-91de-4803bc549071] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000512900 TLS:0xc0005220b0}
I0412 16:12:15.575991       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000219440} GetBody:0x6d9b40 ContentLength:480 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0002194d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1a9e9b09-0ab2-430e-b081-a915290eafb5] Cache-Control:[no-cache, private] Content-Length:[1397] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:1397 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000513560 TLS:0xc0005220b0}
I0412 16:12:15.576145       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:12:15.576160       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:13:15.533504       1 recommender.go:166] Recommender Run
I0412 16:13:15.533553       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:13:15.533558       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:13:15.533582       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:13:15.533648       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-jd5pv}
I0412 16:13:15.553874       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0b40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0fcd987b-a70d-4c0b-8f4c-04f00e1d7697 0fcd987b-a70d-4c0b-8f4c-04f00e1d7697] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077ad80 TLS:0xc0005220b0}
I0412 16:13:15.554910       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:13:15.554959       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hshzp GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:59 +0000 UTC Window:{Duration:19.256s} Containers:[{Name:workload Usage:map[cpu:{i:{value:30129621 scale:-9} d:{Dec:<nil>} s:30129621n Format:DecimalSI} memory:{i:{value:30420992 scale:0} d:{Dec:<nil>} s:29708Ki Format:BinarySI}]}]}
I0412 16:13:15.554968       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30129621 scale:-9} d:{Dec:<nil>} s:30129621n Format:DecimalSI}, 31
I0412 16:13:15.554988       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:09 +0000 UTC Window:{Duration:19.636s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49866469 scale:-9} d:{Dec:<nil>} s:49866469n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:13:15.554997       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49866469 scale:-9} d:{Dec:<nil>} s:49866469n Format:DecimalSI}, 50
I0412 16:13:15.555018       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:57 +0000 UTC Window:{Duration:19.532s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2145709 scale:-9} d:{Dec:<nil>} s:2145709n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:13:15.555029       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2145709 scale:-9} d:{Dec:<nil>} s:2145709n Format:DecimalSI}, 3
I0412 16:13:15.555061       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:02 +0000 UTC Window:{Duration:11.346s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11461396 scale:-9} d:{Dec:<nil>} s:11461396n Format:DecimalSI} memory:{i:{value:174325760 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:13:15.555075       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11461396 scale:-9} d:{Dec:<nil>} s:11461396n Format:DecimalSI}, 12
I0412 16:13:15.555104       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:10 +0000 UTC Window:{Duration:12.989s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1588805 scale:-9} d:{Dec:<nil>} s:1588805n Format:DecimalSI} memory:{i:{value:14577664 scale:0} d:{Dec:<nil>} s:14236Ki Format:BinarySI}]}]}
I0412 16:13:15.555115       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1588805 scale:-9} d:{Dec:<nil>} s:1588805n Format:DecimalSI}, 2
I0412 16:13:15.555151       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:54 +0000 UTC Window:{Duration:19.065s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:13:15.555166       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:13:15.555173       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:13:15.555208       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:55 +0000 UTC Window:{Duration:19.27s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1276855 scale:-9} d:{Dec:<nil>} s:1276855n Format:DecimalSI} memory:{i:{value:7061504 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:13:15.555221       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1276855 scale:-9} d:{Dec:<nil>} s:1276855n Format:DecimalSI}, 2
I0412 16:13:15.555250       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:06 +0000 UTC Window:{Duration:11.573s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1418906 scale:-9} d:{Dec:<nil>} s:1418906n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:13:15.555263       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1418906 scale:-9} d:{Dec:<nil>} s:1418906n Format:DecimalSI}, 2
I0412 16:13:15.555290       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:09 +0000 UTC Window:{Duration:12.447s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2877400 scale:-9} d:{Dec:<nil>} s:2877400n Format:DecimalSI} memory:{i:{value:18702336 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:13:15.555304       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2877400 scale:-9} d:{Dec:<nil>} s:2877400n Format:DecimalSI}, 3
I0412 16:13:15.555332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:11 +0000 UTC Window:{Duration:17.96s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:165256 scale:-9} d:{Dec:<nil>} s:165256n Format:DecimalSI} memory:{i:{value:10047488 scale:0} d:{Dec:<nil>} s:9812Ki Format:BinarySI}]}]}
I0412 16:13:15.555344       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:165256 scale:-9} d:{Dec:<nil>} s:165256n Format:DecimalSI}, 1
I0412 16:13:15.555374       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:11 +0000 UTC Window:{Duration:30.351s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:192843 scale:-9} d:{Dec:<nil>} s:192843n Format:DecimalSI} memory:{i:{value:11649024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:13:15.555385       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:192843 scale:-9} d:{Dec:<nil>} s:192843n Format:DecimalSI}, 1
I0412 16:13:15.555412       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:01 +0000 UTC Window:{Duration:12.716s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:332337 scale:-9} d:{Dec:<nil>} s:332337n Format:DecimalSI} memory:{i:{value:11517952 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:13:15.555417       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:332337 scale:-9} d:{Dec:<nil>} s:332337n Format:DecimalSI}, 1
I0412 16:13:15.555438       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:12:53 +0000 UTC Window:{Duration:15.494s} Containers:[{Name:updater Usage:map[cpu:{i:{value:307409 scale:-9} d:{Dec:<nil>} s:307409n Format:DecimalSI} memory:{i:{value:11948032 scale:0} d:{Dec:<nil>} s:11668Ki Format:BinarySI}]}]}
I0412 16:13:15.555445       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:307409 scale:-9} d:{Dec:<nil>} s:307409n Format:DecimalSI}, 1
I0412 16:13:15.555468       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:10 +0000 UTC Window:{Duration:27.378s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1144824 scale:-9} d:{Dec:<nil>} s:1144824n Format:DecimalSI} memory:{i:{value:59895808 scale:0} d:{Dec:<nil>} s:58492Ki Format:BinarySI}]}]}
I0412 16:13:15.555475       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1144824 scale:-9} d:{Dec:<nil>} s:1144824n Format:DecimalSI}, 2
I0412 16:13:15.555529       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:13:15.555538       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:13:15.555566       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:13:15.555577       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:13:15.555596       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 148.723\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.010\n75\t0.010\n80\t0.032\n85\t0.032\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:13:15.555606       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000829ae8 ControlledValues:<nil>}:
I0412 16:13:15.555624       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:13:15.555629       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:13:15.555634       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478664]
I0412 16:13:15.555637       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:13:15.555641       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:854150474]
I0412 16:13:15.555644       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:13:15.585376       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c090} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c120 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[63000108-11c6-4f96-953b-75ee9a3b2747] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3080} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ac60 TLS:0xc0005220b0}
I0412 16:13:15.603797       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089ce70} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cf00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4e47f3ce-abeb-4322-8857-07cbb50ffc07] Cache-Control:[no-cache, private] Content-Length:[1416] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:1416 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b680 TLS:0xc0005220b0}
I0412 16:13:15.603967       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:13:15.603987       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:14:15.531756       1 recommender.go:166] Recommender Run
I0412 16:14:15.531792       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:14:15.531802       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:14:15.531839       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:14:15.545982       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089df50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[035b024c-c0c6-4cdb-bcd7-be2523856cb8 035b024c-c0c6-4cdb-bcd7-be2523856cb8] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076bc20 TLS:0xc0005220b0}
I0412 16:14:15.547169       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:14:15.547344       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hshzp GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:06 +0000 UTC Window:{Duration:19.012s} Containers:[{Name:workload Usage:map[cpu:{i:{value:30043393 scale:-9} d:{Dec:<nil>} s:30043393n Format:DecimalSI} memory:{i:{value:30420992 scale:0} d:{Dec:<nil>} s:29708Ki Format:BinarySI}]}]}
I0412 16:14:15.547383       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30043393 scale:-9} d:{Dec:<nil>} s:30043393n Format:DecimalSI}, 31
I0412 16:14:15.547461       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:56 +0000 UTC Window:{Duration:25.014s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50094427 scale:-9} d:{Dec:<nil>} s:50094427n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:14:15.547483       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50094427 scale:-9} d:{Dec:<nil>} s:50094427n Format:DecimalSI}, 51
I0412 16:14:15.547566       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:01 +0000 UTC Window:{Duration:15.809s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2200328 scale:-9} d:{Dec:<nil>} s:2200328n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:14:15.547655       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2200328 scale:-9} d:{Dec:<nil>} s:2200328n Format:DecimalSI}, 3
I0412 16:14:15.547792       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:05 +0000 UTC Window:{Duration:18.513s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11900718 scale:-9} d:{Dec:<nil>} s:11900718n Format:DecimalSI} memory:{i:{value:173789184 scale:0} d:{Dec:<nil>} s:169716Ki Format:BinarySI}]}]}
I0412 16:14:15.547819       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11900718 scale:-9} d:{Dec:<nil>} s:11900718n Format:DecimalSI}, 12
I0412 16:14:15.547906       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:58 +0000 UTC Window:{Duration:15.729s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1455337 scale:-9} d:{Dec:<nil>} s:1455337n Format:DecimalSI} memory:{i:{value:14573568 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:14:15.547935       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1455337 scale:-9} d:{Dec:<nil>} s:1455337n Format:DecimalSI}, 2
I0412 16:14:15.548015       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:55 +0000 UTC Window:{Duration:13.876s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:14:15.548038       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:14:15.548053       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:14:15.548121       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:01 +0000 UTC Window:{Duration:17.125s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1117021 scale:-9} d:{Dec:<nil>} s:1117021n Format:DecimalSI} memory:{i:{value:7114752 scale:0} d:{Dec:<nil>} s:6948Ki Format:BinarySI}]}]}
I0412 16:14:15.548144       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1117021 scale:-9} d:{Dec:<nil>} s:1117021n Format:DecimalSI}, 2
I0412 16:14:15.548215       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:11 +0000 UTC Window:{Duration:23.831s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:294574 scale:-9} d:{Dec:<nil>} s:294574n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:14:15.548238       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:294574 scale:-9} d:{Dec:<nil>} s:294574n Format:DecimalSI}, 1
I0412 16:14:15.548310       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:10 +0000 UTC Window:{Duration:18.591s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2878650 scale:-9} d:{Dec:<nil>} s:2878650n Format:DecimalSI} memory:{i:{value:18964480 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:14:15.548332       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2878650 scale:-9} d:{Dec:<nil>} s:2878650n Format:DecimalSI}, 3
I0412 16:14:15.548400       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:56 +0000 UTC Window:{Duration:17.867s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:517490 scale:-9} d:{Dec:<nil>} s:517490n Format:DecimalSI} memory:{i:{value:10047488 scale:0} d:{Dec:<nil>} s:9812Ki Format:BinarySI}]}]}
I0412 16:14:15.548421       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:517490 scale:-9} d:{Dec:<nil>} s:517490n Format:DecimalSI}, 1
I0412 16:14:15.548487       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:05 +0000 UTC Window:{Duration:18.312s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:76725 scale:-9} d:{Dec:<nil>} s:76725n Format:DecimalSI} memory:{i:{value:11673600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:14:15.548507       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:76725 scale:-9} d:{Dec:<nil>} s:76725n Format:DecimalSI}, 1
I0412 16:14:15.548575       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:11 +0000 UTC Window:{Duration:27.724s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:66116 scale:-9} d:{Dec:<nil>} s:66116n Format:DecimalSI} memory:{i:{value:11587584 scale:0} d:{Dec:<nil>} s:11316Ki Format:BinarySI}]}]}
I0412 16:14:15.548597       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:66116 scale:-9} d:{Dec:<nil>} s:66116n Format:DecimalSI}, 1
I0412 16:14:15.548694       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:13:53 +0000 UTC Window:{Duration:14.771s} Containers:[{Name:updater Usage:map[cpu:{i:{value:101347 scale:-9} d:{Dec:<nil>} s:101347n Format:DecimalSI} memory:{i:{value:12210176 scale:0} d:{Dec:<nil>} s:11924Ki Format:BinarySI}]}]}
I0412 16:14:15.548718       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:101347 scale:-9} d:{Dec:<nil>} s:101347n Format:DecimalSI}, 1
I0412 16:14:15.548785       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:01 +0000 UTC Window:{Duration:19.883s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:967057 scale:-9} d:{Dec:<nil>} s:967057n Format:DecimalSI} memory:{i:{value:59904000 scale:0} d:{Dec:<nil>} s:58500Ki Format:BinarySI}]}]}
I0412 16:14:15.548814       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:967057 scale:-9} d:{Dec:<nil>} s:967057n Format:DecimalSI}, 1
I0412 16:14:15.548949       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:14:15.548978       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:14:15.549065       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:14:15.549106       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:14:15.549177       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 171.062\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.010\n65\t0.010\n70\t0.032\n75\t0.032\n80\t0.032\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:14:15.549203       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841458 ControlledValues:<nil>}:
I0412 16:14:15.549265       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:14:15.549283       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:14:15.549301       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478677]
I0412 16:14:15.549315       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:14:15.549332       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:853898544]
I0412 16:14:15.549345       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:14:15.563153       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794ea0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794f30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[358e4134-c648-4ab7-a109-ba59789c5b00] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2c00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d200 TLS:0xc0005220b0}
I0412 16:14:15.582176       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986c90} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986d20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2b4bccf6-e9e2-4ce6-8df9-399b1f8666ea] Cache-Control:[no-cache, private] Content-Length:[1416] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:1416 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d560 TLS:0xc0005220b0}
I0412 16:14:15.582539       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:14:15.582576       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:14:22.470264       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 4 items received
I0412 16:14:47.918834       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 25 items received
I0412 16:15:10.340475       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 0 items received
I0412 16:15:15.535657       1 recommender.go:166] Recommender Run
I0412 16:15:15.535681       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:15:15.535686       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:15:15.535710       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:15:15.546861       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[885366a7-1489-41c0-9d64-d7f97d0e61bb 885366a7-1489-41c0-9d64-d7f97d0e61bb] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c360 TLS:0xc0005220b0}
I0412 16:15:15.547595       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:15:15.547661       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hshzp GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:06 +0000 UTC Window:{Duration:14.533s} Containers:[{Name:workload Usage:map[cpu:{i:{value:30236152 scale:-9} d:{Dec:<nil>} s:30236152n Format:DecimalSI} memory:{i:{value:30420992 scale:0} d:{Dec:<nil>} s:29708Ki Format:BinarySI}]}]}
I0412 16:15:15.547679       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30236152 scale:-9} d:{Dec:<nil>} s:30236152n Format:DecimalSI}, 31
I0412 16:15:15.547706       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:08 +0000 UTC Window:{Duration:17.436s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50231188 scale:-9} d:{Dec:<nil>} s:50231188n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:15:15.547715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50231188 scale:-9} d:{Dec:<nil>} s:50231188n Format:DecimalSI}, 51
I0412 16:15:15.547733       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:02 +0000 UTC Window:{Duration:12.21s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1655610 scale:-9} d:{Dec:<nil>} s:1655610n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:15:15.547736       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1655610 scale:-9} d:{Dec:<nil>} s:1655610n Format:DecimalSI}, 2
I0412 16:15:15.547753       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:05 +0000 UTC Window:{Duration:13.58s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9731296 scale:-9} d:{Dec:<nil>} s:9731296n Format:DecimalSI} memory:{i:{value:173793280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:15:15.547756       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9731296 scale:-9} d:{Dec:<nil>} s:9731296n Format:DecimalSI}, 10
I0412 16:15:15.547770       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:07 +0000 UTC Window:{Duration:17.062s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1216973 scale:-9} d:{Dec:<nil>} s:1216973n Format:DecimalSI} memory:{i:{value:14659584 scale:0} d:{Dec:<nil>} s:14316Ki Format:BinarySI}]}]}
I0412 16:15:15.547777       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1216973 scale:-9} d:{Dec:<nil>} s:1216973n Format:DecimalSI}, 2
I0412 16:15:15.547795       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:49 +0000 UTC Window:{Duration:15.893s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:15:15.547799       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:15:15.547802       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:15:15.547817       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:58 +0000 UTC Window:{Duration:11.724s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1569515 scale:-9} d:{Dec:<nil>} s:1569515n Format:DecimalSI} memory:{i:{value:6946816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:15:15.547820       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1569515 scale:-9} d:{Dec:<nil>} s:1569515n Format:DecimalSI}, 2
I0412 16:15:15.547834       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:08 +0000 UTC Window:{Duration:16.186s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:384715 scale:-9} d:{Dec:<nil>} s:384715n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:15:15.547840       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:384715 scale:-9} d:{Dec:<nil>} s:384715n Format:DecimalSI}, 1
I0412 16:15:15.547853       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:10 +0000 UTC Window:{Duration:15.151s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2726618 scale:-9} d:{Dec:<nil>} s:2726618n Format:DecimalSI} memory:{i:{value:19181568 scale:0} d:{Dec:<nil>} s:18732Ki Format:BinarySI}]}]}
I0412 16:15:15.547856       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2726618 scale:-9} d:{Dec:<nil>} s:2726618n Format:DecimalSI}, 3
I0412 16:15:15.547870       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:05 +0000 UTC Window:{Duration:16.688s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:294463 scale:-9} d:{Dec:<nil>} s:294463n Format:DecimalSI} memory:{i:{value:10051584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:15:15.547897       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:294463 scale:-9} d:{Dec:<nil>} s:294463n Format:DecimalSI}, 1
I0412 16:15:15.547940       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:58 +0000 UTC Window:{Duration:10.342s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:56758 scale:-9} d:{Dec:<nil>} s:56758n Format:DecimalSI} memory:{i:{value:11673600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:15:15.547962       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:56758 scale:-9} d:{Dec:<nil>} s:56758n Format:DecimalSI}, 1
I0412 16:15:15.547990       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:54 +0000 UTC Window:{Duration:16.206s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:169690 scale:-9} d:{Dec:<nil>} s:169690n Format:DecimalSI} memory:{i:{value:11644928 scale:0} d:{Dec:<nil>} s:11372Ki Format:BinarySI}]}]}
I0412 16:15:15.547996       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:169690 scale:-9} d:{Dec:<nil>} s:169690n Format:DecimalSI}, 1
I0412 16:15:15.548011       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:14:56 +0000 UTC Window:{Duration:17.572s} Containers:[{Name:updater Usage:map[cpu:{i:{value:43307 scale:-9} d:{Dec:<nil>} s:43307n Format:DecimalSI} memory:{i:{value:11948032 scale:0} d:{Dec:<nil>} s:11668Ki Format:BinarySI}]}]}
I0412 16:15:15.548015       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:43307 scale:-9} d:{Dec:<nil>} s:43307n Format:DecimalSI}, 1
I0412 16:15:15.548028       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:06 +0000 UTC Window:{Duration:12.927s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1543281 scale:-9} d:{Dec:<nil>} s:1543281n Format:DecimalSI} memory:{i:{value:54030336 scale:0} d:{Dec:<nil>} s:52764Ki Format:BinarySI}]}]}
I0412 16:15:15.548031       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1543281 scale:-9} d:{Dec:<nil>} s:1543281n Format:DecimalSI}, 2
I0412 16:15:15.548075       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:15:15.548086       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:15:15.548109       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:15:15.548122       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:15:15.548140       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 197.079\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.010\n55\t0.010\n60\t0.032\n65\t0.032\n70\t0.032\n75\t0.032\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:15:15.548148       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491458 ControlledValues:<nil>}:
I0412 16:15:15.548163       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:15:15.548170       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:15:15.548175       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:10 memory:11478691]
I0412 16:15:15.548178       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:15:15.548183       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:853624864]
I0412 16:15:15.548186       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:15:15.569773       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1170} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1200 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0c7487a8-a65b-4aa3-89d1-d2c2f330eed5] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074de60 TLS:0xc0005220b0}
I0412 16:15:15.588667       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1ef0} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be000 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dcbaf89a-6781-449c-b2ad-61970548d853] Cache-Control:[no-cache, private] Content-Length:[1416] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3080} ContentLength:1416 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077ad80 TLS:0xc0005220b0}
I0412 16:15:15.588811       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:15:15.588826       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:16:15.533190       1 recommender.go:166] Recommender Run
I0412 16:16:15.533214       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:16:15.533220       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:16:15.533246       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:16:15.575399       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf1a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ce8fadec-a647-4cae-a0f8-b2b9a1bd533c ce8fadec-a647-4cae-a0f8-b2b9a1bd533c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077b440 TLS:0xc0005220b0}
I0412 16:16:15.575763       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:16:15.575881       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hshzp GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:59 +0000 UTC Window:{Duration:14.305s} Containers:[{Name:workload Usage:map[cpu:{i:{value:30090667 scale:-9} d:{Dec:<nil>} s:30090667n Format:DecimalSI} memory:{i:{value:30420992 scale:0} d:{Dec:<nil>} s:29708Ki Format:BinarySI}]}]}
I0412 16:16:15.575904       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30090667 scale:-9} d:{Dec:<nil>} s:30090667n Format:DecimalSI}, 31
I0412 16:16:15.575931       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:11 +0000 UTC Window:{Duration:17.917s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49920522 scale:-9} d:{Dec:<nil>} s:49920522n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:16:15.575936       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49920522 scale:-9} d:{Dec:<nil>} s:49920522n Format:DecimalSI}, 50
I0412 16:16:15.575960       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:07 +0000 UTC Window:{Duration:15.334s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1877657 scale:-9} d:{Dec:<nil>} s:1877657n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:16:15.575969       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1877657 scale:-9} d:{Dec:<nil>} s:1877657n Format:DecimalSI}, 2
I0412 16:16:15.575990       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:03 +0000 UTC Window:{Duration:18.638s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9769771 scale:-9} d:{Dec:<nil>} s:9769771n Format:DecimalSI} memory:{i:{value:168484864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:16:15.575997       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9769771 scale:-9} d:{Dec:<nil>} s:9769771n Format:DecimalSI}, 10
I0412 16:16:15.576016       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:08 +0000 UTC Window:{Duration:18.465s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1277931 scale:-9} d:{Dec:<nil>} s:1277931n Format:DecimalSI} memory:{i:{value:14872576 scale:0} d:{Dec:<nil>} s:14524Ki Format:BinarySI}]}]}
I0412 16:16:15.576022       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1277931 scale:-9} d:{Dec:<nil>} s:1277931n Format:DecimalSI}, 2
I0412 16:16:15.576043       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:58 +0000 UTC Window:{Duration:26.66s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2025 scale:-9} d:{Dec:<nil>} s:2025n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:16:15.576051       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:16:15.576056       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2025 scale:-9} d:{Dec:<nil>} s:2025n Format:DecimalSI}, 1
I0412 16:16:15.576073       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:03 +0000 UTC Window:{Duration:17.758s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:830217 scale:-9} d:{Dec:<nil>} s:830217n Format:DecimalSI} memory:{i:{value:6946816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:16:15.576077       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:830217 scale:-9} d:{Dec:<nil>} s:830217n Format:DecimalSI}, 1
I0412 16:16:15.576095       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:03 +0000 UTC Window:{Duration:10.781s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:515351 scale:-9} d:{Dec:<nil>} s:515351n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:16:15.576101       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:515351 scale:-9} d:{Dec:<nil>} s:515351n Format:DecimalSI}, 1
I0412 16:16:15.576118       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:57 +0000 UTC Window:{Duration:18.964s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2094389 scale:-9} d:{Dec:<nil>} s:2094389n Format:DecimalSI} memory:{i:{value:19181568 scale:0} d:{Dec:<nil>} s:18732Ki Format:BinarySI}]}]}
I0412 16:16:15.576123       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2094389 scale:-9} d:{Dec:<nil>} s:2094389n Format:DecimalSI}, 3
I0412 16:16:15.576141       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:01 +0000 UTC Window:{Duration:18.22s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:286114 scale:-9} d:{Dec:<nil>} s:286114n Format:DecimalSI} memory:{i:{value:9789440 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:16:15.576149       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:286114 scale:-9} d:{Dec:<nil>} s:286114n Format:DecimalSI}, 1
I0412 16:16:15.576167       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:11 +0000 UTC Window:{Duration:19.815s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:52233 scale:-9} d:{Dec:<nil>} s:52233n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:16:15.576172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:52233 scale:-9} d:{Dec:<nil>} s:52233n Format:DecimalSI}, 1
I0412 16:16:15.576190       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:58 +0000 UTC Window:{Duration:16.694s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:25757 scale:-9} d:{Dec:<nil>} s:25757n Format:DecimalSI} memory:{i:{value:11362304 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:16:15.576198       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:25757 scale:-9} d:{Dec:<nil>} s:25757n Format:DecimalSI}, 1
I0412 16:16:15.576215       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:15:59 +0000 UTC Window:{Duration:15.391s} Containers:[{Name:updater Usage:map[cpu:{i:{value:140601 scale:-9} d:{Dec:<nil>} s:140601n Format:DecimalSI} memory:{i:{value:11931648 scale:0} d:{Dec:<nil>} s:11652Ki Format:BinarySI}]}]}
I0412 16:16:15.576222       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:140601 scale:-9} d:{Dec:<nil>} s:140601n Format:DecimalSI}, 1
I0412 16:16:15.576238       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:00 +0000 UTC Window:{Duration:10.683s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1294954 scale:-9} d:{Dec:<nil>} s:1294954n Format:DecimalSI} memory:{i:{value:55574528 scale:0} d:{Dec:<nil>} s:53Mi Format:BinarySI}]}]}
I0412 16:16:15.576244       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1294954 scale:-9} d:{Dec:<nil>} s:1294954n Format:DecimalSI}, 2
I0412 16:16:15.576296       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:16:15.576306       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:16:15.576332       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:16:15.576342       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:16:15.576366       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 226.830\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.010\n50\t0.032\n55\t0.032\n60\t0.032\n65\t0.032\n70\t0.032\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:16:15.576372       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491908 ControlledValues:<nil>}:
I0412 16:16:15.576390       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:16:15.576402       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:16:15.576408       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:34 memory:11478705]
I0412 16:16:15.576412       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:16:15.576417       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:853347144]
I0412 16:16:15.576421       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:16:15.603669       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712150} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712210 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b74403b2-7683-4be6-9910-65990f0135c2] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3500} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b560 TLS:0xc0005220b0}
I0412 16:16:15.635438       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089ce70} GetBody:0x6d9b40 ContentLength:489 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cf00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[73ca1bcf-3e4c-423b-813d-4a601a4eeea4] Cache-Control:[no-cache, private] Content-Length:[1415] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:1415 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c7e0 TLS:0xc0005220b0}
I0412 16:16:15.635756       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:16:15.635829       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:16:36.139867       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 5 items received
I0412 16:16:50.488671       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 39 items received
I0412 16:17:02.050409       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 4 items received
I0412 16:17:15.534984       1 recommender.go:166] Recommender Run
I0412 16:17:15.535007       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:17:15.535013       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:17:15.535066       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:17:15.535143       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-hshzp}
I0412 16:17:15.545667       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c6d29dc5-75a3-4158-9be5-92bdd89502f3 c6d29dc5-75a3-4158-9be5-92bdd89502f3] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d200 TLS:0xc0005220b0}
I0412 16:17:15.546217       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:17:15.546273       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:05 +0000 UTC Window:{Duration:17.348s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49971062 scale:-9} d:{Dec:<nil>} s:49971062n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:17:15.546283       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49971062 scale:-9} d:{Dec:<nil>} s:49971062n Format:DecimalSI}, 50
I0412 16:17:15.546312       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:02 +0000 UTC Window:{Duration:10.946s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49699799 scale:-9} d:{Dec:<nil>} s:49699799n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:17:15.546320       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49699799 scale:-9} d:{Dec:<nil>} s:49699799n Format:DecimalSI}, 50
I0412 16:17:15.546346       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:03 +0000 UTC Window:{Duration:18.272s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1879433 scale:-9} d:{Dec:<nil>} s:1879433n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:17:15.546355       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1879433 scale:-9} d:{Dec:<nil>} s:1879433n Format:DecimalSI}, 2
I0412 16:17:15.546387       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:05 +0000 UTC Window:{Duration:17.734s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11691383 scale:-9} d:{Dec:<nil>} s:11691383n Format:DecimalSI} memory:{i:{value:169627648 scale:0} d:{Dec:<nil>} s:165652Ki Format:BinarySI}]}]}
I0412 16:17:15.546398       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11691383 scale:-9} d:{Dec:<nil>} s:11691383n Format:DecimalSI}, 12
I0412 16:17:15.546427       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:56 +0000 UTC Window:{Duration:23.29s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1611464 scale:-9} d:{Dec:<nil>} s:1611464n Format:DecimalSI} memory:{i:{value:14667776 scale:0} d:{Dec:<nil>} s:14324Ki Format:BinarySI}]}]}
I0412 16:17:15.546433       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1611464 scale:-9} d:{Dec:<nil>} s:1611464n Format:DecimalSI}, 2
I0412 16:17:15.546466       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:52 +0000 UTC Window:{Duration:18.864s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:17:15.546477       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:17:15.546483       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:17:15.546509       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:59 +0000 UTC Window:{Duration:13.485s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1057100 scale:-9} d:{Dec:<nil>} s:1057100n Format:DecimalSI} memory:{i:{value:6991872 scale:0} d:{Dec:<nil>} s:6828Ki Format:BinarySI}]}]}
I0412 16:17:15.546520       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1057100 scale:-9} d:{Dec:<nil>} s:1057100n Format:DecimalSI}, 2
I0412 16:17:15.546548       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:56 +0000 UTC Window:{Duration:22.947s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:528827 scale:-9} d:{Dec:<nil>} s:528827n Format:DecimalSI} memory:{i:{value:12943360 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:17:15.546555       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:528827 scale:-9} d:{Dec:<nil>} s:528827n Format:DecimalSI}, 1
I0412 16:17:15.546583       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:10 +0000 UTC Window:{Duration:15.935s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3255412 scale:-9} d:{Dec:<nil>} s:3255412n Format:DecimalSI} memory:{i:{value:19218432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:17:15.546590       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3255412 scale:-9} d:{Dec:<nil>} s:3255412n Format:DecimalSI}, 4
I0412 16:17:15.546618       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:55 +0000 UTC Window:{Duration:22.714s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:750418 scale:-9} d:{Dec:<nil>} s:750418n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:17:15.546626       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750418 scale:-9} d:{Dec:<nil>} s:750418n Format:DecimalSI}, 1
I0412 16:17:15.546651       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:08 +0000 UTC Window:{Duration:14.889s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:145812 scale:-9} d:{Dec:<nil>} s:145812n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:17:15.546656       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:145812 scale:-9} d:{Dec:<nil>} s:145812n Format:DecimalSI}, 1
I0412 16:17:15.546690       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:16:58 +0000 UTC Window:{Duration:13.872s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:142589 scale:-9} d:{Dec:<nil>} s:142589n Format:DecimalSI} memory:{i:{value:11419648 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:17:15.546699       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:142589 scale:-9} d:{Dec:<nil>} s:142589n Format:DecimalSI}, 1
I0412 16:17:15.546726       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:09 +0000 UTC Window:{Duration:17.124s} Containers:[{Name:updater Usage:map[cpu:{i:{value:271315 scale:-9} d:{Dec:<nil>} s:271315n Format:DecimalSI} memory:{i:{value:11931648 scale:0} d:{Dec:<nil>} s:11652Ki Format:BinarySI}]}]}
I0412 16:17:15.546735       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:271315 scale:-9} d:{Dec:<nil>} s:271315n Format:DecimalSI}, 1
I0412 16:17:15.546761       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:08 +0000 UTC Window:{Duration:18.656s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1019243 scale:-9} d:{Dec:<nil>} s:1019243n Format:DecimalSI} memory:{i:{value:54571008 scale:0} d:{Dec:<nil>} s:53292Ki Format:BinarySI}]}]}
I0412 16:17:15.546769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1019243 scale:-9} d:{Dec:<nil>} s:1019243n Format:DecimalSI}, 2
I0412 16:17:15.546839       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:17:15.546851       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:17:15.546881       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:17:15.546905       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:17:15.546938       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 260.884\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.010\n45\t0.032\n50\t0.032\n55\t0.032\n60\t0.032\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:17:15.546947       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841260 ControlledValues:<nil>}:
I0412 16:17:15.546976       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:17:15.546987       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:17:15.546996       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:34 memory:36186657]
I0412 16:17:15.547005       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:17:15.547014       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:853109396]
I0412 16:17:15.547022       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:17:15.704560       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582270} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582360 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7cee5838-5d68-4136-a788-9e10258f29d0] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3080} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214c60 TLS:0xc0005220b0}
I0412 16:17:15.723228       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e03c0} GetBody:0x6d9b40 ContentLength:491 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0450 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8f7ce920-7415-4588-a1eb-25f6fcaeb802] Cache-Control:[no-cache, private] Content-Length:[1418] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc180} ContentLength:1418 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c000 TLS:0xc0005220b0}
I0412 16:17:15.723443       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:17:15.723463       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:17:31.775416       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 24 items received
I0412 16:18:15.533537       1 recommender.go:166] Recommender Run
I0412 16:18:15.533571       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:18:15.533578       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:18:15.533609       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:18:15.544341       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d770 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bf5e4367-daf6-48d9-a4e7-187b9e3d289c bf5e4367-daf6-48d9-a4e7-187b9e3d289c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d8c0 TLS:0xc0005220b0}
I0412 16:18:15.544957       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:18:15.545026       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:05 +0000 UTC Window:{Duration:16.681s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49651999 scale:-9} d:{Dec:<nil>} s:49651999n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:18:15.545040       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49651999 scale:-9} d:{Dec:<nil>} s:49651999n Format:DecimalSI}, 50
I0412 16:18:15.545078       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:02 +0000 UTC Window:{Duration:14.647s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49725609 scale:-9} d:{Dec:<nil>} s:49725609n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:18:15.545091       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49725609 scale:-9} d:{Dec:<nil>} s:49725609n Format:DecimalSI}, 50
I0412 16:18:15.545129       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:55 +0000 UTC Window:{Duration:18.947s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3006914 scale:-9} d:{Dec:<nil>} s:3006914n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:18:15.545140       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3006914 scale:-9} d:{Dec:<nil>} s:3006914n Format:DecimalSI}, 4
I0412 16:18:15.545175       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:00 +0000 UTC Window:{Duration:19.709s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13888122 scale:-9} d:{Dec:<nil>} s:13888122n Format:DecimalSI} memory:{i:{value:169447424 scale:0} d:{Dec:<nil>} s:165476Ki Format:BinarySI}]}]}
I0412 16:18:15.545183       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13888122 scale:-9} d:{Dec:<nil>} s:13888122n Format:DecimalSI}, 14
I0412 16:18:15.545215       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:03 +0000 UTC Window:{Duration:10.11s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1892482 scale:-9} d:{Dec:<nil>} s:1892482n Format:DecimalSI} memory:{i:{value:14913536 scale:0} d:{Dec:<nil>} s:14564Ki Format:BinarySI}]}]}
I0412 16:18:15.545226       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1892482 scale:-9} d:{Dec:<nil>} s:1892482n Format:DecimalSI}, 2
I0412 16:18:15.545261       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:00 +0000 UTC Window:{Duration:13.983s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:18:15.545274       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:18:15.545282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:18:15.545316       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:17:59 +0000 UTC Window:{Duration:13.222s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1175767 scale:-9} d:{Dec:<nil>} s:1175767n Format:DecimalSI} memory:{i:{value:6991872 scale:0} d:{Dec:<nil>} s:6828Ki Format:BinarySI}]}]}
I0412 16:18:15.545328       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1175767 scale:-9} d:{Dec:<nil>} s:1175767n Format:DecimalSI}, 2
I0412 16:18:15.545362       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:08 +0000 UTC Window:{Duration:30.711s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:634007 scale:-9} d:{Dec:<nil>} s:634007n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:18:15.545380       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:634007 scale:-9} d:{Dec:<nil>} s:634007n Format:DecimalSI}, 1
I0412 16:18:15.545415       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:01 +0000 UTC Window:{Duration:11.701s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3350824 scale:-9} d:{Dec:<nil>} s:3350824n Format:DecimalSI} memory:{i:{value:19218432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:18:15.545428       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3350824 scale:-9} d:{Dec:<nil>} s:3350824n Format:DecimalSI}, 4
I0412 16:18:15.545461       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:01 +0000 UTC Window:{Duration:15.804s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:163186 scale:-9} d:{Dec:<nil>} s:163186n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:18:15.545474       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:163186 scale:-9} d:{Dec:<nil>} s:163186n Format:DecimalSI}, 1
I0412 16:18:15.545508       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:07 +0000 UTC Window:{Duration:15.106s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:190255 scale:-9} d:{Dec:<nil>} s:190255n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:18:15.545519       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:190255 scale:-9} d:{Dec:<nil>} s:190255n Format:DecimalSI}, 1
I0412 16:18:15.545554       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:08 +0000 UTC Window:{Duration:19.077s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:110866 scale:-9} d:{Dec:<nil>} s:110866n Format:DecimalSI} memory:{i:{value:11485184 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:18:15.545567       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:110866 scale:-9} d:{Dec:<nil>} s:110866n Format:DecimalSI}, 1
I0412 16:18:15.545601       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:11 +0000 UTC Window:{Duration:18.908s} Containers:[{Name:updater Usage:map[cpu:{i:{value:30780 scale:-9} d:{Dec:<nil>} s:30780n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:18:15.545610       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30780 scale:-9} d:{Dec:<nil>} s:30780n Format:DecimalSI}, 1
I0412 16:18:15.545644       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:01 +0000 UTC Window:{Duration:16.925s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1132584 scale:-9} d:{Dec:<nil>} s:1132584n Format:DecimalSI} memory:{i:{value:54824960 scale:0} d:{Dec:<nil>} s:53540Ki Format:BinarySI}]}]}
I0412 16:18:15.545655       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1132584 scale:-9} d:{Dec:<nil>} s:1132584n Format:DecimalSI}, 2
I0412 16:18:15.545757       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:18:15.545773       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:18:15.545808       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:18:15.545834       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:18:15.545873       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 300.002\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.010\n40\t0.032\n45\t0.032\n50\t0.032\n55\t0.032\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:18:15.545886       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451b00 ControlledValues:<nil>}:
I0412 16:18:15.545917       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:18:15.545931       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:18:15.545943       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:34 memory:36186700]
I0412 16:18:15.545949       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:18:15.545960       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:852845555]
I0412 16:18:15.545972       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:18:15.561747       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746cc0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746d50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dcbfdaba-97c9-4ff8-93f0-d2598965275a] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3080} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077b680 TLS:0xc0005220b0}
I0412 16:18:15.569112       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007946c0} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794750 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a680a1f1-92d2-497b-a56d-55bce4846973] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aa20 TLS:0xc0005220b0}
I0412 16:18:15.589783       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000795140} GetBody:0x6d9b40 ContentLength:672 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007951d0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e569a586-f18d-4389-9859-84185f6929cf] Cache-Control:[no-cache, private] Content-Length:[1416] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:1416 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 16:18:15.589907       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:18:15.589918       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 16:18:15.589925       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:18:15.589928       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:18:15.589955       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:18:15.602096       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795e00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0d5e933d-9846-4840-b09f-bab51cc5e743] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b8c0 TLS:0xc0005220b0}
I0412 16:18:15.612808       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712ae0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[137a2392-266e-43f7-b2eb-f72458556ae6] Cache-Control:[no-cache, private] Content-Length:[1569] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363980} ContentLength:1569 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6c60 TLS:0xc0005220b0}
I0412 16:18:15.620172       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713410 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4beed3e7-c9d1-451a-8018-777644e6fc82] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363c80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7680 TLS:0xc0005220b0}
I0412 16:18:15.631236       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713b90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[07a8ab73-f60d-4466-8c3f-3b353f86ae19] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363e00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003646c0 TLS:0xc0005220b0}
I0412 16:18:15.640257       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008823f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0b679c3f-c526-46a8-bf4a-734110d3b2d0] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364fc0 TLS:0xc0005220b0}
I0412 16:18:15.648056       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008829c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0268dd7b-db4a-4383-a7fd-11ff4208c754] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003658c0 TLS:0xc0005220b0}
I0412 16:18:15.648133       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:18:40.720450       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 17 items received
I0412 16:19:15.467952       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: forcing resync
I0412 16:19:15.467997       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: forcing resync
I0412 16:19:15.532689       1 recommender.go:166] Recommender Run
I0412 16:19:15.532716       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:19:15.532726       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:19:15.532763       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:19:15.548707       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746720 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[66904f05-018f-4f6b-b2e7-ec3813b0f32c 66904f05-018f-4f6b-b2e7-ec3813b0f32c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077a7e0 TLS:0xc0005220b0}
I0412 16:19:15.549907       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:19:15.550031       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:04 +0000 UTC Window:{Duration:11.199s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49871506 scale:-9} d:{Dec:<nil>} s:49871506n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:19:15.550059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49871506 scale:-9} d:{Dec:<nil>} s:49871506n Format:DecimalSI}, 50
I0412 16:19:15.550139       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:09 +0000 UTC Window:{Duration:18.286s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49978344 scale:-9} d:{Dec:<nil>} s:49978344n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:19:15.550169       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49978344 scale:-9} d:{Dec:<nil>} s:49978344n Format:DecimalSI}, 50
I0412 16:19:15.550246       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:02 +0000 UTC Window:{Duration:14.399s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1622126 scale:-9} d:{Dec:<nil>} s:1622126n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:19:15.550272       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1622126 scale:-9} d:{Dec:<nil>} s:1622126n Format:DecimalSI}, 2
I0412 16:19:15.550349       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:04 +0000 UTC Window:{Duration:19.236s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9823611 scale:-9} d:{Dec:<nil>} s:9823611n Format:DecimalSI} memory:{i:{value:169803776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:19:15.550367       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9823611 scale:-9} d:{Dec:<nil>} s:9823611n Format:DecimalSI}, 10
I0412 16:19:15.550435       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:11 +0000 UTC Window:{Duration:17.634s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1120902 scale:-9} d:{Dec:<nil>} s:1120902n Format:DecimalSI} memory:{i:{value:14745600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:19:15.550457       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1120902 scale:-9} d:{Dec:<nil>} s:1120902n Format:DecimalSI}, 2
I0412 16:19:15.550535       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:45 +0000 UTC Window:{Duration:17.931s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2084 scale:-9} d:{Dec:<nil>} s:2084n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:19:15.550552       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:19:15.550567       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2084 scale:-9} d:{Dec:<nil>} s:2084n Format:DecimalSI}, 1
I0412 16:19:15.550673       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:08 +0000 UTC Window:{Duration:19.26s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:908670 scale:-9} d:{Dec:<nil>} s:908670n Format:DecimalSI} memory:{i:{value:7008256 scale:0} d:{Dec:<nil>} s:6844Ki Format:BinarySI}]}]}
I0412 16:19:15.550687       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:908670 scale:-9} d:{Dec:<nil>} s:908670n Format:DecimalSI}, 1
I0412 16:19:15.550752       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:00 +0000 UTC Window:{Duration:17.591s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:405320 scale:-9} d:{Dec:<nil>} s:405320n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:19:15.550846       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:405320 scale:-9} d:{Dec:<nil>} s:405320n Format:DecimalSI}, 1
I0412 16:19:15.550937       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:05 +0000 UTC Window:{Duration:11.302s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2065563 scale:-9} d:{Dec:<nil>} s:2065563n Format:DecimalSI} memory:{i:{value:19251200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:19:15.550958       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2065563 scale:-9} d:{Dec:<nil>} s:2065563n Format:DecimalSI}, 3
I0412 16:19:15.551027       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:09 +0000 UTC Window:{Duration:19.667s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:253622 scale:-9} d:{Dec:<nil>} s:253622n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:19:15.551050       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:253622 scale:-9} d:{Dec:<nil>} s:253622n Format:DecimalSI}, 1
I0412 16:19:15.551114       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:03 +0000 UTC Window:{Duration:12.332s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:131203 scale:-9} d:{Dec:<nil>} s:131203n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:19:15.551133       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:131203 scale:-9} d:{Dec:<nil>} s:131203n Format:DecimalSI}, 1
I0412 16:19:15.551196       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:04 +0000 UTC Window:{Duration:19.342s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:254368 scale:-9} d:{Dec:<nil>} s:254368n Format:DecimalSI} memory:{i:{value:11526144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:19:15.551226       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:254368 scale:-9} d:{Dec:<nil>} s:254368n Format:DecimalSI}, 1
I0412 16:19:15.551293       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:10 +0000 UTC Window:{Duration:25.42s} Containers:[{Name:updater Usage:map[cpu:{i:{value:57631 scale:-9} d:{Dec:<nil>} s:57631n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:19:15.551315       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:57631 scale:-9} d:{Dec:<nil>} s:57631n Format:DecimalSI}, 1
I0412 16:19:15.551386       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:18:54 +0000 UTC Window:{Duration:17.113s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1403728 scale:-9} d:{Dec:<nil>} s:1403728n Format:DecimalSI} memory:{i:{value:54710272 scale:0} d:{Dec:<nil>} s:53428Ki Format:BinarySI}]}]}
I0412 16:19:15.551410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1403728 scale:-9} d:{Dec:<nil>} s:1403728n Format:DecimalSI}, 2
I0412 16:19:15.551538       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:19:15.551565       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:19:15.551629       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:19:15.551667       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:19:15.551740       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 345.249\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.010\n35\t0.032\n40\t0.032\n45\t0.032\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:19:15.551764       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840a98 ControlledValues:<nil>}:
I0412 16:19:15.551818       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:19:15.551840       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:19:15.551860       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36186746]
I0412 16:19:15.551873       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:19:15.551892       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:852564498]
I0412 16:19:15.551905       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:19:15.568074       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1320} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e13b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5eed0e49-fd8c-44e6-911f-e8260e163035] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c7e0 TLS:0xc0005220b0}
I0412 16:19:15.585034       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747020} GetBody:0x6d9b40 ContentLength:491 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007470b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6643d149-c254-41aa-a98b-c135109b7040] Cache-Control:[no-cache, private] Content-Length:[1417] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:1417 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077afc0 TLS:0xc0005220b0}
I0412 16:19:15.586872       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:19:15.586913       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:20:15.533610       1 recommender.go:166] Recommender Run
I0412 16:20:15.533661       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:20:15.533675       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:20:15.533729       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:20:15.543869       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882150 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ced3c16c-3016-4e7b-9dd7-1068f3b59ecf ced3c16c-3016-4e7b-9dd7-1068f3b59ecf] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074cd80 TLS:0xc0005220b0}
I0412 16:20:15.544823       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:20:15.544981       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:06 +0000 UTC Window:{Duration:19.954s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49786659 scale:-9} d:{Dec:<nil>} s:49786659n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:20:15.545013       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49786659 scale:-9} d:{Dec:<nil>} s:49786659n Format:DecimalSI}, 50
I0412 16:20:15.545081       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:09 +0000 UTC Window:{Duration:17.537s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49926498 scale:-9} d:{Dec:<nil>} s:49926498n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:20:15.545103       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49926498 scale:-9} d:{Dec:<nil>} s:49926498n Format:DecimalSI}, 50
I0412 16:20:15.545171       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:07 +0000 UTC Window:{Duration:11.465s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2475272 scale:-9} d:{Dec:<nil>} s:2475272n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:20:15.545192       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2475272 scale:-9} d:{Dec:<nil>} s:2475272n Format:DecimalSI}, 3
I0412 16:20:15.545259       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:02 +0000 UTC Window:{Duration:16.331s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11757761 scale:-9} d:{Dec:<nil>} s:11757761n Format:DecimalSI} memory:{i:{value:168366080 scale:0} d:{Dec:<nil>} s:164420Ki Format:BinarySI}]}]}
I0412 16:20:15.545319       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11757761 scale:-9} d:{Dec:<nil>} s:11757761n Format:DecimalSI}, 12
I0412 16:20:15.545379       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:06 +0000 UTC Window:{Duration:12.471s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1641247 scale:-9} d:{Dec:<nil>} s:1641247n Format:DecimalSI} memory:{i:{value:14905344 scale:0} d:{Dec:<nil>} s:14556Ki Format:BinarySI}]}]}
I0412 16:20:15.545391       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1641247 scale:-9} d:{Dec:<nil>} s:1641247n Format:DecimalSI}, 2
I0412 16:20:15.545474       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:06 +0000 UTC Window:{Duration:18.806s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:20:15.545496       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:20:15.545509       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:20:15.545568       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:01 +0000 UTC Window:{Duration:17.245s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:971991 scale:-9} d:{Dec:<nil>} s:971991n Format:DecimalSI} memory:{i:{value:7008256 scale:0} d:{Dec:<nil>} s:6844Ki Format:BinarySI}]}]}
I0412 16:20:15.545588       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:971991 scale:-9} d:{Dec:<nil>} s:971991n Format:DecimalSI}, 1
I0412 16:20:15.545644       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:04 +0000 UTC Window:{Duration:15.19s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:832718 scale:-9} d:{Dec:<nil>} s:832718n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:20:15.545664       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:832718 scale:-9} d:{Dec:<nil>} s:832718n Format:DecimalSI}, 1
I0412 16:20:15.545724       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:03 +0000 UTC Window:{Duration:13.287s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3008956 scale:-9} d:{Dec:<nil>} s:3008956n Format:DecimalSI} memory:{i:{value:19255296 scale:0} d:{Dec:<nil>} s:18804Ki Format:BinarySI}]}]}
I0412 16:20:15.545745       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3008956 scale:-9} d:{Dec:<nil>} s:3008956n Format:DecimalSI}, 4
I0412 16:20:15.545804       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:08 +0000 UTC Window:{Duration:12.627s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:256593 scale:-9} d:{Dec:<nil>} s:256593n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:20:15.545819       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:256593 scale:-9} d:{Dec:<nil>} s:256593n Format:DecimalSI}, 1
I0412 16:20:15.545876       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:07 +0000 UTC Window:{Duration:18.137s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:52213 scale:-9} d:{Dec:<nil>} s:52213n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:20:15.545894       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:52213 scale:-9} d:{Dec:<nil>} s:52213n Format:DecimalSI}, 1
I0412 16:20:15.545950       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:11 +0000 UTC Window:{Duration:16.172s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:87620 scale:-9} d:{Dec:<nil>} s:87620n Format:DecimalSI} memory:{i:{value:11526144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:20:15.545969       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:87620 scale:-9} d:{Dec:<nil>} s:87620n Format:DecimalSI}, 1
I0412 16:20:15.546026       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:19:58 +0000 UTC Window:{Duration:18.574s} Containers:[{Name:updater Usage:map[cpu:{i:{value:123990 scale:-9} d:{Dec:<nil>} s:123990n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:20:15.546047       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:123990 scale:-9} d:{Dec:<nil>} s:123990n Format:DecimalSI}, 1
I0412 16:20:15.546105       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:12 +0000 UTC Window:{Duration:18.181s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1868324 scale:-9} d:{Dec:<nil>} s:1868324n Format:DecimalSI} memory:{i:{value:55062528 scale:0} d:{Dec:<nil>} s:53772Ki Format:BinarySI}]}]}
I0412 16:20:15.546126       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1868324 scale:-9} d:{Dec:<nil>} s:1868324n Format:DecimalSI}, 2
I0412 16:20:15.546272       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:20:15.546302       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:20:15.546360       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:20:15.546406       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:20:15.546471       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 397.345\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.010\n30\t0.032\n35\t0.032\n40\t0.032\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:20:15.546490       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605278 ControlledValues:<nil>}:
I0412 16:20:15.546539       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:20:15.546562       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:20:15.546579       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36186789]
I0412 16:20:15.546591       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:20:15.546606       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:852301357]
I0412 16:20:15.546622       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:20:15.557995       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000987140} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009871d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[eced392b-8506-4e7a-96a0-669c7a1d814a] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2c00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365680 TLS:0xc0005220b0}
I0412 16:20:15.573102       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582db0} GetBody:0x6d9b40 ContentLength:491 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582e40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[82c565d0-2d5a-47ad-9979-377fd3d1164f] Cache-Control:[no-cache, private] Content-Length:[1417] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:1417 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c6c0 TLS:0xc0005220b0}
I0412 16:20:15.573419       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:20:15.573455       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:20:41.265677       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 3 items received
I0412 16:21:05.474416       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 16:21:15.531993       1 recommender.go:166] Recommender Run
I0412 16:21:15.532031       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:21:15.532048       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:21:15.532114       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:21:15.546968       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c780 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5a875c5d-d289-47a9-be31-bebd8d3566a9 5a875c5d-d289-47a9-be31-bebd8d3566a9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c5a0 TLS:0xc0005220b0}
I0412 16:21:15.547775       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:21:15.547864       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:58 +0000 UTC Window:{Duration:13.957s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49973131 scale:-9} d:{Dec:<nil>} s:49973131n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:21:15.547892       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49973131 scale:-9} d:{Dec:<nil>} s:49973131n Format:DecimalSI}, 50
I0412 16:21:15.547938       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:02 +0000 UTC Window:{Duration:15.97s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50053350 scale:-9} d:{Dec:<nil>} s:50053350n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:21:15.547946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50053350 scale:-9} d:{Dec:<nil>} s:50053350n Format:DecimalSI}, 51
I0412 16:21:15.547987       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:05 +0000 UTC Window:{Duration:15.401s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2422764 scale:-9} d:{Dec:<nil>} s:2422764n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:21:15.548004       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2422764 scale:-9} d:{Dec:<nil>} s:2422764n Format:DecimalSI}, 3
I0412 16:21:15.548044       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:04 +0000 UTC Window:{Duration:17.188s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11738713 scale:-9} d:{Dec:<nil>} s:11738713n Format:DecimalSI} memory:{i:{value:168251392 scale:0} d:{Dec:<nil>} s:164308Ki Format:BinarySI}]}]}
I0412 16:21:15.548059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11738713 scale:-9} d:{Dec:<nil>} s:11738713n Format:DecimalSI}, 12
I0412 16:21:15.548094       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:02 +0000 UTC Window:{Duration:13.769s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1602222 scale:-9} d:{Dec:<nil>} s:1602222n Format:DecimalSI} memory:{i:{value:14655488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:21:15.548111       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1602222 scale:-9} d:{Dec:<nil>} s:1602222n Format:DecimalSI}, 2
I0412 16:21:15.548152       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:01 +0000 UTC Window:{Duration:15.289s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:21:15.548160       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:21:15.548168       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:21:15.548202       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:57 +0000 UTC Window:{Duration:31.745s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1097369 scale:-9} d:{Dec:<nil>} s:1097369n Format:DecimalSI} memory:{i:{value:7073792 scale:0} d:{Dec:<nil>} s:6908Ki Format:BinarySI}]}]}
I0412 16:21:15.548216       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1097369 scale:-9} d:{Dec:<nil>} s:1097369n Format:DecimalSI}, 2
I0412 16:21:15.548250       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:07 +0000 UTC Window:{Duration:11.817s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:444529 scale:-9} d:{Dec:<nil>} s:444529n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:21:15.548256       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:444529 scale:-9} d:{Dec:<nil>} s:444529n Format:DecimalSI}, 1
I0412 16:21:15.548289       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:08 +0000 UTC Window:{Duration:19.403s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2787507 scale:-9} d:{Dec:<nil>} s:2787507n Format:DecimalSI} memory:{i:{value:19255296 scale:0} d:{Dec:<nil>} s:18804Ki Format:BinarySI}]}]}
I0412 16:21:15.548349       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2787507 scale:-9} d:{Dec:<nil>} s:2787507n Format:DecimalSI}, 3
I0412 16:21:15.548479       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:57 +0000 UTC Window:{Duration:12.781s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:412878 scale:-9} d:{Dec:<nil>} s:412878n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:21:15.548542       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:412878 scale:-9} d:{Dec:<nil>} s:412878n Format:DecimalSI}, 1
I0412 16:21:15.548662       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:04 +0000 UTC Window:{Duration:18.841s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:37099 scale:-9} d:{Dec:<nil>} s:37099n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:21:15.548722       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:37099 scale:-9} d:{Dec:<nil>} s:37099n Format:DecimalSI}, 1
I0412 16:21:15.548794       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:07 +0000 UTC Window:{Duration:13.788s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:614592 scale:-9} d:{Dec:<nil>} s:614592n Format:DecimalSI} memory:{i:{value:11538432 scale:0} d:{Dec:<nil>} s:11268Ki Format:BinarySI}]}]}
I0412 16:21:15.548832       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:614592 scale:-9} d:{Dec:<nil>} s:614592n Format:DecimalSI}, 1
I0412 16:21:15.548944       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:20:59 +0000 UTC Window:{Duration:13.393s} Containers:[{Name:updater Usage:map[cpu:{i:{value:103262 scale:-9} d:{Dec:<nil>} s:103262n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:21:15.548961       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:103262 scale:-9} d:{Dec:<nil>} s:103262n Format:DecimalSI}, 1
I0412 16:21:15.549000       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:10 +0000 UTC Window:{Duration:25.732s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1413726 scale:-9} d:{Dec:<nil>} s:1413726n Format:DecimalSI} memory:{i:{value:54931456 scale:0} d:{Dec:<nil>} s:53644Ki Format:BinarySI}]}]}
I0412 16:21:15.549009       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1413726 scale:-9} d:{Dec:<nil>} s:1413726n Format:DecimalSI}, 2
I0412 16:21:15.549094       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:21:15.549110       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:21:15.549161       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:21:15.549182       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:21:15.549267       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 456.159\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.032\n30\t0.032\n35\t0.032\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:21:15.549287       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990648 ControlledValues:<nil>}:
I0412 16:21:15.549319       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:21:15.549330       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:21:15.549342       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36186827]
I0412 16:21:15.549350       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:21:15.549361       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:852069197]
I0412 16:21:15.549369       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:21:15.564931       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf830} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf8c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d9879060-9294-4dee-9365-bbc090aeb0e3] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 16:21:15.592715       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0009865a0} GetBody:0x6d9b40 ContentLength:491 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986630 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[def20449-4cd1-48b5-9fd0-6c8ce604d78c] Cache-Control:[no-cache, private] Content-Length:[1417] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:1417 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214ea0 TLS:0xc0005220b0}
I0412 16:21:15.592985       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:21:15.593017       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:21:42.142953       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 16:22:15.532745       1 recommender.go:166] Recommender Run
I0412 16:22:15.532887       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:22:15.532922       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:22:15.532994       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:22:15.543730       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883110 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ef779e46-238f-4878-a1ef-07e63964c5d7 ef779e46-238f-4878-a1ef-07e63964c5d7] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074cb40 TLS:0xc0005220b0}
I0412 16:22:15.544424       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:22:15.544513       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:00 +0000 UTC Window:{Duration:13.334s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50027073 scale:-9} d:{Dec:<nil>} s:50027073n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:22:15.544529       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50027073 scale:-9} d:{Dec:<nil>} s:50027073n Format:DecimalSI}, 51
I0412 16:22:15.544574       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:10 +0000 UTC Window:{Duration:19.977s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49735145 scale:-9} d:{Dec:<nil>} s:49735145n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.544591       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49735145 scale:-9} d:{Dec:<nil>} s:49735145n Format:DecimalSI}, 50
I0412 16:22:15.544675       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:05 +0000 UTC Window:{Duration:15.857s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2116163 scale:-9} d:{Dec:<nil>} s:2116163n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:22:15.544694       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2116163 scale:-9} d:{Dec:<nil>} s:2116163n Format:DecimalSI}, 3
I0412 16:22:15.544736       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:00 +0000 UTC Window:{Duration:14.474s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11046013 scale:-9} d:{Dec:<nil>} s:11046013n Format:DecimalSI} memory:{i:{value:168288256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.544751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11046013 scale:-9} d:{Dec:<nil>} s:11046013n Format:DecimalSI}, 12
I0412 16:22:15.544787       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:09 +0000 UTC Window:{Duration:15.135s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1693690 scale:-9} d:{Dec:<nil>} s:1693690n Format:DecimalSI} memory:{i:{value:15171584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.544800       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1693690 scale:-9} d:{Dec:<nil>} s:1693690n Format:DecimalSI}, 2
I0412 16:22:15.544889       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:56 +0000 UTC Window:{Duration:17.731s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:22:15.544916       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:22:15.544925       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:22:15.544966       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:09 +0000 UTC Window:{Duration:13.507s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:745169 scale:-9} d:{Dec:<nil>} s:745169n Format:DecimalSI} memory:{i:{value:7274496 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.544982       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:745169 scale:-9} d:{Dec:<nil>} s:745169n Format:DecimalSI}, 1
I0412 16:22:15.545020       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:07 +0000 UTC Window:{Duration:10.948s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:127055 scale:-9} d:{Dec:<nil>} s:127055n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.545027       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:127055 scale:-9} d:{Dec:<nil>} s:127055n Format:DecimalSI}, 1
I0412 16:22:15.545061       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:58 +0000 UTC Window:{Duration:12.423s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2339933 scale:-9} d:{Dec:<nil>} s:2339933n Format:DecimalSI} memory:{i:{value:19275776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.545069       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2339933 scale:-9} d:{Dec:<nil>} s:2339933n Format:DecimalSI}, 3
I0412 16:22:15.545103       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:02 +0000 UTC Window:{Duration:12.122s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:193697 scale:-9} d:{Dec:<nil>} s:193697n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:22:15.545111       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:193697 scale:-9} d:{Dec:<nil>} s:193697n Format:DecimalSI}, 1
I0412 16:22:15.545145       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:07 +0000 UTC Window:{Duration:15.549s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:189143 scale:-9} d:{Dec:<nil>} s:189143n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.545158       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:189143 scale:-9} d:{Dec:<nil>} s:189143n Format:DecimalSI}, 1
I0412 16:22:15.545191       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:01 +0000 UTC Window:{Duration:15.02s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:159320 scale:-9} d:{Dec:<nil>} s:159320n Format:DecimalSI} memory:{i:{value:11538432 scale:0} d:{Dec:<nil>} s:11268Ki Format:BinarySI}]}]}
I0412 16:22:15.545198       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:159320 scale:-9} d:{Dec:<nil>} s:159320n Format:DecimalSI}, 1
I0412 16:22:15.545231       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:04 +0000 UTC Window:{Duration:14.731s} Containers:[{Name:updater Usage:map[cpu:{i:{value:73382 scale:-9} d:{Dec:<nil>} s:73382n Format:DecimalSI} memory:{i:{value:12197888 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.545245       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:73382 scale:-9} d:{Dec:<nil>} s:73382n Format:DecimalSI}, 1
I0412 16:22:15.545280       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:21:57 +0000 UTC Window:{Duration:16.131s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1049593 scale:-9} d:{Dec:<nil>} s:1049593n Format:DecimalSI} memory:{i:{value:55033856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:22:15.545288       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1049593 scale:-9} d:{Dec:<nil>} s:1049593n Format:DecimalSI}, 2
I0412 16:22:15.545369       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:22:15.545388       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:22:15.545435       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:22:15.545461       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:22:15.545502       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 524.507\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.010\n25\t0.032\n30\t0.032\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:22:15.545518       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990138 ControlledValues:<nil>}:
I0412 16:22:15.545552       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:22:15.545575       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:22:15.545589       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36186875]
I0412 16:22:15.545606       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:22:15.545617       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:851771716]
I0412 16:22:15.545625       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:22:15.564230       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0e70} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0f00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[36789568-99d0-414b-94ba-05b5a4e8ecdd] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1680 TLS:0xc0005220b0}
I0412 16:22:15.580859       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883cb0} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883d40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[12b920d4-5a4b-4e01-90b0-4b927b6d564c] Cache-Control:[no-cache, private] Content-Length:[1416] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9980} ContentLength:1416 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d560 TLS:0xc0005220b0}
I0412 16:22:15.581636       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:22:15.581656       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:23:12.054401       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 16:23:15.532587       1 recommender.go:166] Recommender Run
I0412 16:23:15.532648       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:23:15.532657       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:23:15.532692       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:23:15.547321       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746a50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f8c778df-7e73-4b75-941a-20a5708ef703 f8c778df-7e73-4b75-941a-20a5708ef703] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074cb40 TLS:0xc0005220b0}
I0412 16:23:15.547955       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:23:15.548026       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:56 +0000 UTC Window:{Duration:14.505s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50050810 scale:-9} d:{Dec:<nil>} s:50050810n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:23:15.548035       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50050810 scale:-9} d:{Dec:<nil>} s:50050810n Format:DecimalSI}, 51
I0412 16:23:15.548060       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:05 +0000 UTC Window:{Duration:15.97s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50076956 scale:-9} d:{Dec:<nil>} s:50076956n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548069       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50076956 scale:-9} d:{Dec:<nil>} s:50076956n Format:DecimalSI}, 51
I0412 16:23:15.548091       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:08 +0000 UTC Window:{Duration:12.907s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2136205 scale:-9} d:{Dec:<nil>} s:2136205n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:23:15.548098       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2136205 scale:-9} d:{Dec:<nil>} s:2136205n Format:DecimalSI}, 3
I0412 16:23:15.548118       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:02 +0000 UTC Window:{Duration:12.913s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11182529 scale:-9} d:{Dec:<nil>} s:11182529n Format:DecimalSI} memory:{i:{value:168288256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548122       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11182529 scale:-9} d:{Dec:<nil>} s:11182529n Format:DecimalSI}, 12
I0412 16:23:15.548139       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:04 +0000 UTC Window:{Duration:17.589s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1450338 scale:-9} d:{Dec:<nil>} s:1450338n Format:DecimalSI} memory:{i:{value:14655488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548143       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1450338 scale:-9} d:{Dec:<nil>} s:1450338n Format:DecimalSI}, 2
I0412 16:23:15.548163       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:54 +0000 UTC Window:{Duration:18.267s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:23:15.548173       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:23:15.548177       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:23:15.548197       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:05 +0000 UTC Window:{Duration:15.811s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1195433 scale:-9} d:{Dec:<nil>} s:1195433n Format:DecimalSI} memory:{i:{value:6889472 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548203       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1195433 scale:-9} d:{Dec:<nil>} s:1195433n Format:DecimalSI}, 2
I0412 16:23:15.548222       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:57 +0000 UTC Window:{Duration:10.853s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:780982 scale:-9} d:{Dec:<nil>} s:780982n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:780982 scale:-9} d:{Dec:<nil>} s:780982n Format:DecimalSI}, 1
I0412 16:23:15.548244       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:01 +0000 UTC Window:{Duration:19.411s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3093967 scale:-9} d:{Dec:<nil>} s:3093967n Format:DecimalSI} memory:{i:{value:18489344 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548248       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3093967 scale:-9} d:{Dec:<nil>} s:3093967n Format:DecimalSI}, 4
I0412 16:23:15.548270       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:08 +0000 UTC Window:{Duration:15.851s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:340167 scale:-9} d:{Dec:<nil>} s:340167n Format:DecimalSI} memory:{i:{value:9797632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548283       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:340167 scale:-9} d:{Dec:<nil>} s:340167n Format:DecimalSI}, 1
I0412 16:23:15.548317       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:04 +0000 UTC Window:{Duration:18.875s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:172927 scale:-9} d:{Dec:<nil>} s:172927n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:23:15.548330       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:172927 scale:-9} d:{Dec:<nil>} s:172927n Format:DecimalSI}, 1
I0412 16:23:15.548364       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:01 +0000 UTC Window:{Duration:12.224s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:110683 scale:-9} d:{Dec:<nil>} s:110683n Format:DecimalSI} memory:{i:{value:11538432 scale:0} d:{Dec:<nil>} s:11268Ki Format:BinarySI}]}]}
I0412 16:23:15.548368       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:110683 scale:-9} d:{Dec:<nil>} s:110683n Format:DecimalSI}, 1
I0412 16:23:15.548387       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:06 +0000 UTC Window:{Duration:11.187s} Containers:[{Name:updater Usage:map[cpu:{i:{value:98596 scale:-9} d:{Dec:<nil>} s:98596n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:23:15.548390       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:98596 scale:-9} d:{Dec:<nil>} s:98596n Format:DecimalSI}, 1
I0412 16:23:15.548407       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:22:58 +0000 UTC Window:{Duration:19.258s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1497144 scale:-9} d:{Dec:<nil>} s:1497144n Format:DecimalSI} memory:{i:{value:55226368 scale:0} d:{Dec:<nil>} s:53932Ki Format:BinarySI}]}]}
I0412 16:23:15.548410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1497144 scale:-9} d:{Dec:<nil>} s:1497144n Format:DecimalSI}, 2
I0412 16:23:15.548465       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:23:15.548476       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:23:15.548502       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:23:15.548512       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:23:15.548541       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 602.206\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.032\n25\t0.032\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:23:15.548551       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0008405a0 ControlledValues:<nil>}:
I0412 16:23:15.548570       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:23:15.548576       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:23:15.548582       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36186914]
I0412 16:23:15.548586       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:23:15.548591       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:851531422]
I0412 16:23:15.548595       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:23:15.561560       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c060} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c0f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dec488ee-a78c-4301-ac3d-f7bae63b9015] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1200 TLS:0xc0005220b0}
I0412 16:23:15.580744       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c9f0} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cab0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d1f9b2b8-7c9e-4ea7-80e8-516fe0e2a226] Cache-Control:[no-cache, private] Content-Length:[1416] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1416 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1b00 TLS:0xc0005220b0}
I0412 16:23:15.580929       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:23:15.580945       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:23:44.779705       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 16:23:50.493917       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 12 items received
I0412 16:24:06.922614       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 13 items received
I0412 16:24:15.345688       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 10 items received
I0412 16:24:15.532647       1 recommender.go:166] Recommender Run
I0412 16:24:15.532680       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:24:15.532689       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:24:15.532764       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:24:15.546572       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009878c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[15089b4e-e2cf-462b-b6fd-05b2c61c16e4 15089b4e-e2cf-462b-b6fd-05b2c61c16e4] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215560 TLS:0xc0005220b0}
I0412 16:24:15.547109       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:24:15.547160       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:02 +0000 UTC Window:{Duration:17.04s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49943955 scale:-9} d:{Dec:<nil>} s:49943955n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:24:15.547174       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49943955 scale:-9} d:{Dec:<nil>} s:49943955n Format:DecimalSI}, 50
I0412 16:24:15.547209       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:59 +0000 UTC Window:{Duration:10.315s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49896461 scale:-9} d:{Dec:<nil>} s:49896461n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:24:15.547219       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49896461 scale:-9} d:{Dec:<nil>} s:49896461n Format:DecimalSI}, 50
I0412 16:24:15.547241       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:00 +0000 UTC Window:{Duration:13.53s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3416038 scale:-9} d:{Dec:<nil>} s:3416038n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:24:15.547245       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3416038 scale:-9} d:{Dec:<nil>} s:3416038n Format:DecimalSI}, 4
I0412 16:24:15.547265       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:59 +0000 UTC Window:{Duration:11.005s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12006815 scale:-9} d:{Dec:<nil>} s:12006815n Format:DecimalSI} memory:{i:{value:168292352 scale:0} d:{Dec:<nil>} s:164348Ki Format:BinarySI}]}]}
I0412 16:24:15.547272       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12006815 scale:-9} d:{Dec:<nil>} s:12006815n Format:DecimalSI}, 13
I0412 16:24:15.547290       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:11 +0000 UTC Window:{Duration:15.687s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1736150 scale:-9} d:{Dec:<nil>} s:1736150n Format:DecimalSI} memory:{i:{value:14807040 scale:0} d:{Dec:<nil>} s:14460Ki Format:BinarySI}]}]}
I0412 16:24:15.547293       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1736150 scale:-9} d:{Dec:<nil>} s:1736150n Format:DecimalSI}, 2
I0412 16:24:15.547322       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:06 +0000 UTC Window:{Duration:17.89s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:24:15.547327       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:24:15.547331       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:24:15.547348       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:07 +0000 UTC Window:{Duration:11.218s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:648422 scale:-9} d:{Dec:<nil>} s:648422n Format:DecimalSI} memory:{i:{value:6979584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:24:15.547357       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:648422 scale:-9} d:{Dec:<nil>} s:648422n Format:DecimalSI}, 1
I0412 16:24:15.547376       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:04 +0000 UTC Window:{Duration:15.792s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:721441 scale:-9} d:{Dec:<nil>} s:721441n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:24:15.547379       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:721441 scale:-9} d:{Dec:<nil>} s:721441n Format:DecimalSI}, 1
I0412 16:24:15.547400       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:55 +0000 UTC Window:{Duration:15.155s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2226327 scale:-9} d:{Dec:<nil>} s:2226327n Format:DecimalSI} memory:{i:{value:18489344 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:24:15.547410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2226327 scale:-9} d:{Dec:<nil>} s:2226327n Format:DecimalSI}, 3
I0412 16:24:15.547429       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:08 +0000 UTC Window:{Duration:11.937s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:259110 scale:-9} d:{Dec:<nil>} s:259110n Format:DecimalSI} memory:{i:{value:9818112 scale:0} d:{Dec:<nil>} s:9588Ki Format:BinarySI}]}]}
I0412 16:24:15.547434       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:259110 scale:-9} d:{Dec:<nil>} s:259110n Format:DecimalSI}, 1
I0412 16:24:15.547453       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:23:58 +0000 UTC Window:{Duration:15.832s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:179067 scale:-9} d:{Dec:<nil>} s:179067n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:24:15.547459       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:179067 scale:-9} d:{Dec:<nil>} s:179067n Format:DecimalSI}, 1
I0412 16:24:15.547477       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:00 +0000 UTC Window:{Duration:14.519s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:205386 scale:-9} d:{Dec:<nil>} s:205386n Format:DecimalSI} memory:{i:{value:11538432 scale:0} d:{Dec:<nil>} s:11268Ki Format:BinarySI}]}]}
I0412 16:24:15.547483       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:205386 scale:-9} d:{Dec:<nil>} s:205386n Format:DecimalSI}, 1
I0412 16:24:15.547508       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:06 +0000 UTC Window:{Duration:17.639s} Containers:[{Name:updater Usage:map[cpu:{i:{value:129542 scale:-9} d:{Dec:<nil>} s:129542n Format:DecimalSI} memory:{i:{value:12193792 scale:0} d:{Dec:<nil>} s:11908Ki Format:BinarySI}]}]}
I0412 16:24:15.547515       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:129542 scale:-9} d:{Dec:<nil>} s:129542n Format:DecimalSI}, 1
I0412 16:24:15.547532       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:00 +0000 UTC Window:{Duration:14.248s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1722206 scale:-9} d:{Dec:<nil>} s:1722206n Format:DecimalSI} memory:{i:{value:55582720 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:24:15.547540       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1722206 scale:-9} d:{Dec:<nil>} s:1722206n Format:DecimalSI}, 2
I0412 16:24:15.547591       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:24:15.547605       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:24:15.547631       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:24:15.547646       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:24:15.547674       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 691.453\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.010\n20\t0.032\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:24:15.547681       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0008415d8 ControlledValues:<nil>}:
I0412 16:24:15.547702       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:24:15.547709       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:24:15.547716       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36186955]
I0412 16:24:15.547723       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:24:15.547733       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:851282689]
I0412 16:24:15.547737       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:24:15.565715       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882b40} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882bd0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f6d2c8da-e4c1-47bf-9136-348a8c9b6029] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 16:24:15.585196       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883830} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008838c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e61e51c0-35f5-42a0-a4cb-413426aae76f] Cache-Control:[no-cache, private] Content-Length:[1416] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473200} ContentLength:1416 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 16:24:15.585321       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:24:15.585334       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:24:43.726393       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 12 items received
I0412 16:25:15.531772       1 recommender.go:166] Recommender Run
I0412 16:25:15.531831       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:25:15.531855       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:25:15.531965       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:25:15.548436       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882600 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[619e699a-d564-474a-b604-320dfb25b8cd 619e699a-d564-474a-b604-320dfb25b8cd] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 16:25:15.549737       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:25:15.550002       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:02 +0000 UTC Window:{Duration:11.844s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50391252 scale:-9} d:{Dec:<nil>} s:50391252n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:25:15.550106       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50391252 scale:-9} d:{Dec:<nil>} s:50391252n Format:DecimalSI}, 51
I0412 16:25:15.550279       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:06 +0000 UTC Window:{Duration:11.73s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49673316 scale:-9} d:{Dec:<nil>} s:49673316n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:25:15.550317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49673316 scale:-9} d:{Dec:<nil>} s:49673316n Format:DecimalSI}, 50
I0412 16:25:15.550393       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:08 +0000 UTC Window:{Duration:19.766s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2309774 scale:-9} d:{Dec:<nil>} s:2309774n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:25:15.550407       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2309774 scale:-9} d:{Dec:<nil>} s:2309774n Format:DecimalSI}, 3
I0412 16:25:15.550475       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:02 +0000 UTC Window:{Duration:19.092s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11913157 scale:-9} d:{Dec:<nil>} s:11913157n Format:DecimalSI} memory:{i:{value:168288256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:25:15.550495       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11913157 scale:-9} d:{Dec:<nil>} s:11913157n Format:DecimalSI}, 12
I0412 16:25:15.550561       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:03 +0000 UTC Window:{Duration:12.394s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1669840 scale:-9} d:{Dec:<nil>} s:1669840n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 16:25:15.550573       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1669840 scale:-9} d:{Dec:<nil>} s:1669840n Format:DecimalSI}, 2
I0412 16:25:15.550642       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:24:51 +0000 UTC Window:{Duration:14.968s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:25:15.550666       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:25:15.550681       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:25:15.550744       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:06 +0000 UTC Window:{Duration:11.941s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:773218 scale:-9} d:{Dec:<nil>} s:773218n Format:DecimalSI} memory:{i:{value:6893568 scale:0} d:{Dec:<nil>} s:6732Ki Format:BinarySI}]}]}
I0412 16:25:15.550772       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:773218 scale:-9} d:{Dec:<nil>} s:773218n Format:DecimalSI}, 1
I0412 16:25:15.550835       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:11 +0000 UTC Window:{Duration:19.403s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:642632 scale:-9} d:{Dec:<nil>} s:642632n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:25:15.550859       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:642632 scale:-9} d:{Dec:<nil>} s:642632n Format:DecimalSI}, 1
I0412 16:25:15.550920       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:11 +0000 UTC Window:{Duration:28.68s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2795711 scale:-9} d:{Dec:<nil>} s:2795711n Format:DecimalSI} memory:{i:{value:18976768 scale:0} d:{Dec:<nil>} s:18532Ki Format:BinarySI}]}]}
I0412 16:25:15.550933       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2795711 scale:-9} d:{Dec:<nil>} s:2795711n Format:DecimalSI}, 3
I0412 16:25:15.550995       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:03 +0000 UTC Window:{Duration:18.529s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:242646 scale:-9} d:{Dec:<nil>} s:242646n Format:DecimalSI} memory:{i:{value:9822208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:25:15.551021       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:242646 scale:-9} d:{Dec:<nil>} s:242646n Format:DecimalSI}, 1
I0412 16:25:15.551085       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:09 +0000 UTC Window:{Duration:18.89s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:59714 scale:-9} d:{Dec:<nil>} s:59714n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:25:15.551105       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:59714 scale:-9} d:{Dec:<nil>} s:59714n Format:DecimalSI}, 1
I0412 16:25:15.551172       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:03 +0000 UTC Window:{Duration:12.076s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:45544 scale:-9} d:{Dec:<nil>} s:45544n Format:DecimalSI} memory:{i:{value:11538432 scale:0} d:{Dec:<nil>} s:11268Ki Format:BinarySI}]}]}
I0412 16:25:15.551194       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:45544 scale:-9} d:{Dec:<nil>} s:45544n Format:DecimalSI}, 1
I0412 16:25:15.551262       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:02 +0000 UTC Window:{Duration:14.898s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:25:15.551287       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:25:15.551349       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:09 +0000 UTC Window:{Duration:19.559s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1963341 scale:-9} d:{Dec:<nil>} s:1963341n Format:DecimalSI} memory:{i:{value:55812096 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:25:15.551373       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1963341 scale:-9} d:{Dec:<nil>} s:1963341n Format:DecimalSI}, 2
I0412 16:25:15.551505       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:25:15.551536       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:25:15.551600       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:25:15.551639       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:25:15.551712       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 794.805\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.032\n20\t0.032\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:25:15.551737       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0004502e8 ControlledValues:<nil>}:
I0412 16:25:15.551792       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:25:15.551818       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:25:15.551841       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187001]
I0412 16:25:15.551855       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:25:15.551873       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:851003770]
I0412 16:25:15.551885       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:25:15.581242       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000987c20} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987cb0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6b15a2c3-9528-44b8-9da7-0f5b0ac669d0] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077a900 TLS:0xc0005220b0}
I0412 16:25:15.597772       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007466c0} GetBody:0x6d9b40 ContentLength:489 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[21e9bcaa-0457-489e-8ae7-8644774bdb32] Cache-Control:[no-cache, private] Content-Length:[1415] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1415 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077b0e0 TLS:0xc0005220b0}
I0412 16:25:15.598041       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:25:15.598075       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:26:15.532706       1 recommender.go:166] Recommender Run
I0412 16:26:15.532741       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:26:15.532747       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:26:15.532773       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:26:15.549361       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007473b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f39faa58-813d-4ce8-95c3-06b41cfc6ffd f39faa58-813d-4ce8-95c3-06b41cfc6ffd] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473080} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077b680 TLS:0xc0005220b0}
I0412 16:26:15.550717       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:26:15.550833       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:59 +0000 UTC Window:{Duration:11.669s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50101636 scale:-9} d:{Dec:<nil>} s:50101636n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:26:15.550847       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50101636 scale:-9} d:{Dec:<nil>} s:50101636n Format:DecimalSI}, 51
I0412 16:26:15.550896       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:08 +0000 UTC Window:{Duration:18.561s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50052798 scale:-9} d:{Dec:<nil>} s:50052798n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:26:15.550923       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50052798 scale:-9} d:{Dec:<nil>} s:50052798n Format:DecimalSI}, 51
I0412 16:26:15.550968       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:08 +0000 UTC Window:{Duration:18.939s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1962669 scale:-9} d:{Dec:<nil>} s:1962669n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:26:15.550990       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1962669 scale:-9} d:{Dec:<nil>} s:1962669n Format:DecimalSI}, 2
I0412 16:26:15.551032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:09 +0000 UTC Window:{Duration:19.586s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11791687 scale:-9} d:{Dec:<nil>} s:11791687n Format:DecimalSI} memory:{i:{value:168292352 scale:0} d:{Dec:<nil>} s:164348Ki Format:BinarySI}]}]}
I0412 16:26:15.551049       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11791687 scale:-9} d:{Dec:<nil>} s:11791687n Format:DecimalSI}, 12
I0412 16:26:15.551083       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:11 +0000 UTC Window:{Duration:14.904s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1603327 scale:-9} d:{Dec:<nil>} s:1603327n Format:DecimalSI} memory:{i:{value:14659584 scale:0} d:{Dec:<nil>} s:14316Ki Format:BinarySI}]}]}
I0412 16:26:15.551091       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1603327 scale:-9} d:{Dec:<nil>} s:1603327n Format:DecimalSI}, 2
I0412 16:26:15.551132       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:56 +0000 UTC Window:{Duration:29.085s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2544 scale:-9} d:{Dec:<nil>} s:2544n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:26:15.551219       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:26:15.551237       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2544 scale:-9} d:{Dec:<nil>} s:2544n Format:DecimalSI}, 1
I0412 16:26:15.551281       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:08 +0000 UTC Window:{Duration:14.89s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1365681 scale:-9} d:{Dec:<nil>} s:1365681n Format:DecimalSI} memory:{i:{value:6889472 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:26:15.551353       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1365681 scale:-9} d:{Dec:<nil>} s:1365681n Format:DecimalSI}, 2
I0412 16:26:15.551406       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:11 +0000 UTC Window:{Duration:17.881s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:475476 scale:-9} d:{Dec:<nil>} s:475476n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:26:15.551413       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:475476 scale:-9} d:{Dec:<nil>} s:475476n Format:DecimalSI}, 1
I0412 16:26:15.551449       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:06 +0000 UTC Window:{Duration:11.698s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3471106 scale:-9} d:{Dec:<nil>} s:3471106n Format:DecimalSI} memory:{i:{value:19628032 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:26:15.551469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3471106 scale:-9} d:{Dec:<nil>} s:3471106n Format:DecimalSI}, 4
I0412 16:26:15.551506       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:07 +0000 UTC Window:{Duration:18.985s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:265683 scale:-9} d:{Dec:<nil>} s:265683n Format:DecimalSI} memory:{i:{value:9826304 scale:0} d:{Dec:<nil>} s:9596Ki Format:BinarySI}]}]}
I0412 16:26:15.551557       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:265683 scale:-9} d:{Dec:<nil>} s:265683n Format:DecimalSI}, 1
I0412 16:26:15.551650       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:10 +0000 UTC Window:{Duration:13.162s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:119586 scale:-9} d:{Dec:<nil>} s:119586n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:26:15.551700       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:119586 scale:-9} d:{Dec:<nil>} s:119586n Format:DecimalSI}, 1
I0412 16:26:15.551749       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:58 +0000 UTC Window:{Duration:19.844s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:100937 scale:-9} d:{Dec:<nil>} s:100937n Format:DecimalSI} memory:{i:{value:11444224 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:26:15.551763       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:100937 scale:-9} d:{Dec:<nil>} s:100937n Format:DecimalSI}, 1
I0412 16:26:15.551796       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:25:57 +0000 UTC Window:{Duration:14.667s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:26:15.551809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:26:15.551846       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:11 +0000 UTC Window:{Duration:17.727s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1739042 scale:-9} d:{Dec:<nil>} s:1739042n Format:DecimalSI} memory:{i:{value:55853056 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:26:15.551893       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1739042 scale:-9} d:{Dec:<nil>} s:1739042n Format:DecimalSI}, 2
I0412 16:26:15.551998       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:26:15.552019       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:26:15.552066       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:26:15.552138       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:26:15.552197       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 913.394\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.032\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:26:15.552207       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990108 ControlledValues:<nil>}:
I0412 16:26:15.552249       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:26:15.552261       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:26:15.552273       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187045]
I0412 16:26:15.552282       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:26:15.552300       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:850733930]
I0412 16:26:15.552321       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:26:15.565852       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c4b0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c540 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7c0c6699-f29c-4ab1-bb7b-72555f919a67] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473200} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365d40 TLS:0xc0005220b0}
I0412 16:26:15.587094       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d050} GetBody:0x6d9b40 ContentLength:489 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d110 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[aae1cefa-d52a-4301-b55e-f127c72aaabd] Cache-Control:[no-cache, private] Content-Length:[1415] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473500} ContentLength:1415 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c7e0 TLS:0xc0005220b0}
I0412 16:26:15.587549       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:26:15.587580       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:27:15.533257       1 recommender.go:166] Recommender Run
I0412 16:27:15.533361       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:27:15.533377       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:27:15.533458       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:27:15.549987       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762a80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f80169ce-1f43-492f-9478-af98043be95e f80169ce-1f43-492f-9478-af98043be95e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ad80 TLS:0xc0005220b0}
I0412 16:27:15.550829       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:27:15.550931       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:59 +0000 UTC Window:{Duration:15.944s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49853549 scale:-9} d:{Dec:<nil>} s:49853549n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:27:15.550945       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49853549 scale:-9} d:{Dec:<nil>} s:49853549n Format:DecimalSI}, 50
I0412 16:27:15.550990       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:59 +0000 UTC Window:{Duration:11.627s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50389180 scale:-9} d:{Dec:<nil>} s:50389180n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:27:15.551007       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50389180 scale:-9} d:{Dec:<nil>} s:50389180n Format:DecimalSI}, 51
I0412 16:27:15.551051       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:08 +0000 UTC Window:{Duration:13.191s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2364794 scale:-9} d:{Dec:<nil>} s:2364794n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:27:15.551070       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2364794 scale:-9} d:{Dec:<nil>} s:2364794n Format:DecimalSI}, 3
I0412 16:27:15.551110       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:01 +0000 UTC Window:{Duration:16.036s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12857383 scale:-9} d:{Dec:<nil>} s:12857383n Format:DecimalSI} memory:{i:{value:168292352 scale:0} d:{Dec:<nil>} s:164348Ki Format:BinarySI}]}]}
I0412 16:27:15.551216       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12857383 scale:-9} d:{Dec:<nil>} s:12857383n Format:DecimalSI}, 13
I0412 16:27:15.551362       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:00 +0000 UTC Window:{Duration:19.741s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1946861 scale:-9} d:{Dec:<nil>} s:1946861n Format:DecimalSI} memory:{i:{value:14757888 scale:0} d:{Dec:<nil>} s:14412Ki Format:BinarySI}]}]}
I0412 16:27:15.551404       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1946861 scale:-9} d:{Dec:<nil>} s:1946861n Format:DecimalSI}, 2
I0412 16:27:15.551452       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:51 +0000 UTC Window:{Duration:13.401s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:27:15.551475       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:27:15.551483       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:27:15.551520       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:06 +0000 UTC Window:{Duration:15.766s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1650006 scale:-9} d:{Dec:<nil>} s:1650006n Format:DecimalSI} memory:{i:{value:7024640 scale:0} d:{Dec:<nil>} s:6860Ki Format:BinarySI}]}]}
I0412 16:27:15.551527       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1650006 scale:-9} d:{Dec:<nil>} s:1650006n Format:DecimalSI}, 2
I0412 16:27:15.551560       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:06 +0000 UTC Window:{Duration:11.778s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:833672 scale:-9} d:{Dec:<nil>} s:833672n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:27:15.551629       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:833672 scale:-9} d:{Dec:<nil>} s:833672n Format:DecimalSI}, 1
I0412 16:27:15.551679       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:53 +0000 UTC Window:{Duration:12.149s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2448925 scale:-9} d:{Dec:<nil>} s:2448925n Format:DecimalSI} memory:{i:{value:19398656 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:27:15.551686       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2448925 scale:-9} d:{Dec:<nil>} s:2448925n Format:DecimalSI}, 3
I0412 16:27:15.551722       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:02 +0000 UTC Window:{Duration:13.851s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:208216 scale:-9} d:{Dec:<nil>} s:208216n Format:DecimalSI} memory:{i:{value:9826304 scale:0} d:{Dec:<nil>} s:9596Ki Format:BinarySI}]}]}
I0412 16:27:15.551729       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:208216 scale:-9} d:{Dec:<nil>} s:208216n Format:DecimalSI}, 1
I0412 16:27:15.551762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:09 +0000 UTC Window:{Duration:26.862s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:219194 scale:-9} d:{Dec:<nil>} s:219194n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:27:15.551769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:219194 scale:-9} d:{Dec:<nil>} s:219194n Format:DecimalSI}, 1
I0412 16:27:15.551802       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:00 +0000 UTC Window:{Duration:19.785s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:126459 scale:-9} d:{Dec:<nil>} s:126459n Format:DecimalSI} memory:{i:{value:11440128 scale:0} d:{Dec:<nil>} s:11172Ki Format:BinarySI}]}]}
I0412 16:27:15.551809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:126459 scale:-9} d:{Dec:<nil>} s:126459n Format:DecimalSI}, 1
I0412 16:27:15.551840       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:26:55 +0000 UTC Window:{Duration:22.173s} Containers:[{Name:updater Usage:map[cpu:{i:{value:105353 scale:-9} d:{Dec:<nil>} s:105353n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:27:15.551853       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:105353 scale:-9} d:{Dec:<nil>} s:105353n Format:DecimalSI}, 1
I0412 16:27:15.551887       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:06 +0000 UTC Window:{Duration:13.086s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1132966 scale:-9} d:{Dec:<nil>} s:1132966n Format:DecimalSI} memory:{i:{value:55902208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:27:15.551895       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1132966 scale:-9} d:{Dec:<nil>} s:1132966n Format:DecimalSI}, 2
I0412 16:27:15.551998       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:27:15.552019       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:27:15.552085       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:27:15.552121       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:27:15.552173       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 1048.199\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.010\n15\t0.032\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:27:15.552185       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491968 ControlledValues:<nil>}:
I0412 16:27:15.552218       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:27:15.552229       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:27:15.552241       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187081]
I0412 16:27:15.552249       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:27:15.552260       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:121 memory:850512232]
I0412 16:27:15.552268       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:27:15.576762       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cf90} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d020 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e8949052-4b30-4a33-b98b-48262aa98c2e] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d8c0 TLS:0xc0005220b0}
I0412 16:27:15.593288       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763b30} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763bc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[582fd8a7-2f09-469b-9ac0-bf752f2de9ec] Cache-Control:[no-cache, private] Content-Length:[1417] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:1417 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b7a0 TLS:0xc0005220b0}
I0412 16:27:15.593517       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:27:15.593545       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:27:58.478046       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 7 items received
I0412 16:28:14.146732       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 6 items received
I0412 16:28:15.532230       1 recommender.go:166] Recommender Run
I0412 16:28:15.532294       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:28:15.532304       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:28:15.532403       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:28:15.551649       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882ea0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2afac745-a9cd-43be-b453-405fae116ac9 2afac745-a9cd-43be-b453-405fae116ac9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2600} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077ab40 TLS:0xc0005220b0}
I0412 16:28:15.552570       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:28:15.552698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:12 +0000 UTC Window:{Duration:25s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49939120 scale:-9} d:{Dec:<nil>} s:49939120n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:28:15.552719       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49939120 scale:-9} d:{Dec:<nil>} s:49939120n Format:DecimalSI}, 50
I0412 16:28:15.552762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:06 +0000 UTC Window:{Duration:17.582s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50232738 scale:-9} d:{Dec:<nil>} s:50232738n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.552769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50232738 scale:-9} d:{Dec:<nil>} s:50232738n Format:DecimalSI}, 51
I0412 16:28:15.552841       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:10 +0000 UTC Window:{Duration:26.897s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2443395 scale:-9} d:{Dec:<nil>} s:2443395n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:28:15.552856       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2443395 scale:-9} d:{Dec:<nil>} s:2443395n Format:DecimalSI}, 3
I0412 16:28:15.552891       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:07 +0000 UTC Window:{Duration:13.978s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10442409 scale:-9} d:{Dec:<nil>} s:10442409n Format:DecimalSI} memory:{i:{value:168886272 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.552903       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10442409 scale:-9} d:{Dec:<nil>} s:10442409n Format:DecimalSI}, 11
I0412 16:28:15.552936       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:06 +0000 UTC Window:{Duration:19.331s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1476436 scale:-9} d:{Dec:<nil>} s:1476436n Format:DecimalSI} memory:{i:{value:15167488 scale:0} d:{Dec:<nil>} s:14812Ki Format:BinarySI}]}]}
I0412 16:28:15.552943       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1476436 scale:-9} d:{Dec:<nil>} s:1476436n Format:DecimalSI}, 2
I0412 16:28:15.552979       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:27:58 +0000 UTC Window:{Duration:29.11s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:3493 scale:-9} d:{Dec:<nil>} s:3493n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:28:15.552998       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:28:15.553006       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3493 scale:-9} d:{Dec:<nil>} s:3493n Format:DecimalSI}, 1
I0412 16:28:15.553038       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:10 +0000 UTC Window:{Duration:18.94s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1241235 scale:-9} d:{Dec:<nil>} s:1241235n Format:DecimalSI} memory:{i:{value:7524352 scale:0} d:{Dec:<nil>} s:7348Ki Format:BinarySI}]}]}
I0412 16:28:15.553045       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1241235 scale:-9} d:{Dec:<nil>} s:1241235n Format:DecimalSI}, 2
I0412 16:28:15.553076       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:04 +0000 UTC Window:{Duration:12.019s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:428321 scale:-9} d:{Dec:<nil>} s:428321n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.553082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:428321 scale:-9} d:{Dec:<nil>} s:428321n Format:DecimalSI}, 1
I0412 16:28:15.553121       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:07 +0000 UTC Window:{Duration:17.907s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3397163 scale:-9} d:{Dec:<nil>} s:3397163n Format:DecimalSI} memory:{i:{value:19439616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.553132       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3397163 scale:-9} d:{Dec:<nil>} s:3397163n Format:DecimalSI}, 4
I0412 16:28:15.553163       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:08 +0000 UTC Window:{Duration:29.698s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:279345 scale:-9} d:{Dec:<nil>} s:279345n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.553174       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:279345 scale:-9} d:{Dec:<nil>} s:279345n Format:DecimalSI}, 1
I0412 16:28:15.553206       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:11 +0000 UTC Window:{Duration:17.903s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:84901 scale:-9} d:{Dec:<nil>} s:84901n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.553212       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:84901 scale:-9} d:{Dec:<nil>} s:84901n Format:DecimalSI}, 1
I0412 16:28:15.553241       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:03 +0000 UTC Window:{Duration:13.448s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:128941 scale:-9} d:{Dec:<nil>} s:128941n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.553253       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:128941 scale:-9} d:{Dec:<nil>} s:128941n Format:DecimalSI}, 1
I0412 16:28:15.553283       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:10 +0000 UTC Window:{Duration:19.502s} Containers:[{Name:updater Usage:map[cpu:{i:{value:154240 scale:-9} d:{Dec:<nil>} s:154240n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:28:15.553291       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:154240 scale:-9} d:{Dec:<nil>} s:154240n Format:DecimalSI}, 1
I0412 16:28:15.553319       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:00 +0000 UTC Window:{Duration:10.951s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1909323 scale:-9} d:{Dec:<nil>} s:1909323n Format:DecimalSI} memory:{i:{value:55910400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:28:15.553330       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1909323 scale:-9} d:{Dec:<nil>} s:1909323n Format:DecimalSI}, 2
I0412 16:28:15.553422       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:28:15.553438       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:28:15.553493       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:28:15.553524       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:28:15.553563       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 1206.674\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.032\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:28:15.553578       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0004512d8 ControlledValues:<nil>}:
I0412 16:28:15.553617       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:28:15.553627       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:28:15.553637       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187133]
I0412 16:28:15.553644       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:28:15.553654       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:120 memory:850195319]
I0412 16:28:15.553669       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:28:15.572898       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0180} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0210 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7360fa3f-0349-469a-8711-e1adee819586] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003647e0 TLS:0xc0005220b0}
I0412 16:28:15.589027       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986f00} GetBody:0x6d9b40 ContentLength:490 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986f90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[054ad0e6-f208-4a5a-bb54-c97b10b3d6cf] Cache-Control:[no-cache, private] Content-Length:[1417] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:1417 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cfc0 TLS:0xc0005220b0}
I0412 16:28:15.590797       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:28:15.590813       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 16:28:15.590834       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:28:15.590841       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:28:15.590874       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:28:15.600140       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009878f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[25e9d8a8-2e03-4620-bbb0-cc8e6840cfce] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473200} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 16:28:15.608925       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728120 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[87669539-7ee8-4e27-9e79-dd479e3e90de] Cache-Control:[no-cache, private] Content-Length:[1570] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473c80} ContentLength:1570 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1320 TLS:0xc0005220b0}
I0412 16:28:15.616660       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007287e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2b17bccd-66da-413b-9f5d-f9c8a69b5c2b] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b18c0 TLS:0xc0005220b0}
I0412 16:28:15.622990       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728f00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[054b371c-0dc1-4afe-b868-c3cc6e5a0cc9] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214480 TLS:0xc0005220b0}
I0412 16:28:15.631521       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007294d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[20fb178e-a957-4fde-8d0a-d86264fbbb25] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214d80 TLS:0xc0005220b0}
I0412 16:28:15.640315       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007299b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4f57268b-2ef8-41b5-8c22-2e03fd25cd85] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215560 TLS:0xc0005220b0}
I0412 16:28:15.640382       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:29:01.271885       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 0 items received
I0412 16:29:15.532081       1 recommender.go:166] Recommender Run
I0412 16:29:15.532118       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:29:15.532129       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:29:15.532189       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:29:15.545986       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007285d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4d3a8e3a-722d-43ca-bed6-1dd79fc54694 4d3a8e3a-722d-43ca-bed6-1dd79fc54694] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c5a0 TLS:0xc0005220b0}
I0412 16:29:15.546782       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:29:15.546907       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:07 +0000 UTC Window:{Duration:12.719s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50101816 scale:-9} d:{Dec:<nil>} s:50101816n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:29:15.546929       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50101816 scale:-9} d:{Dec:<nil>} s:50101816n Format:DecimalSI}, 51
I0412 16:29:15.546975       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:57 +0000 UTC Window:{Duration:10.287s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50014873 scale:-9} d:{Dec:<nil>} s:50014873n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:29:15.546990       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50014873 scale:-9} d:{Dec:<nil>} s:50014873n Format:DecimalSI}, 51
I0412 16:29:15.547036       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:59 +0000 UTC Window:{Duration:11.572s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1669287 scale:-9} d:{Dec:<nil>} s:1669287n Format:DecimalSI} memory:{i:{value:32059392 scale:0} d:{Dec:<nil>} s:31308Ki Format:BinarySI}]}]}
I0412 16:29:15.547101       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1669287 scale:-9} d:{Dec:<nil>} s:1669287n Format:DecimalSI}, 2
I0412 16:29:15.547161       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:11 +0000 UTC Window:{Duration:33.452s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10014647 scale:-9} d:{Dec:<nil>} s:10014647n Format:DecimalSI} memory:{i:{value:168382464 scale:0} d:{Dec:<nil>} s:164436Ki Format:BinarySI}]}]}
I0412 16:29:15.547169       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10014647 scale:-9} d:{Dec:<nil>} s:10014647n Format:DecimalSI}, 11
I0412 16:29:15.547204       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:58 +0000 UTC Window:{Duration:11.264s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1659090 scale:-9} d:{Dec:<nil>} s:1659090n Format:DecimalSI} memory:{i:{value:14598144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:29:15.547216       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1659090 scale:-9} d:{Dec:<nil>} s:1659090n Format:DecimalSI}, 2
I0412 16:29:15.547257       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:54 +0000 UTC Window:{Duration:14.905s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:29:15.547268       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:29:15.547276       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:29:15.547310       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:54 +0000 UTC Window:{Duration:15.151s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1161309 scale:-9} d:{Dec:<nil>} s:1161309n Format:DecimalSI} memory:{i:{value:6905856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:29:15.547317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1161309 scale:-9} d:{Dec:<nil>} s:1161309n Format:DecimalSI}, 2
I0412 16:29:15.547363       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:01 +0000 UTC Window:{Duration:11.46s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:904101 scale:-9} d:{Dec:<nil>} s:904101n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:29:15.547378       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:904101 scale:-9} d:{Dec:<nil>} s:904101n Format:DecimalSI}, 1
I0412 16:29:15.547416       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:00 +0000 UTC Window:{Duration:10.373s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2796683 scale:-9} d:{Dec:<nil>} s:2796683n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:29:15.547423       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2796683 scale:-9} d:{Dec:<nil>} s:2796683n Format:DecimalSI}, 3
I0412 16:29:15.547458       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:07 +0000 UTC Window:{Duration:11.367s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:566464 scale:-9} d:{Dec:<nil>} s:566464n Format:DecimalSI} memory:{i:{value:9965568 scale:0} d:{Dec:<nil>} s:9732Ki Format:BinarySI}]}]}
I0412 16:29:15.547467       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:566464 scale:-9} d:{Dec:<nil>} s:566464n Format:DecimalSI}, 1
I0412 16:29:15.547500       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:57 +0000 UTC Window:{Duration:10.93s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:15645 scale:-9} d:{Dec:<nil>} s:15645n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:29:15.547506       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:15645 scale:-9} d:{Dec:<nil>} s:15645n Format:DecimalSI}, 1
I0412 16:29:15.547539       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:06 +0000 UTC Window:{Duration:16.214s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:110028 scale:-9} d:{Dec:<nil>} s:110028n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:29:15.547558       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:110028 scale:-9} d:{Dec:<nil>} s:110028n Format:DecimalSI}, 1
I0412 16:29:15.547595       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:28:58 +0000 UTC Window:{Duration:19.544s} Containers:[{Name:updater Usage:map[cpu:{i:{value:53469 scale:-9} d:{Dec:<nil>} s:53469n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:29:15.547612       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:53469 scale:-9} d:{Dec:<nil>} s:53469n Format:DecimalSI}, 1
I0412 16:29:15.547647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:04 +0000 UTC Window:{Duration:17.348s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:896356 scale:-9} d:{Dec:<nil>} s:896356n Format:DecimalSI} memory:{i:{value:56086528 scale:0} d:{Dec:<nil>} s:54772Ki Format:BinarySI}]}]}
I0412 16:29:15.547661       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:896356 scale:-9} d:{Dec:<nil>} s:896356n Format:DecimalSI}, 1
I0412 16:29:15.547793       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:29:15.547815       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:29:15.547862       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:29:15.547896       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:29:15.547955       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 1385.800\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.032\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:29:15.547970       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491aa0 ControlledValues:<nil>}:
I0412 16:29:15.548014       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:29:15.548026       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:29:15.548038       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187171]
I0412 16:29:15.548046       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:29:15.548057       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:120 memory:849956874]
I0412 16:29:15.548072       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:29:15.560975       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bec90} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bedb0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6ade34be-2a9a-4be3-a41f-5d68119e9085] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 16:29:15.575365       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf740} GetBody:0x6d9b40 ContentLength:489 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf7d0 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4ab59b69-0dbb-41f0-943c-143c4fe51122] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003650e0 TLS:0xc0005220b0}
I0412 16:29:15.594519       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc00089c5a0} GetBody:0x6d9b40 ContentLength:671 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c630 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0ff68702-db22-464b-94ac-68cdb13f8ac1] Cache-Control:[no-cache, private] Content-Length:[1415] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2600} ContentLength:1415 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 16:29:15.594777       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:29:15.594812       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:30:12.060361       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 6 items received
I0412 16:30:15.533206       1 recommender.go:166] Recommender Run
I0412 16:30:15.533298       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:30:15.533321       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:30:15.533404       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:30:15.550811       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089dad0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[850a2fa6-243f-4f60-a1b4-97e898d550be 850a2fa6-243f-4f60-a1b4-97e898d550be] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b9e0 TLS:0xc0005220b0}
I0412 16:30:15.551693       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:30:15.551806       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:10 +0000 UTC Window:{Duration:27.359s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50107204 scale:-9} d:{Dec:<nil>} s:50107204n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:30:15.551834       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50107204 scale:-9} d:{Dec:<nil>} s:50107204n Format:DecimalSI}, 51
I0412 16:30:15.551882       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:02 +0000 UTC Window:{Duration:17.047s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50013726 scale:-9} d:{Dec:<nil>} s:50013726n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:30:15.551899       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50013726 scale:-9} d:{Dec:<nil>} s:50013726n Format:DecimalSI}, 51
I0412 16:30:15.551943       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:55 +0000 UTC Window:{Duration:25.531s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2626101 scale:-9} d:{Dec:<nil>} s:2626101n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:30:15.552041       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2626101 scale:-9} d:{Dec:<nil>} s:2626101n Format:DecimalSI}, 3
I0412 16:30:15.552104       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:11 +0000 UTC Window:{Duration:29.313s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13109098 scale:-9} d:{Dec:<nil>} s:13109098n Format:DecimalSI} memory:{i:{value:168316928 scale:0} d:{Dec:<nil>} s:164372Ki Format:BinarySI}]}]}
I0412 16:30:15.552119       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13109098 scale:-9} d:{Dec:<nil>} s:13109098n Format:DecimalSI}, 14
I0412 16:30:15.552157       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:59 +0000 UTC Window:{Duration:11.953s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2212247 scale:-9} d:{Dec:<nil>} s:2212247n Format:DecimalSI} memory:{i:{value:14598144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:30:15.552172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2212247 scale:-9} d:{Dec:<nil>} s:2212247n Format:DecimalSI}, 3
I0412 16:30:15.552220       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:02 +0000 UTC Window:{Duration:16.709s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:30:15.552234       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:30:15.552242       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:30:15.552279       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:56 +0000 UTC Window:{Duration:14.922s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1293660 scale:-9} d:{Dec:<nil>} s:1293660n Format:DecimalSI} memory:{i:{value:6983680 scale:0} d:{Dec:<nil>} s:6820Ki Format:BinarySI}]}]}
I0412 16:30:15.552286       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1293660 scale:-9} d:{Dec:<nil>} s:1293660n Format:DecimalSI}, 2
I0412 16:30:15.552320       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:03 +0000 UTC Window:{Duration:12.043s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:894461 scale:-9} d:{Dec:<nil>} s:894461n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:30:15.552327       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:894461 scale:-9} d:{Dec:<nil>} s:894461n Format:DecimalSI}, 1
I0412 16:30:15.552360       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:07 +0000 UTC Window:{Duration:15.724s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3165034 scale:-9} d:{Dec:<nil>} s:3165034n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:30:15.552372       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3165034 scale:-9} d:{Dec:<nil>} s:3165034n Format:DecimalSI}, 4
I0412 16:30:15.552405       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:11 +0000 UTC Window:{Duration:25.398s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:226750 scale:-9} d:{Dec:<nil>} s:226750n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:30:15.552416       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:226750 scale:-9} d:{Dec:<nil>} s:226750n Format:DecimalSI}, 1
I0412 16:30:15.552450       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:10 +0000 UTC Window:{Duration:22.71s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:98326 scale:-9} d:{Dec:<nil>} s:98326n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:30:15.552456       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:98326 scale:-9} d:{Dec:<nil>} s:98326n Format:DecimalSI}, 1
I0412 16:30:15.552488       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:10 +0000 UTC Window:{Duration:29.701s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:141577 scale:-9} d:{Dec:<nil>} s:141577n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:30:15.552500       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:141577 scale:-9} d:{Dec:<nil>} s:141577n Format:DecimalSI}, 1
I0412 16:30:15.552533       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:29:56 +0000 UTC Window:{Duration:25.423s} Containers:[{Name:updater Usage:map[cpu:{i:{value:266923 scale:-9} d:{Dec:<nil>} s:266923n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:30:15.552539       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:266923 scale:-9} d:{Dec:<nil>} s:266923n Format:DecimalSI}, 1
I0412 16:30:15.552573       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:11 +0000 UTC Window:{Duration:14.867s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1378018 scale:-9} d:{Dec:<nil>} s:1378018n Format:DecimalSI} memory:{i:{value:56119296 scale:0} d:{Dec:<nil>} s:54804Ki Format:BinarySI}]}]}
I0412 16:30:15.552598       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1378018 scale:-9} d:{Dec:<nil>} s:1378018n Format:DecimalSI}, 2
I0412 16:30:15.552769       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:30:15.552814       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:30:15.552869       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:30:15.552891       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:30:15.552947       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 1593.468\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.032\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:30:15.552965       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605a70 ControlledValues:<nil>}:
I0412 16:30:15.553005       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:30:15.553017       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:30:15.553029       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187216]
I0412 16:30:15.553037       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:30:15.553048       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:120 memory:849684089]
I0412 16:30:15.553056       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:30:15.671494       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747110} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007471a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e7efd04a-9a3e-42b2-8b05-e4a8d8bc2716] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d680 TLS:0xc0005220b0}
I0412 16:30:15.784893       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882960} GetBody:0x6d9b40 ContentLength:489 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008829f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0d24db51-388c-4f52-924b-ae02a53617cc] Cache-Control:[no-cache, private] Content-Length:[1415] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:1415 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00030d680 TLS:0xc0005220b0}
I0412 16:30:15.785251       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:30:15.785285       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:30:41.498396       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 16:30:57.927875       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 0 items received
I0412 16:31:15.533093       1 recommender.go:166] Recommender Run
I0412 16:31:15.533193       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:31:15.533219       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:31:15.533468       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:31:15.546050       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762840 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4876288e-5898-439f-bd5d-ee3d1f38b167 4876288e-5898-439f-bd5d-ee3d1f38b167] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 16:31:15.547325       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:31:15.547504       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:10 +0000 UTC Window:{Duration:14.093s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49625842 scale:-9} d:{Dec:<nil>} s:49625842n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:31:15.547546       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49625842 scale:-9} d:{Dec:<nil>} s:49625842n Format:DecimalSI}, 50
I0412 16:31:15.547625       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:55 +0000 UTC Window:{Duration:18.291s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49938220 scale:-9} d:{Dec:<nil>} s:49938220n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.547707       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49938220 scale:-9} d:{Dec:<nil>} s:49938220n Format:DecimalSI}, 50
I0412 16:31:15.547802       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:00 +0000 UTC Window:{Duration:14.615s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1821347 scale:-9} d:{Dec:<nil>} s:1821347n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.547822       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1821347 scale:-9} d:{Dec:<nil>} s:1821347n Format:DecimalSI}, 2
I0412 16:31:15.547915       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:56 +0000 UTC Window:{Duration:19.635s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10459332 scale:-9} d:{Dec:<nil>} s:10459332n Format:DecimalSI} memory:{i:{value:168321024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.547931       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10459332 scale:-9} d:{Dec:<nil>} s:10459332n Format:DecimalSI}, 11
I0412 16:31:15.547996       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:59 +0000 UTC Window:{Duration:11.457s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1866457 scale:-9} d:{Dec:<nil>} s:1866457n Format:DecimalSI} memory:{i:{value:14614528 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.548025       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1866457 scale:-9} d:{Dec:<nil>} s:1866457n Format:DecimalSI}, 2
I0412 16:31:15.548110       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:01 +0000 UTC Window:{Duration:24.707s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:31:15.548154       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:31:15.548170       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:31:15.548250       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:06 +0000 UTC Window:{Duration:18.654s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1275383 scale:-9} d:{Dec:<nil>} s:1275383n Format:DecimalSI} memory:{i:{value:7364608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.548274       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1275383 scale:-9} d:{Dec:<nil>} s:1275383n Format:DecimalSI}, 2
I0412 16:31:15.548367       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:05 +0000 UTC Window:{Duration:14.009s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:478906 scale:-9} d:{Dec:<nil>} s:478906n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:31:15.548389       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:478906 scale:-9} d:{Dec:<nil>} s:478906n Format:DecimalSI}, 1
I0412 16:31:15.548455       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:04 +0000 UTC Window:{Duration:13.909s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2734488 scale:-9} d:{Dec:<nil>} s:2734488n Format:DecimalSI} memory:{i:{value:19476480 scale:0} d:{Dec:<nil>} s:19020Ki Format:BinarySI}]}]}
I0412 16:31:15.548501       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2734488 scale:-9} d:{Dec:<nil>} s:2734488n Format:DecimalSI}, 3
I0412 16:31:15.548572       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:05 +0000 UTC Window:{Duration:14.668s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:259203 scale:-9} d:{Dec:<nil>} s:259203n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.548594       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:259203 scale:-9} d:{Dec:<nil>} s:259203n Format:DecimalSI}, 1
I0412 16:31:15.548693       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:03 +0000 UTC Window:{Duration:16.674s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:211886 scale:-9} d:{Dec:<nil>} s:211886n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.548715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:211886 scale:-9} d:{Dec:<nil>} s:211886n Format:DecimalSI}, 1
I0412 16:31:15.548825       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:30:59 +0000 UTC Window:{Duration:13.07s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:346289 scale:-9} d:{Dec:<nil>} s:346289n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.548839       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:346289 scale:-9} d:{Dec:<nil>} s:346289n Format:DecimalSI}, 1
I0412 16:31:15.548903       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:02 +0000 UTC Window:{Duration:19.057s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:31:15.548923       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:31:15.548989       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:05 +0000 UTC Window:{Duration:15.742s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1306631 scale:-9} d:{Dec:<nil>} s:1306631n Format:DecimalSI} memory:{i:{value:54427648 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:31:15.549019       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1306631 scale:-9} d:{Dec:<nil>} s:1306631n Format:DecimalSI}, 2
I0412 16:31:15.549301       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:31:15.549332       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:31:15.549401       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:31:15.549487       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:31:15.549618       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 1830.120\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:31:15.549651       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491530 ControlledValues:<nil>}:
I0412 16:31:15.549721       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:31:15.549746       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:31:15.549766       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187258]
I0412 16:31:15.549787       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:31:15.549806       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:120 memory:849424633]
I0412 16:31:15.549818       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:31:15.567328       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008830b0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883140 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a2f7fbef-d044-4f96-aeff-7a0505b2e796] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2600} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077bb00 TLS:0xc0005220b0}
I0412 16:31:15.587225       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763230} GetBody:0x6d9b40 ContentLength:489 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007632c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[60fa9e37-fcb8-4c20-b0e5-e63cb9e0969c] Cache-Control:[no-cache, private] Content-Length:[1415] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:1415 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d320 TLS:0xc0005220b0}
I0412 16:31:15.587600       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:31:15.587641       1 cluster.go:364] Garbage collection of AggregateCollectionStates triggered
I0412 16:31:15.587737       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:31:56.349113       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 7 items received
I0412 16:32:15.531911       1 recommender.go:166] Recommender Run
I0412 16:32:15.531937       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:32:15.531942       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:32:15.531993       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:32:15.548363       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005829f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bea5e9ea-1a3d-4aed-b4cf-42e6c02c614a bea5e9ea-1a3d-4aed-b4cf-42e6c02c614a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d8c0 TLS:0xc0005220b0}
I0412 16:32:15.549540       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:32:15.549699       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:11 +0000 UTC Window:{Duration:28.631s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49969368 scale:-9} d:{Dec:<nil>} s:49969368n Format:DecimalSI} memory:{i:{value:30404608 scale:0} d:{Dec:<nil>} s:29692Ki Format:BinarySI}]}]}
I0412 16:32:15.549731       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49969368 scale:-9} d:{Dec:<nil>} s:49969368n Format:DecimalSI}, 50
I0412 16:32:15.549812       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:06 +0000 UTC Window:{Duration:15.741s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50039895 scale:-9} d:{Dec:<nil>} s:50039895n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.549829       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50039895 scale:-9} d:{Dec:<nil>} s:50039895n Format:DecimalSI}, 51
I0412 16:32:15.549920       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:04 +0000 UTC Window:{Duration:15.309s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1919197 scale:-9} d:{Dec:<nil>} s:1919197n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.549947       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1919197 scale:-9} d:{Dec:<nil>} s:1919197n Format:DecimalSI}, 2
I0412 16:32:15.550026       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:09 +0000 UTC Window:{Duration:16.6s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10603855 scale:-9} d:{Dec:<nil>} s:10603855n Format:DecimalSI} memory:{i:{value:168341504 scale:0} d:{Dec:<nil>} s:164396Ki Format:BinarySI}]}]}
I0412 16:32:15.550057       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10603855 scale:-9} d:{Dec:<nil>} s:10603855n Format:DecimalSI}, 11
I0412 16:32:15.550128       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:59 +0000 UTC Window:{Duration:16.748s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1803379 scale:-9} d:{Dec:<nil>} s:1803379n Format:DecimalSI} memory:{i:{value:15269888 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.550142       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1803379 scale:-9} d:{Dec:<nil>} s:1803379n Format:DecimalSI}, 2
I0412 16:32:15.550249       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:01 +0000 UTC Window:{Duration:16.699s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:32:15.550272       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:32:15.550287       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:32:15.550353       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:05 +0000 UTC Window:{Duration:15.019s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1204607 scale:-9} d:{Dec:<nil>} s:1204607n Format:DecimalSI} memory:{i:{value:7135232 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.550376       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1204607 scale:-9} d:{Dec:<nil>} s:1204607n Format:DecimalSI}, 2
I0412 16:32:15.550457       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:07 +0000 UTC Window:{Duration:18.186s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:725558 scale:-9} d:{Dec:<nil>} s:725558n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:32:15.550480       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:725558 scale:-9} d:{Dec:<nil>} s:725558n Format:DecimalSI}, 1
I0412 16:32:15.550547       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:59 +0000 UTC Window:{Duration:14.665s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3275690 scale:-9} d:{Dec:<nil>} s:3275690n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.550571       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3275690 scale:-9} d:{Dec:<nil>} s:3275690n Format:DecimalSI}, 4
I0412 16:32:15.550651       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:01 +0000 UTC Window:{Duration:16.296s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:327994 scale:-9} d:{Dec:<nil>} s:327994n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.550696       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:327994 scale:-9} d:{Dec:<nil>} s:327994n Format:DecimalSI}, 1
I0412 16:32:15.550769       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:06 +0000 UTC Window:{Duration:12.68s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:184227 scale:-9} d:{Dec:<nil>} s:184227n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.550804       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:184227 scale:-9} d:{Dec:<nil>} s:184227n Format:DecimalSI}, 1
I0412 16:32:15.550875       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:09 +0000 UTC Window:{Duration:16.44s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:220681 scale:-9} d:{Dec:<nil>} s:220681n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.550889       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:220681 scale:-9} d:{Dec:<nil>} s:220681n Format:DecimalSI}, 1
I0412 16:32:15.550949       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:59 +0000 UTC Window:{Duration:11.081s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:32:15.550969       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:32:15.551032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:31:58 +0000 UTC Window:{Duration:13.637s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1125760 scale:-9} d:{Dec:<nil>} s:1125760n Format:DecimalSI} memory:{i:{value:54452224 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:32:15.551052       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1125760 scale:-9} d:{Dec:<nil>} s:1125760n Format:DecimalSI}, 2
I0412 16:32:15.551218       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:32:15.551248       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:32:15.551329       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:32:15.551372       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:32:15.551455       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 4, totalWeight: 2105.719\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.055\n100\t0.055:
I0412 16:32:15.551478       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990ff0 ControlledValues:<nil>}:
I0412 16:32:15.551540       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:63 memory:442809964]
I0412 16:32:15.551566       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:32:15.551597       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187301]
I0412 16:32:15.551611       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:32:15.551631       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:120 memory:849161192]
I0412 16:32:15.551651       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:32:15.574332       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0e70} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0f00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1da08bbe-67a5-4560-84e0-103900e4d482] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ac60 TLS:0xc0005220b0}
I0412 16:32:15.591165       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1800} GetBody:0x6d9b40 ContentLength:489 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1890 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6ff278e8-1b14-4dad-b9c8-33b628638f14] Cache-Control:[no-cache, private] Content-Length:[1415] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:1415 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b680 TLS:0xc0005220b0}
I0412 16:32:15.591358       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:32:15.591381       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:33:15.532517       1 recommender.go:166] Recommender Run
I0412 16:33:15.532660       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:33:15.532671       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:33:15.532818       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:33:15.546232       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746a80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1bba3db9-4463-4e59-ab65-3eccfe8dc874 1bba3db9-4463-4e59-ab65-3eccfe8dc874] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c360 TLS:0xc0005220b0}
I0412 16:33:15.547013       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:33:15.547101       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:09 +0000 UTC Window:{Duration:19.823s} Containers:[{Name:workload Usage:map[cpu:{i:{value:58321747 scale:-9} d:{Dec:<nil>} s:58321747n Format:DecimalSI} memory:{i:{value:117010432 scale:0} d:{Dec:<nil>} s:114268Ki Format:BinarySI}]}]}
I0412 16:33:15.547158       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:58321747 scale:-9} d:{Dec:<nil>} s:58321747n Format:DecimalSI}, 59
I0412 16:33:15.547229       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:03 +0000 UTC Window:{Duration:12.582s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49754728 scale:-9} d:{Dec:<nil>} s:49754728n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:33:15.547266       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49754728 scale:-9} d:{Dec:<nil>} s:49754728n Format:DecimalSI}, 50
I0412 16:33:15.547321       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:11 +0000 UTC Window:{Duration:14.793s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2109511 scale:-9} d:{Dec:<nil>} s:2109511n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:33:15.547361       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2109511 scale:-9} d:{Dec:<nil>} s:2109511n Format:DecimalSI}, 3
I0412 16:33:15.547418       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:00 +0000 UTC Window:{Duration:19.563s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12333077 scale:-9} d:{Dec:<nil>} s:12333077n Format:DecimalSI} memory:{i:{value:168595456 scale:0} d:{Dec:<nil>} s:164644Ki Format:BinarySI}]}]}
I0412 16:33:15.547432       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12333077 scale:-9} d:{Dec:<nil>} s:12333077n Format:DecimalSI}, 13
I0412 16:33:15.547472       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:10 +0000 UTC Window:{Duration:21.511s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1954302 scale:-9} d:{Dec:<nil>} s:1954302n Format:DecimalSI} memory:{i:{value:14917632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:33:15.547488       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1954302 scale:-9} d:{Dec:<nil>} s:1954302n Format:DecimalSI}, 2
I0412 16:33:15.547543       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:59 +0000 UTC Window:{Duration:15.576s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:33:15.547582       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:33:15.547595       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:33:15.547635       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:06 +0000 UTC Window:{Duration:19.493s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1385369 scale:-9} d:{Dec:<nil>} s:1385369n Format:DecimalSI} memory:{i:{value:7024640 scale:0} d:{Dec:<nil>} s:6860Ki Format:BinarySI}]}]}
I0412 16:33:15.547645       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1385369 scale:-9} d:{Dec:<nil>} s:1385369n Format:DecimalSI}, 2
I0412 16:33:15.547681       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:57 +0000 UTC Window:{Duration:17.42s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:325774 scale:-9} d:{Dec:<nil>} s:325774n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:33:15.547691       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:325774 scale:-9} d:{Dec:<nil>} s:325774n Format:DecimalSI}, 1
I0412 16:33:15.547737       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:59 +0000 UTC Window:{Duration:12.659s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4602259 scale:-9} d:{Dec:<nil>} s:4602259n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:33:15.547748       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4602259 scale:-9} d:{Dec:<nil>} s:4602259n Format:DecimalSI}, 5
I0412 16:33:15.547790       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:04 +0000 UTC Window:{Duration:14.241s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:179411 scale:-9} d:{Dec:<nil>} s:179411n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:33:15.547803       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:179411 scale:-9} d:{Dec:<nil>} s:179411n Format:DecimalSI}, 1
I0412 16:33:15.547850       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:00 +0000 UTC Window:{Duration:10.289s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:248129 scale:-9} d:{Dec:<nil>} s:248129n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:33:15.547865       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:248129 scale:-9} d:{Dec:<nil>} s:248129n Format:DecimalSI}, 1
I0412 16:33:15.547908       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:54 +0000 UTC Window:{Duration:14.118s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:161850 scale:-9} d:{Dec:<nil>} s:161850n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:33:15.547919       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:161850 scale:-9} d:{Dec:<nil>} s:161850n Format:DecimalSI}, 1
I0412 16:33:15.547959       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:32:54 +0000 UTC Window:{Duration:12.739s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:33:15.547974       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:33:15.548035       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:04 +0000 UTC Window:{Duration:13.989s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1552577 scale:-9} d:{Dec:<nil>} s:1552577n Format:DecimalSI} memory:{i:{value:54497280 scale:0} d:{Dec:<nil>} s:53220Ki Format:BinarySI}]}]}
I0412 16:33:15.548052       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1552577 scale:-9} d:{Dec:<nil>} s:1552577n Format:DecimalSI}, 2
I0412 16:33:15.548212       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:33:15.548229       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:33:15.548284       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:33:15.548312       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:33:15.548355       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 5, totalWeight: 2420.479\n%-tile\tvalue\n0\t0.010\n5\t0.032\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.068\n100\t0.068:
I0412 16:33:15.548365       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000490180 ControlledValues:<nil>}:
I0412 16:33:15.548396       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:78 memory:442809964]
I0412 16:33:15.548412       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:33:15.548419       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187342]
I0412 16:33:15.548422       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:33:15.548434       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:149 memory:848911024]
I0412 16:33:15.548442       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:33:15.565176       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000795da0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795e30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c101630c-7c5f-43b2-af5a-e7122419bf53] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074dc20 TLS:0xc0005220b0}
I0412 16:33:15.580494       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cb10} GetBody:0x6d9b40 ContentLength:497 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8250b3df-bc80-4715-9007-7758ccd9258a] Cache-Control:[no-cache, private] Content-Length:[1432] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:1432 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 16:33:15.580723       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:33:15.580745       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:33:39.783861       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 5 items received
I0412 16:33:59.731987       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 19 items received
I0412 16:34:15.532321       1 recommender.go:166] Recommender Run
I0412 16:34:15.532345       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:34:15.532351       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:34:15.532431       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:34:15.551994       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007292f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[18e9d100-e498-43e8-a95b-6ab47744e60b 18e9d100-e498-43e8-a95b-6ab47744e60b] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cc60 TLS:0xc0005220b0}
I0412 16:34:15.552674       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:34:15.552765       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:04 +0000 UTC Window:{Duration:15.758s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69739433 scale:-9} d:{Dec:<nil>} s:69739433n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.552778       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69739433 scale:-9} d:{Dec:<nil>} s:69739433n Format:DecimalSI}, 70
I0412 16:34:15.552838       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:10 +0000 UTC Window:{Duration:14.601s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50206903 scale:-9} d:{Dec:<nil>} s:50206903n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.552871       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50206903 scale:-9} d:{Dec:<nil>} s:50206903n Format:DecimalSI}, 51
I0412 16:34:15.552919       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:04 +0000 UTC Window:{Duration:15.437s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1964306 scale:-9} d:{Dec:<nil>} s:1964306n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.552939       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1964306 scale:-9} d:{Dec:<nil>} s:1964306n Format:DecimalSI}, 2
I0412 16:34:15.552980       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:03 +0000 UTC Window:{Duration:19.357s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13100377 scale:-9} d:{Dec:<nil>} s:13100377n Format:DecimalSI} memory:{i:{value:168370176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.552994       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13100377 scale:-9} d:{Dec:<nil>} s:13100377n Format:DecimalSI}, 14
I0412 16:34:15.553027       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:07 +0000 UTC Window:{Duration:18.859s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1859271 scale:-9} d:{Dec:<nil>} s:1859271n Format:DecimalSI} memory:{i:{value:14905344 scale:0} d:{Dec:<nil>} s:14556Ki Format:BinarySI}]}]}
I0412 16:34:15.553034       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1859271 scale:-9} d:{Dec:<nil>} s:1859271n Format:DecimalSI}, 2
I0412 16:34:15.553070       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:53 +0000 UTC Window:{Duration:15.591s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:34:15.553083       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:34:15.553091       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:34:15.553122       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:07 +0000 UTC Window:{Duration:13.765s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1080857 scale:-9} d:{Dec:<nil>} s:1080857n Format:DecimalSI} memory:{i:{value:7041024 scale:0} d:{Dec:<nil>} s:6876Ki Format:BinarySI}]}]}
I0412 16:34:15.553133       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1080857 scale:-9} d:{Dec:<nil>} s:1080857n Format:DecimalSI}, 2
I0412 16:34:15.553164       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:57 +0000 UTC Window:{Duration:14.414s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:359095 scale:-9} d:{Dec:<nil>} s:359095n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.553172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:359095 scale:-9} d:{Dec:<nil>} s:359095n Format:DecimalSI}, 1
I0412 16:34:15.553201       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:09 +0000 UTC Window:{Duration:24.128s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3596278 scale:-9} d:{Dec:<nil>} s:3596278n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.553251       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3596278 scale:-9} d:{Dec:<nil>} s:3596278n Format:DecimalSI}, 4
I0412 16:34:15.553294       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:02 +0000 UTC Window:{Duration:16.352s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:310053 scale:-9} d:{Dec:<nil>} s:310053n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.553301       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:310053 scale:-9} d:{Dec:<nil>} s:310053n Format:DecimalSI}, 1
I0412 16:34:15.553333       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:04 +0000 UTC Window:{Duration:19.123s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:111018 scale:-9} d:{Dec:<nil>} s:111018n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.553343       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:111018 scale:-9} d:{Dec:<nil>} s:111018n Format:DecimalSI}, 1
I0412 16:34:15.553374       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:00 +0000 UTC Window:{Duration:14.01s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:214632 scale:-9} d:{Dec:<nil>} s:214632n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:34:15.553382       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:214632 scale:-9} d:{Dec:<nil>} s:214632n Format:DecimalSI}, 1
I0412 16:34:15.553412       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:33:55 +0000 UTC Window:{Duration:17.415s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:34:15.553424       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:34:15.553455       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:03 +0000 UTC Window:{Duration:14.324s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1105906 scale:-9} d:{Dec:<nil>} s:1105906n Format:DecimalSI} memory:{i:{value:54525952 scale:0} d:{Dec:<nil>} s:52Mi Format:BinarySI}]}]}
I0412 16:34:15.553465       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1105906 scale:-9} d:{Dec:<nil>} s:1105906n Format:DecimalSI}, 2
I0412 16:34:15.553545       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:34:15.553559       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:34:15.553602       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:34:15.553638       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:34:15.553698       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 6, totalWeight: 2782.879\n%-tile\tvalue\n0\t0.010\n5\t0.032\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.068\n95\t0.081\n100\t0.081:
I0412 16:34:15.553710       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000490360 ControlledValues:<nil>}:
I0412 16:34:15.553745       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:93 memory:442809964]
I0412 16:34:15.553755       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:34:15.553765       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187385]
I0412 16:34:15.553772       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:34:15.553780       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:178 memory:913120488]
I0412 16:34:15.553794       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:34:15.573898       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008834d0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008835f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[412bf265-47db-4ada-a7a9-dbeb62d687dc] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077b9e0 TLS:0xc0005220b0}
I0412 16:34:15.594816       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007620f0} GetBody:0x6d9b40 ContentLength:504 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[51ab5224-241d-4431-970f-13b5e7a8ec20] Cache-Control:[no-cache, private] Content-Length:[1448] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:1448 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 16:34:15.595159       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:34:15.595197       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:34:32.482437       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 4 items received
I0412 16:35:11.150151       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 3 items received
I0412 16:35:15.532061       1 recommender.go:166] Recommender Run
I0412 16:35:15.532117       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:35:15.532130       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:35:15.532217       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:35:15.551874       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763a40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[93bbe360-1711-47cf-8690-ef2b7fea3cef 93bbe360-1711-47cf-8690-ef2b7fea3cef] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 16:35:15.553821       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:35:15.554032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:04 +0000 UTC Window:{Duration:10.462s} Containers:[{Name:workload Usage:map[cpu:{i:{value:70266870 scale:-9} d:{Dec:<nil>} s:70266870n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.554136       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:70266870 scale:-9} d:{Dec:<nil>} s:70266870n Format:DecimalSI}, 71
I0412 16:35:15.554246       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:06 +0000 UTC Window:{Duration:15.098s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49482381 scale:-9} d:{Dec:<nil>} s:49482381n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.554267       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49482381 scale:-9} d:{Dec:<nil>} s:49482381n Format:DecimalSI}, 50
I0412 16:35:15.554332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:05 +0000 UTC Window:{Duration:17.02s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1833960 scale:-9} d:{Dec:<nil>} s:1833960n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.554342       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1833960 scale:-9} d:{Dec:<nil>} s:1833960n Format:DecimalSI}, 2
I0412 16:35:15.554473       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:11 +0000 UTC Window:{Duration:24.036s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11991013 scale:-9} d:{Dec:<nil>} s:11991013n Format:DecimalSI} memory:{i:{value:168374272 scale:0} d:{Dec:<nil>} s:164428Ki Format:BinarySI}]}]}
I0412 16:35:15.554673       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11991013 scale:-9} d:{Dec:<nil>} s:11991013n Format:DecimalSI}, 12
I0412 16:35:15.554750       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:01 +0000 UTC Window:{Duration:16.225s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1721602 scale:-9} d:{Dec:<nil>} s:1721602n Format:DecimalSI} memory:{i:{value:15056896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.554768       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1721602 scale:-9} d:{Dec:<nil>} s:1721602n Format:DecimalSI}, 2
I0412 16:35:15.554830       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:05 +0000 UTC Window:{Duration:15.298s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:35:15.554844       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:35:15.554852       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:35:15.554911       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:55 +0000 UTC Window:{Duration:15.861s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:996217 scale:-9} d:{Dec:<nil>} s:996217n Format:DecimalSI} memory:{i:{value:7004160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.554932       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:996217 scale:-9} d:{Dec:<nil>} s:996217n Format:DecimalSI}, 1
I0412 16:35:15.554983       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:00 +0000 UTC Window:{Duration:12.889s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:576848 scale:-9} d:{Dec:<nil>} s:576848n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.554993       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:576848 scale:-9} d:{Dec:<nil>} s:576848n Format:DecimalSI}, 1
I0412 16:35:15.555041       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:55 +0000 UTC Window:{Duration:15.528s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2168985 scale:-9} d:{Dec:<nil>} s:2168985n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.555048       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2168985 scale:-9} d:{Dec:<nil>} s:2168985n Format:DecimalSI}, 3
I0412 16:35:15.555093       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:00 +0000 UTC Window:{Duration:13.472s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:338182 scale:-9} d:{Dec:<nil>} s:338182n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.555115       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:338182 scale:-9} d:{Dec:<nil>} s:338182n Format:DecimalSI}, 1
I0412 16:35:15.555165       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:34:56 +0000 UTC Window:{Duration:15.54s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:64157 scale:-9} d:{Dec:<nil>} s:64157n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.555173       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:64157 scale:-9} d:{Dec:<nil>} s:64157n Format:DecimalSI}, 1
I0412 16:35:15.555218       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:03 +0000 UTC Window:{Duration:17.032s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:85016 scale:-9} d:{Dec:<nil>} s:85016n Format:DecimalSI} memory:{i:{value:11214848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.555234       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:85016 scale:-9} d:{Dec:<nil>} s:85016n Format:DecimalSI}, 1
I0412 16:35:15.555279       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:05 +0000 UTC Window:{Duration:18.231s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:35:15.555303       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:35:15.555351       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:02 +0000 UTC Window:{Duration:10.879s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1208658 scale:-9} d:{Dec:<nil>} s:1208658n Format:DecimalSI} memory:{i:{value:54566912 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:35:15.555358       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1208658 scale:-9} d:{Dec:<nil>} s:1208658n Format:DecimalSI}, 2
I0412 16:35:15.555569       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:35:15.555596       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:35:15.555663       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:35:15.555702       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:35:15.555754       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 6, totalWeight: 3197.239\n%-tile\tvalue\n0\t0.010\n5\t0.032\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.068\n90\t0.081\n95\t0.081\n100\t0.081:
I0412 16:35:15.555778       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450540 ControlledValues:<nil>}:
I0412 16:35:15.555834       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:93 memory:442809964]
I0412 16:35:15.555853       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:35:15.555866       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187424]
I0412 16:35:15.555887       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:35:15.555905       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:178 memory:912861246]
I0412 16:35:15.555916       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:35:15.573495       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0090} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0120 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[aee27d3d-f1c2-428a-8828-9dbf2e0105a3] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0ea0 TLS:0xc0005220b0}
I0412 16:35:15.584046       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728b70} GetBody:0x6d9b40 ContentLength:505 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728c00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[58d48ea0-af6c-41e0-96d7-729b0cab4cc2] Cache-Control:[no-cache, private] Content-Length:[1449] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:1449 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086ca20 TLS:0xc0005220b0}
I0412 16:35:15.584321       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:35:15.584350       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:36:06.064944       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 16:36:15.535536       1 recommender.go:166] Recommender Run
I0412 16:36:15.535573       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:36:15.535583       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:36:15.535666       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:36:15.550902       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729320 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6a62c70a-48a1-41ea-8f12-51c231155183 6a62c70a-48a1-41ea-8f12-51c231155183] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2600} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cea0 TLS:0xc0005220b0}
I0412 16:36:15.551738       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:36:15.551878       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:06 +0000 UTC Window:{Duration:14.26s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69378471 scale:-9} d:{Dec:<nil>} s:69378471n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.551915       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69378471 scale:-9} d:{Dec:<nil>} s:69378471n Format:DecimalSI}, 70
I0412 16:36:15.551944       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:05 +0000 UTC Window:{Duration:17.486s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49636223 scale:-9} d:{Dec:<nil>} s:49636223n Format:DecimalSI} memory:{i:{value:30416896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.551954       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49636223 scale:-9} d:{Dec:<nil>} s:49636223n Format:DecimalSI}, 50
I0412 16:36:15.551983       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:56 +0000 UTC Window:{Duration:17.734s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2743148 scale:-9} d:{Dec:<nil>} s:2743148n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.551991       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2743148 scale:-9} d:{Dec:<nil>} s:2743148n Format:DecimalSI}, 3
I0412 16:36:15.552010       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:57 +0000 UTC Window:{Duration:31.432s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11538941 scale:-9} d:{Dec:<nil>} s:11538941n Format:DecimalSI} memory:{i:{value:168378368 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.552022       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11538941 scale:-9} d:{Dec:<nil>} s:11538941n Format:DecimalSI}, 12
I0412 16:36:15.552044       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:02 +0000 UTC Window:{Duration:15.222s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1170674 scale:-9} d:{Dec:<nil>} s:1170674n Format:DecimalSI} memory:{i:{value:15224832 scale:0} d:{Dec:<nil>} s:14868Ki Format:BinarySI}]}]}
I0412 16:36:15.552064       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1170674 scale:-9} d:{Dec:<nil>} s:1170674n Format:DecimalSI}, 2
I0412 16:36:15.552118       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:57 +0000 UTC Window:{Duration:17.903s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:36:15.552140       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:36:15.552159       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:36:15.552191       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:57 +0000 UTC Window:{Duration:11.547s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:826188 scale:-9} d:{Dec:<nil>} s:826188n Format:DecimalSI} memory:{i:{value:7102464 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.552242       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:826188 scale:-9} d:{Dec:<nil>} s:826188n Format:DecimalSI}, 1
I0412 16:36:15.552276       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:01 +0000 UTC Window:{Duration:13.098s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:368758 scale:-9} d:{Dec:<nil>} s:368758n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.552289       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:368758 scale:-9} d:{Dec:<nil>} s:368758n Format:DecimalSI}, 1
I0412 16:36:15.552319       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:02 +0000 UTC Window:{Duration:15.16s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2874670 scale:-9} d:{Dec:<nil>} s:2874670n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.552326       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2874670 scale:-9} d:{Dec:<nil>} s:2874670n Format:DecimalSI}, 3
I0412 16:36:15.552362       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:09 +0000 UTC Window:{Duration:13.322s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:383576 scale:-9} d:{Dec:<nil>} s:383576n Format:DecimalSI} memory:{i:{value:10489856 scale:0} d:{Dec:<nil>} s:10244Ki Format:BinarySI}]}]}
I0412 16:36:15.552375       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:383576 scale:-9} d:{Dec:<nil>} s:383576n Format:DecimalSI}, 1
I0412 16:36:15.552400       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:05 +0000 UTC Window:{Duration:14.212s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:140585 scale:-9} d:{Dec:<nil>} s:140585n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.552415       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:140585 scale:-9} d:{Dec:<nil>} s:140585n Format:DecimalSI}, 1
I0412 16:36:15.552431       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:04 +0000 UTC Window:{Duration:16.41s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:160450 scale:-9} d:{Dec:<nil>} s:160450n Format:DecimalSI} memory:{i:{value:11247616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:36:15.552437       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160450 scale:-9} d:{Dec:<nil>} s:160450n Format:DecimalSI}, 1
I0412 16:36:15.552451       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:59 +0000 UTC Window:{Duration:16.184s} Containers:[{Name:updater Usage:map[cpu:{i:{value:78163 scale:-9} d:{Dec:<nil>} s:78163n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:36:15.552456       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:78163 scale:-9} d:{Dec:<nil>} s:78163n Format:DecimalSI}, 1
I0412 16:36:15.552471       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:35:59 +0000 UTC Window:{Duration:12.295s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1321675 scale:-9} d:{Dec:<nil>} s:1321675n Format:DecimalSI} memory:{i:{value:56389632 scale:0} d:{Dec:<nil>} s:55068Ki Format:BinarySI}]}]}
I0412 16:36:15.552474       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1321675 scale:-9} d:{Dec:<nil>} s:1321675n Format:DecimalSI}, 2
I0412 16:36:15.552664       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:36:15.552683       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:36:15.552734       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:36:15.552774       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:36:15.552895       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 6, totalWeight: 3673.764\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.068\n85\t0.081\n90\t0.081\n95\t0.081\n100\t0.081:
I0412 16:36:15.552911       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000490180 ControlledValues:<nil>}:
I0412 16:36:15.552938       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:93 memory:442809964]
I0412 16:36:15.552946       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:36:15.552962       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187467]
I0412 16:36:15.552966       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:36:15.552984       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:178 memory:912583828]
I0412 16:36:15.552996       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:36:15.576214       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007947b0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794840 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[efff130e-8344-4be0-b9e6-252898634c18] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2a80} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 16:36:15.596352       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762f90} GetBody:0x6d9b40 ContentLength:506 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763080 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[47145fd7-6e99-4d58-9b0d-6d5de14df214] Cache-Control:[no-cache, private] Content-Length:[1450] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3080} ContentLength:1450 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b18c0 TLS:0xc0005220b0}
I0412 16:36:15.596516       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:36:15.596532       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:37:04.519359       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 16:37:15.531981       1 recommender.go:166] Recommender Run
I0412 16:37:15.532017       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:37:15.532028       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:37:15.532067       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:37:15.549320       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795c20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[64e3c84f-3f2d-4838-9d67-a38f0b22b941 64e3c84f-3f2d-4838-9d67-a38f0b22b941] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c120 TLS:0xc0005220b0}
I0412 16:37:15.550686       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:37:15.550805       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:00 +0000 UTC Window:{Duration:16.468s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69304772 scale:-9} d:{Dec:<nil>} s:69304772n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:37:15.550823       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69304772 scale:-9} d:{Dec:<nil>} s:69304772n Format:DecimalSI}, 70
I0412 16:37:15.550871       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:59 +0000 UTC Window:{Duration:16.565s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49194808 scale:-9} d:{Dec:<nil>} s:49194808n Format:DecimalSI} memory:{i:{value:32628736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:37:15.550892       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49194808 scale:-9} d:{Dec:<nil>} s:49194808n Format:DecimalSI}, 50
I0412 16:37:15.550934       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:06 +0000 UTC Window:{Duration:19.784s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2191821 scale:-9} d:{Dec:<nil>} s:2191821n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:37:15.550948       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2191821 scale:-9} d:{Dec:<nil>} s:2191821n Format:DecimalSI}, 3
I0412 16:37:15.550987       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:57 +0000 UTC Window:{Duration:15.566s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12864255 scale:-9} d:{Dec:<nil>} s:12864255n Format:DecimalSI} memory:{i:{value:168374272 scale:0} d:{Dec:<nil>} s:164428Ki Format:BinarySI}]}]}
I0412 16:37:15.551007       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12864255 scale:-9} d:{Dec:<nil>} s:12864255n Format:DecimalSI}, 13
I0412 16:37:15.551042       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:09 +0000 UTC Window:{Duration:14.761s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2259738 scale:-9} d:{Dec:<nil>} s:2259738n Format:DecimalSI} memory:{i:{value:14798848 scale:0} d:{Dec:<nil>} s:14452Ki Format:BinarySI}]}]}
I0412 16:37:15.551055       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2259738 scale:-9} d:{Dec:<nil>} s:2259738n Format:DecimalSI}, 3
I0412 16:37:15.551095       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:03 +0000 UTC Window:{Duration:16.183s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:37:15.551102       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:37:15.551111       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:37:15.551156       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:09 +0000 UTC Window:{Duration:27.592s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1588793 scale:-9} d:{Dec:<nil>} s:1588793n Format:DecimalSI} memory:{i:{value:7065600 scale:0} d:{Dec:<nil>} s:6900Ki Format:BinarySI}]}]}
I0412 16:37:15.551163       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1588793 scale:-9} d:{Dec:<nil>} s:1588793n Format:DecimalSI}, 2
I0412 16:37:15.551200       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:09 +0000 UTC Window:{Duration:30.047s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:413485 scale:-9} d:{Dec:<nil>} s:413485n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:37:15.551214       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:413485 scale:-9} d:{Dec:<nil>} s:413485n Format:DecimalSI}, 1
I0412 16:37:15.551261       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:06 +0000 UTC Window:{Duration:19.339s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4286674 scale:-9} d:{Dec:<nil>} s:4286674n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:37:15.551269       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4286674 scale:-9} d:{Dec:<nil>} s:4286674n Format:DecimalSI}, 5
I0412 16:37:15.551304       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:06 +0000 UTC Window:{Duration:19.998s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:430343 scale:-9} d:{Dec:<nil>} s:430343n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:37:15.551317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:430343 scale:-9} d:{Dec:<nil>} s:430343n Format:DecimalSI}, 1
I0412 16:37:15.551351       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:06 +0000 UTC Window:{Duration:18.481s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:83004 scale:-9} d:{Dec:<nil>} s:83004n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:37:15.551358       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:83004 scale:-9} d:{Dec:<nil>} s:83004n Format:DecimalSI}, 1
I0412 16:37:15.551419       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:11 +0000 UTC Window:{Duration:20.88s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:232136 scale:-9} d:{Dec:<nil>} s:232136n Format:DecimalSI} memory:{i:{value:11247616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:37:15.551436       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:232136 scale:-9} d:{Dec:<nil>} s:232136n Format:DecimalSI}, 1
I0412 16:37:15.551471       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:36:58 +0000 UTC Window:{Duration:12.327s} Containers:[{Name:updater Usage:map[cpu:{i:{value:98077 scale:-9} d:{Dec:<nil>} s:98077n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:37:15.551487       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:98077 scale:-9} d:{Dec:<nil>} s:98077n Format:DecimalSI}, 1
I0412 16:37:15.551519       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:01 +0000 UTC Window:{Duration:17.286s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1516429 scale:-9} d:{Dec:<nil>} s:1516429n Format:DecimalSI} memory:{i:{value:56713216 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:37:15.551529       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1516429 scale:-9} d:{Dec:<nil>} s:1516429n Format:DecimalSI}, 2
I0412 16:37:15.551628       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:37:15.551647       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:37:15.551722       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:37:15.551757       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:37:15.551799       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 6, totalWeight: 4213.611\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.068\n80\t0.081\n85\t0.081\n90\t0.081\n95\t0.081\n100\t0.081:
I0412 16:37:15.551810       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991698 ControlledValues:<nil>}:
I0412 16:37:15.551842       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:93 memory:442809964]
I0412 16:37:15.551852       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:37:15.551865       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187504]
I0412 16:37:15.551873       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:37:15.551885       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:178 memory:912334454]
I0412 16:37:15.551910       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:37:15.578941       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746d80} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746e10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e7fba00a-5b58-460c-866a-1283ddac38cd] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3500} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d8c0 TLS:0xc0005220b0}
I0412 16:37:15.606893       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747470} GetBody:0x6d9b40 ContentLength:505 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747500 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9299a2a6-ccb8-48b7-acaf-313af8acf775] Cache-Control:[no-cache, private] Content-Length:[1449] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3800} ContentLength:1449 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077a5a0 TLS:0xc0005220b0}
I0412 16:37:15.607191       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:37:15.607218       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:37:19.276234       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 8 items received
I0412 16:38:15.532732       1 recommender.go:166] Recommender Run
I0412 16:38:15.532791       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:38:15.532803       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:38:15.532901       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:38:15.548651       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009874d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[627c9012-0fc1-4f19-87e3-86695bd7efbb 627c9012-0fc1-4f19-87e3-86695bd7efbb] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b440 TLS:0xc0005220b0}
I0412 16:38:15.549054       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:38:15.549109       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:00 +0000 UTC Window:{Duration:13.33s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69759039 scale:-9} d:{Dec:<nil>} s:69759039n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:38:15.549121       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69759039 scale:-9} d:{Dec:<nil>} s:69759039n Format:DecimalSI}, 70
I0412 16:38:15.549142       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:55 +0000 UTC Window:{Duration:19.816s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69897456 scale:-9} d:{Dec:<nil>} s:69897456n Format:DecimalSI} memory:{i:{value:398159872 scale:0} d:{Dec:<nil>} s:388828Ki Format:BinarySI}]}]}
I0412 16:38:15.549145       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69897456 scale:-9} d:{Dec:<nil>} s:69897456n Format:DecimalSI}, 70
I0412 16:38:15.549162       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:56 +0000 UTC Window:{Duration:23.685s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2798100 scale:-9} d:{Dec:<nil>} s:2798100n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:38:15.549168       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2798100 scale:-9} d:{Dec:<nil>} s:2798100n Format:DecimalSI}, 3
I0412 16:38:15.549184       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:11 +0000 UTC Window:{Duration:15.404s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11399181 scale:-9} d:{Dec:<nil>} s:11399181n Format:DecimalSI} memory:{i:{value:168402944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:38:15.549189       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11399181 scale:-9} d:{Dec:<nil>} s:11399181n Format:DecimalSI}, 12
I0412 16:38:15.549205       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:00 +0000 UTC Window:{Duration:10.645s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1977172 scale:-9} d:{Dec:<nil>} s:1977172n Format:DecimalSI} memory:{i:{value:15044608 scale:0} d:{Dec:<nil>} s:14692Ki Format:BinarySI}]}]}
I0412 16:38:15.549210       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1977172 scale:-9} d:{Dec:<nil>} s:1977172n Format:DecimalSI}, 2
I0412 16:38:15.549227       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:56 +0000 UTC Window:{Duration:19.95s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:38:15.549235       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:38:15.549238       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:38:15.549253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:59 +0000 UTC Window:{Duration:15.253s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:778338 scale:-9} d:{Dec:<nil>} s:778338n Format:DecimalSI} memory:{i:{value:7110656 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:38:15.549261       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:778338 scale:-9} d:{Dec:<nil>} s:778338n Format:DecimalSI}, 1
I0412 16:38:15.549275       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:59 +0000 UTC Window:{Duration:11.615s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:419027 scale:-9} d:{Dec:<nil>} s:419027n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:38:15.549299       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:419027 scale:-9} d:{Dec:<nil>} s:419027n Format:DecimalSI}, 1
I0412 16:38:15.549322       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:08 +0000 UTC Window:{Duration:12.502s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3330507 scale:-9} d:{Dec:<nil>} s:3330507n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:38:15.549325       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3330507 scale:-9} d:{Dec:<nil>} s:3330507n Format:DecimalSI}, 4
I0412 16:38:15.549340       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:55 +0000 UTC Window:{Duration:18.479s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:321283 scale:-9} d:{Dec:<nil>} s:321283n Format:DecimalSI} memory:{i:{value:9965568 scale:0} d:{Dec:<nil>} s:9732Ki Format:BinarySI}]}]}
I0412 16:38:15.549342       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:321283 scale:-9} d:{Dec:<nil>} s:321283n Format:DecimalSI}, 1
I0412 16:38:15.549358       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:59 +0000 UTC Window:{Duration:16.274s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:173651 scale:-9} d:{Dec:<nil>} s:173651n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:38:15.549361       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:173651 scale:-9} d:{Dec:<nil>} s:173651n Format:DecimalSI}, 1
I0412 16:38:15.549378       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:02 +0000 UTC Window:{Duration:15.87s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:133459 scale:-9} d:{Dec:<nil>} s:133459n Format:DecimalSI} memory:{i:{value:11251712 scale:0} d:{Dec:<nil>} s:10988Ki Format:BinarySI}]}]}
I0412 16:38:15.549381       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:133459 scale:-9} d:{Dec:<nil>} s:133459n Format:DecimalSI}, 1
I0412 16:38:15.549395       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:02 +0000 UTC Window:{Duration:13.014s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:38:15.549398       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:38:15.549412       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:37:59 +0000 UTC Window:{Duration:16.723s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:968606 scale:-9} d:{Dec:<nil>} s:968606n Format:DecimalSI} memory:{i:{value:56737792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:38:15.549415       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:968606 scale:-9} d:{Dec:<nil>} s:968606n Format:DecimalSI}, 1
I0412 16:38:15.549478       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:38:15.549491       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:38:15.549514       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:38:15.549533       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:38:15.549554       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 6, totalWeight: 4830.883\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.081\n75\t0.081\n80\t0.081\n85\t0.081\n90\t0.081\n95\t0.081\n100\t0.081:
I0412 16:38:15.549559       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0004908e8 ControlledValues:<nil>}:
I0412 16:38:15.549577       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:93 memory:476450463]
I0412 16:38:15.549582       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:38:15.549590       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187546]
I0412 16:38:15.549593       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:38:15.549598       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:178 memory:912057705]
I0412 16:38:15.549602       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:38:15.575864       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728150} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007281e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[25ae0ec6-140d-4a0f-a602-675f9384742c] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccd80} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077b320 TLS:0xc0005220b0}
I0412 16:38:15.587928       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728e70} GetBody:0x6d9b40 ContentLength:505 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728f00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5adfc3ae-7ec3-43d7-a974-7fd251c5d5dd] Cache-Control:[no-cache, private] Content-Length:[1450] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:1450 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00077bb00 TLS:0xc0005220b0}
I0412 16:38:15.588205       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:38:15.588234       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 16:38:15.588258       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:38:15.588266       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:38:15.588291       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:38:15.599173       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007296e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[756c7341-412e-44ac-82f4-5092fdd4786d] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd500} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c120 TLS:0xc0005220b0}
I0412 16:38:15.606562       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729f20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[84682049-41a9-4995-b741-6e62ba3f2b23] Cache-Control:[no-cache, private] Content-Length:[1603] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cde00} ContentLength:1603 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d0e0 TLS:0xc0005220b0}
I0412 16:38:15.615433       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007627b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7834621f-1053-488b-b268-fa937d7a955d] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d680 TLS:0xc0005220b0}
I0412 16:38:15.623710       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762f30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b956f78a-a784-4182-8345-73330378b58c] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dc20 TLS:0xc0005220b0}
I0412 16:38:15.631505       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e08d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[54d8cecf-53f4-447f-b9dc-630522674016] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364b40 TLS:0xc0005220b0}
I0412 16:38:15.652761       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763a10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2b426125-9afb-486f-a7d5-067782a7dd88] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c6c0 TLS:0xc0005220b0}
I0412 16:38:15.652954       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:38:35.352877       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 4 items received
I0412 16:39:15.532096       1 recommender.go:166] Recommender Run
I0412 16:39:15.532120       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:39:15.532126       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:39:15.532177       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:39:15.543728       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e19b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[53248d80-6c7c-40d0-91ee-8a4733bbfd94 53248d80-6c7c-40d0-91ee-8a4733bbfd94] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365d40 TLS:0xc0005220b0}
I0412 16:39:15.544322       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:39:15.544907       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:54 +0000 UTC Window:{Duration:20.367s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69987332 scale:-9} d:{Dec:<nil>} s:69987332n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.544935       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69987332 scale:-9} d:{Dec:<nil>} s:69987332n Format:DecimalSI}, 70
I0412 16:39:15.544967       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:57 +0000 UTC Window:{Duration:13.956s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69649828 scale:-9} d:{Dec:<nil>} s:69649828n Format:DecimalSI} memory:{i:{value:398159872 scale:0} d:{Dec:<nil>} s:388828Ki Format:BinarySI}]}]}
I0412 16:39:15.544973       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69649828 scale:-9} d:{Dec:<nil>} s:69649828n Format:DecimalSI}, 70
I0412 16:39:15.545023       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:02 +0000 UTC Window:{Duration:11.908s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1637470 scale:-9} d:{Dec:<nil>} s:1637470n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.545030       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1637470 scale:-9} d:{Dec:<nil>} s:1637470n Format:DecimalSI}, 2
I0412 16:39:15.545051       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:11 +0000 UTC Window:{Duration:29.408s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10990546 scale:-9} d:{Dec:<nil>} s:10990546n Format:DecimalSI} memory:{i:{value:168304640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.545055       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10990546 scale:-9} d:{Dec:<nil>} s:10990546n Format:DecimalSI}, 11
I0412 16:39:15.545072       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:57 +0000 UTC Window:{Duration:16.215s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1388035 scale:-9} d:{Dec:<nil>} s:1388035n Format:DecimalSI} memory:{i:{value:14790656 scale:0} d:{Dec:<nil>} s:14444Ki Format:BinarySI}]}]}
I0412 16:39:15.545077       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1388035 scale:-9} d:{Dec:<nil>} s:1388035n Format:DecimalSI}, 2
I0412 16:39:15.545097       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:54 +0000 UTC Window:{Duration:21.026s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:39:15.545112       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:39:15.545117       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:39:15.545135       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:05 +0000 UTC Window:{Duration:17.903s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1123833 scale:-9} d:{Dec:<nil>} s:1123833n Format:DecimalSI} memory:{i:{value:7192576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.545139       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1123833 scale:-9} d:{Dec:<nil>} s:1123833n Format:DecimalSI}, 2
I0412 16:39:15.545156       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:56 +0000 UTC Window:{Duration:22.882s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:299493 scale:-9} d:{Dec:<nil>} s:299493n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:39:15.545162       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:299493 scale:-9} d:{Dec:<nil>} s:299493n Format:DecimalSI}, 1
I0412 16:39:15.545184       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:02 +0000 UTC Window:{Duration:18.897s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2352172 scale:-9} d:{Dec:<nil>} s:2352172n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.545191       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2352172 scale:-9} d:{Dec:<nil>} s:2352172n Format:DecimalSI}, 3
I0412 16:39:15.545210       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:01 +0000 UTC Window:{Duration:16.194s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:174385 scale:-9} d:{Dec:<nil>} s:174385n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.545216       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:174385 scale:-9} d:{Dec:<nil>} s:174385n Format:DecimalSI}, 1
I0412 16:39:15.545232       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:03 +0000 UTC Window:{Duration:17.998s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:227469 scale:-9} d:{Dec:<nil>} s:227469n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.545236       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:227469 scale:-9} d:{Dec:<nil>} s:227469n Format:DecimalSI}, 1
I0412 16:39:15.545252       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:38:58 +0000 UTC Window:{Duration:10.806s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:67925 scale:-9} d:{Dec:<nil>} s:67925n Format:DecimalSI} memory:{i:{value:11247616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:39:15.545259       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:67925 scale:-9} d:{Dec:<nil>} s:67925n Format:DecimalSI}, 1
I0412 16:39:15.545276       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:09 +0000 UTC Window:{Duration:15.562s} Containers:[{Name:updater Usage:map[cpu:{i:{value:74219 scale:-9} d:{Dec:<nil>} s:74219n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:39:15.545282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:74219 scale:-9} d:{Dec:<nil>} s:74219n Format:DecimalSI}, 1
I0412 16:39:15.545299       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:08 +0000 UTC Window:{Duration:24.739s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:696996 scale:-9} d:{Dec:<nil>} s:696996n Format:DecimalSI} memory:{i:{value:56766464 scale:0} d:{Dec:<nil>} s:55436Ki Format:BinarySI}]}]}
I0412 16:39:15.545304       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:696996 scale:-9} d:{Dec:<nil>} s:696996n Format:DecimalSI}, 1
I0412 16:39:15.545361       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:39:15.545372       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:39:15.545400       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:39:15.545420       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:39:15.545449       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 6, totalWeight: 5536.666\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.081\n65\t0.081\n70\t0.081\n75\t0.081\n80\t0.081\n85\t0.081\n90\t0.081\n95\t0.081\n100\t0.081:
I0412 16:39:15.545457       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840138 ControlledValues:<nil>}:
I0412 16:39:15.545477       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:93 memory:476450463]
I0412 16:39:15.545484       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:39:15.545490       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:36187586]
I0412 16:39:15.545494       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:39:15.545501       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:177 memory:911795119]
I0412 16:39:15.545505       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:39:15.560811       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000795e90} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795f20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9dfaa63d-633f-4c3d-a356-fa690bd42d1c] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2c00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c5a0 TLS:0xc0005220b0}
I0412 16:39:15.567972       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be780} GetBody:0x6d9b40 ContentLength:506 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be810 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[32f8efe9-a265-4d35-8614-03a94e1c8d9c] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 16:39:15.608255       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000882990} GetBody:0x6d9b40 ContentLength:688 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882a20 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[40730d03-11c5-4aa5-8a93-5064600385ad] Cache-Control:[no-cache, private] Content-Length:[1450] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3080} ContentLength:1450 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074cd80 TLS:0xc0005220b0}
I0412 16:39:15.608809       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:39:15.608846       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:39:56.486547       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 16:40:02.932264       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 6 items received
I0412 16:40:15.536687       1 recommender.go:166] Recommender Run
I0412 16:40:15.536729       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:40:15.536742       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:40:15.536812       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:40:15.552996       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1c50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a2fa29d3-ffef-4df3-a54b-d9677cb23325 a2fa29d3-ffef-4df3-a54b-d9677cb23325] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 16:40:15.553750       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:40:15.553864       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-lxs5f GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:05 +0000 UTC Window:{Duration:16.798s} Containers:[{Name:workload Usage:map[cpu:{i:{value:69881116 scale:-9} d:{Dec:<nil>} s:69881116n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.553892       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69881116 scale:-9} d:{Dec:<nil>} s:69881116n Format:DecimalSI}, 70
I0412 16:40:15.553927       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:02 +0000 UTC Window:{Duration:19.691s} Containers:[{Name:workload Usage:map[cpu:{i:{value:70113605 scale:-9} d:{Dec:<nil>} s:70113605n Format:DecimalSI} memory:{i:{value:398159872 scale:0} d:{Dec:<nil>} s:388828Ki Format:BinarySI}]}]}
I0412 16:40:15.553937       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:70113605 scale:-9} d:{Dec:<nil>} s:70113605n Format:DecimalSI}, 71
I0412 16:40:15.553984       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:04 +0000 UTC Window:{Duration:13.295s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1885821 scale:-9} d:{Dec:<nil>} s:1885821n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.553999       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1885821 scale:-9} d:{Dec:<nil>} s:1885821n Format:DecimalSI}, 2
I0412 16:40:15.554035       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:05 +0000 UTC Window:{Duration:10.171s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11588830 scale:-9} d:{Dec:<nil>} s:11588830n Format:DecimalSI} memory:{i:{value:168361984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.554045       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11588830 scale:-9} d:{Dec:<nil>} s:11588830n Format:DecimalSI}, 12
I0412 16:40:15.554076       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:03 +0000 UTC Window:{Duration:13.564s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1610070 scale:-9} d:{Dec:<nil>} s:1610070n Format:DecimalSI} memory:{i:{value:14790656 scale:0} d:{Dec:<nil>} s:14444Ki Format:BinarySI}]}]}
I0412 16:40:15.554085       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1610070 scale:-9} d:{Dec:<nil>} s:1610070n Format:DecimalSI}, 2
I0412 16:40:15.554115       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:56 +0000 UTC Window:{Duration:29.339s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:7771 scale:-9} d:{Dec:<nil>} s:7771n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:40:15.554127       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:40:15.554132       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:7771 scale:-9} d:{Dec:<nil>} s:7771n Format:DecimalSI}, 1
I0412 16:40:15.554155       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:02 +0000 UTC Window:{Duration:10.777s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:992855 scale:-9} d:{Dec:<nil>} s:992855n Format:DecimalSI} memory:{i:{value:6983680 scale:0} d:{Dec:<nil>} s:6820Ki Format:BinarySI}]}]}
I0412 16:40:15.554162       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:992855 scale:-9} d:{Dec:<nil>} s:992855n Format:DecimalSI}, 1
I0412 16:40:15.554188       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:03 +0000 UTC Window:{Duration:14.406s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:586977 scale:-9} d:{Dec:<nil>} s:586977n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.554196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:586977 scale:-9} d:{Dec:<nil>} s:586977n Format:DecimalSI}, 1
I0412 16:40:15.554219       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:56 +0000 UTC Window:{Duration:17.572s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3009902 scale:-9} d:{Dec:<nil>} s:3009902n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.554237       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3009902 scale:-9} d:{Dec:<nil>} s:3009902n Format:DecimalSI}, 4
I0412 16:40:15.554274       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:53 +0000 UTC Window:{Duration:12.766s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:232179 scale:-9} d:{Dec:<nil>} s:232179n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.554285       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:232179 scale:-9} d:{Dec:<nil>} s:232179n Format:DecimalSI}, 1
I0412 16:40:15.554316       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:06 +0000 UTC Window:{Duration:15.275s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:126284 scale:-9} d:{Dec:<nil>} s:126284n Format:DecimalSI} memory:{i:{value:11649024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.554325       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:126284 scale:-9} d:{Dec:<nil>} s:126284n Format:DecimalSI}, 1
I0412 16:40:15.554353       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:09 +0000 UTC Window:{Duration:18.315s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:504995 scale:-9} d:{Dec:<nil>} s:504995n Format:DecimalSI} memory:{i:{value:11247616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:40:15.554400       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:504995 scale:-9} d:{Dec:<nil>} s:504995n Format:DecimalSI}, 1
I0412 16:40:15.554437       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:39:56 +0000 UTC Window:{Duration:29.605s} Containers:[{Name:updater Usage:map[cpu:{i:{value:172538 scale:-9} d:{Dec:<nil>} s:172538n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:40:15.554445       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:172538 scale:-9} d:{Dec:<nil>} s:172538n Format:DecimalSI}, 1
I0412 16:40:15.554509       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:07 +0000 UTC Window:{Duration:14.27s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1198037 scale:-9} d:{Dec:<nil>} s:1198037n Format:DecimalSI} memory:{i:{value:56766464 scale:0} d:{Dec:<nil>} s:55436Ki Format:BinarySI}]}]}
I0412 16:40:15.554519       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1198037 scale:-9} d:{Dec:<nil>} s:1198037n Format:DecimalSI}, 2
I0412 16:40:15.554688       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:40:15.554710       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:40:15.554757       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:40:15.554794       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:40:15.554891       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 6, totalWeight: 6362.522\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.068\n55\t0.081\n60\t0.081\n65\t0.081\n70\t0.081\n75\t0.081\n80\t0.081\n85\t0.081\n90\t0.081\n95\t0.081\n100\t0.081:
I0412 16:40:15.554911       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491b78 ControlledValues:<nil>}:
I0412 16:40:15.554946       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:93 memory:476450463]
I0412 16:40:15.554956       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:40:15.554964       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:77 memory:36187634]
I0412 16:40:15.554972       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:40:15.554980       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:177 memory:911482272]
I0412 16:40:15.554984       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:40:15.580009       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746d80} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746e10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c39411a1-0334-40da-ae75-00ea5fd71c93] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c480 TLS:0xc0005220b0}
I0412 16:40:15.599754       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882fc0} GetBody:0x6d9b40 ContentLength:505 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883050 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b97ac933-cbce-41b8-95bc-22119b602c9d] Cache-Control:[no-cache, private] Content-Length:[1449] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2c00} ContentLength:1449 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 16:40:15.599926       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:40:15.599944       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:41:15.531956       1 recommender.go:166] Recommender Run
I0412 16:41:15.532037       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:41:15.532048       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:41:15.532135       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:41:15.532318       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-lxs5f}
I0412 16:41:15.547232       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008838c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b8e4b97b-5b76-4d7d-9284-8d849889d87d b8e4b97b-5b76-4d7d-9284-8d849889d87d] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b680 TLS:0xc0005220b0}
I0412 16:41:15.547773       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:41:15.547839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hw6h4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:08 +0000 UTC Window:{Duration:17.47s} Containers:[{Name:workload Usage:map[cpu:{i:{value:110214367 scale:-9} d:{Dec:<nil>} s:110214367n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.547882       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:110214367 scale:-9} d:{Dec:<nil>} s:110214367n Format:DecimalSI}, 111
I0412 16:41:15.547915       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-w67b6 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:59 +0000 UTC Window:{Duration:13.732s} Containers:[{Name:workload Usage:map[cpu:{i:{value:70160501 scale:-9} d:{Dec:<nil>} s:70160501n Format:DecimalSI} memory:{i:{value:398159872 scale:0} d:{Dec:<nil>} s:388828Ki Format:BinarySI}]}]}
I0412 16:41:15.547923       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:70160501 scale:-9} d:{Dec:<nil>} s:70160501n Format:DecimalSI}, 71
I0412 16:41:15.547950       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:07 +0000 UTC Window:{Duration:13.712s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1478267 scale:-9} d:{Dec:<nil>} s:1478267n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.547956       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1478267 scale:-9} d:{Dec:<nil>} s:1478267n Format:DecimalSI}, 2
I0412 16:41:15.547977       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:10 +0000 UTC Window:{Duration:18.268s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11265601 scale:-9} d:{Dec:<nil>} s:11265601n Format:DecimalSI} memory:{i:{value:168366080 scale:0} d:{Dec:<nil>} s:164420Ki Format:BinarySI}]}]}
I0412 16:41:15.547984       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11265601 scale:-9} d:{Dec:<nil>} s:11265601n Format:DecimalSI}, 12
I0412 16:41:15.548001       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:07 +0000 UTC Window:{Duration:17.423s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1548814 scale:-9} d:{Dec:<nil>} s:1548814n Format:DecimalSI} memory:{i:{value:14663680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.548006       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1548814 scale:-9} d:{Dec:<nil>} s:1548814n Format:DecimalSI}, 2
I0412 16:41:15.548025       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:57 +0000 UTC Window:{Duration:26.41s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2801 scale:-9} d:{Dec:<nil>} s:2801n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:41:15.548041       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:41:15.548046       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2801 scale:-9} d:{Dec:<nil>} s:2801n Format:DecimalSI}, 1
I0412 16:41:15.548080       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:06 +0000 UTC Window:{Duration:18.567s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1320030 scale:-9} d:{Dec:<nil>} s:1320030n Format:DecimalSI} memory:{i:{value:7122944 scale:0} d:{Dec:<nil>} s:6956Ki Format:BinarySI}]}]}
I0412 16:41:15.548110       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1320030 scale:-9} d:{Dec:<nil>} s:1320030n Format:DecimalSI}, 2
I0412 16:41:15.548142       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:11 +0000 UTC Window:{Duration:18.983s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:380603 scale:-9} d:{Dec:<nil>} s:380603n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.548171       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:380603 scale:-9} d:{Dec:<nil>} s:380603n Format:DecimalSI}, 1
I0412 16:41:15.548203       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:05 +0000 UTC Window:{Duration:11.42s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2764360 scale:-9} d:{Dec:<nil>} s:2764360n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.548230       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2764360 scale:-9} d:{Dec:<nil>} s:2764360n Format:DecimalSI}, 3
I0412 16:41:15.548282       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:06 +0000 UTC Window:{Duration:14.159s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:362454 scale:-9} d:{Dec:<nil>} s:362454n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.548290       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:362454 scale:-9} d:{Dec:<nil>} s:362454n Format:DecimalSI}, 1
I0412 16:41:15.548308       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:03 +0000 UTC Window:{Duration:18.072s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:154327 scale:-9} d:{Dec:<nil>} s:154327n Format:DecimalSI} memory:{i:{value:11649024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.548312       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:154327 scale:-9} d:{Dec:<nil>} s:154327n Format:DecimalSI}, 1
I0412 16:41:15.548329       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:11 +0000 UTC Window:{Duration:15.146s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:454311 scale:-9} d:{Dec:<nil>} s:454311n Format:DecimalSI} memory:{i:{value:11259904 scale:0} d:{Dec:<nil>} s:10996Ki Format:BinarySI}]}]}
I0412 16:41:15.548332       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:454311 scale:-9} d:{Dec:<nil>} s:454311n Format:DecimalSI}, 1
I0412 16:41:15.548349       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:00 +0000 UTC Window:{Duration:12.468s} Containers:[{Name:updater Usage:map[cpu:{i:{value:251122 scale:-9} d:{Dec:<nil>} s:251122n Format:DecimalSI} memory:{i:{value:11939840 scale:0} d:{Dec:<nil>} s:11660Ki Format:BinarySI}]}]}
I0412 16:41:15.548358       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:251122 scale:-9} d:{Dec:<nil>} s:251122n Format:DecimalSI}, 1
I0412 16:41:15.548375       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:40:59 +0000 UTC Window:{Duration:14.82s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1135020 scale:-9} d:{Dec:<nil>} s:1135020n Format:DecimalSI} memory:{i:{value:56770560 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:41:15.548379       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1135020 scale:-9} d:{Dec:<nil>} s:1135020n Format:DecimalSI}, 2
I0412 16:41:15.548518       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:41:15.548532       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:41:15.548581       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:41:15.548643       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:41:15.548701       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 9, totalWeight: 7311.228\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.068\n50\t0.081\n55\t0.081\n60\t0.081\n65\t0.081\n70\t0.081\n75\t0.081\n80\t0.081\n85\t0.081\n90\t0.081\n95\t0.126\n100\t0.126:
I0412 16:41:15.548713       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990e58 ControlledValues:<nil>}:
I0412 16:41:15.548739       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:143 memory:476450463]
I0412 16:41:15.548745       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:41:15.548752       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:92 memory:36187678]
I0412 16:41:15.548757       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:41:15.548762       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:273 memory:911192830]
I0412 16:41:15.548766       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:41:15.570355       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cb70} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cc00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[53f5ef23-b563-4298-81fc-27b7d149cc4d] Cache-Control:[no-cache, private] Content-Length:[2256] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2256 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1c20 TLS:0xc0005220b0}
I0412 16:41:15.593184       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794210} GetBody:0x6d9b40 ContentLength:524 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007942a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1390129b-2e9a-445a-b474-54a42cfd46f2] Cache-Control:[no-cache, private] Content-Length:[1487] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473380} ContentLength:1487 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6360 TLS:0xc0005220b0}
I0412 16:41:15.594108       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:41:15.594124       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:41:16.789242       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 5 items received
I0412 16:41:46.736714       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 17 items received
I0412 16:42:15.532158       1 recommender.go:166] Recommender Run
I0412 16:42:15.532192       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:42:15.532204       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:42:15.532267       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:42:15.532358       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-w67b6}
I0412 16:42:15.548316       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007959e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[863d321d-61dd-456a-b3a4-f74efb1ad1b7 863d321d-61dd-456a-b3a4-f74efb1ad1b7] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 16:42:15.549028       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:42:15.549099       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hw6h4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:09 +0000 UTC Window:{Duration:18.265s} Containers:[{Name:workload Usage:map[cpu:{i:{value:109577388 scale:-9} d:{Dec:<nil>} s:109577388n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549114       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:109577388 scale:-9} d:{Dec:<nil>} s:109577388n Format:DecimalSI}, 110
I0412 16:42:15.549159       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:00 +0000 UTC Window:{Duration:10.029s} Containers:[{Name:workload Usage:map[cpu:{i:{value:160383288 scale:-9} d:{Dec:<nil>} s:160383288n Format:DecimalSI} memory:{i:{value:362356736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549182       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160383288 scale:-9} d:{Dec:<nil>} s:160383288n Format:DecimalSI}, 161
I0412 16:42:15.549229       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:00 +0000 UTC Window:{Duration:16.649s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3123130 scale:-9} d:{Dec:<nil>} s:3123130n Format:DecimalSI} memory:{i:{value:32063488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549242       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3123130 scale:-9} d:{Dec:<nil>} s:3123130n Format:DecimalSI}, 4
I0412 16:42:15.549277       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:04 +0000 UTC Window:{Duration:19.237s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12727296 scale:-9} d:{Dec:<nil>} s:12727296n Format:DecimalSI} memory:{i:{value:172666880 scale:0} d:{Dec:<nil>} s:168620Ki Format:BinarySI}]}]}
I0412 16:42:15.549287       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12727296 scale:-9} d:{Dec:<nil>} s:12727296n Format:DecimalSI}, 13
I0412 16:42:15.549321       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:04 +0000 UTC Window:{Duration:11.426s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1859093 scale:-9} d:{Dec:<nil>} s:1859093n Format:DecimalSI} memory:{i:{value:14917632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549333       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1859093 scale:-9} d:{Dec:<nil>} s:1859093n Format:DecimalSI}, 2
I0412 16:42:15.549374       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:58 +0000 UTC Window:{Duration:14.745s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:42:15.549387       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:42:15.549394       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:42:15.549430       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:10 +0000 UTC Window:{Duration:14.924s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1354596 scale:-9} d:{Dec:<nil>} s:1354596n Format:DecimalSI} memory:{i:{value:7323648 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549441       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1354596 scale:-9} d:{Dec:<nil>} s:1354596n Format:DecimalSI}, 2
I0412 16:42:15.549508       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:11 +0000 UTC Window:{Duration:30.391s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:332039 scale:-9} d:{Dec:<nil>} s:332039n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:42:15.549519       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:332039 scale:-9} d:{Dec:<nil>} s:332039n Format:DecimalSI}, 1
I0412 16:42:15.549556       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:41:59 +0000 UTC Window:{Duration:17.712s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2922143 scale:-9} d:{Dec:<nil>} s:2922143n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549569       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2922143 scale:-9} d:{Dec:<nil>} s:2922143n Format:DecimalSI}, 3
I0412 16:42:15.549609       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:00 +0000 UTC Window:{Duration:17.408s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:127527 scale:-9} d:{Dec:<nil>} s:127527n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 16:42:15.549628       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:127527 scale:-9} d:{Dec:<nil>} s:127527n Format:DecimalSI}, 1
I0412 16:42:15.549661       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:03 +0000 UTC Window:{Duration:18.352s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:499346 scale:-9} d:{Dec:<nil>} s:499346n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549670       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:499346 scale:-9} d:{Dec:<nil>} s:499346n Format:DecimalSI}, 1
I0412 16:42:15.549701       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:03 +0000 UTC Window:{Duration:14.291s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:86557 scale:-9} d:{Dec:<nil>} s:86557n Format:DecimalSI} memory:{i:{value:11259904 scale:0} d:{Dec:<nil>} s:10996Ki Format:BinarySI}]}]}
I0412 16:42:15.549714       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:86557 scale:-9} d:{Dec:<nil>} s:86557n Format:DecimalSI}, 1
I0412 16:42:15.549749       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:09 +0000 UTC Window:{Duration:19.209s} Containers:[{Name:updater Usage:map[cpu:{i:{value:157738 scale:-9} d:{Dec:<nil>} s:157738n Format:DecimalSI} memory:{i:{value:11964416 scale:0} d:{Dec:<nil>} s:11684Ki Format:BinarySI}]}]}
I0412 16:42:15.549760       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:157738 scale:-9} d:{Dec:<nil>} s:157738n Format:DecimalSI}, 1
I0412 16:42:15.549798       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:05 +0000 UTC Window:{Duration:19.158s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1173452 scale:-9} d:{Dec:<nil>} s:1173452n Format:DecimalSI} memory:{i:{value:56909824 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:42:15.549809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1173452 scale:-9} d:{Dec:<nil>} s:1173452n Format:DecimalSI}, 2
I0412 16:42:15.549895       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:42:15.549911       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:42:15.549948       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:42:15.549968       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:42:15.550019       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 12, totalWeight: 8403.525\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.081\n45\t0.081\n50\t0.081\n55\t0.081\n60\t0.081\n65\t0.081\n70\t0.081\n75\t0.081\n80\t0.081\n85\t0.110\n90\t0.126\n95\t0.177\n100\t0.177:
I0412 16:42:15.550036       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605c50 ControlledValues:<nil>}:
I0412 16:42:15.550069       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:203 memory:476450463]
I0412 16:42:15.550083       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:42:15.550094       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:92 memory:36187720]
I0412 16:42:15.550101       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:42:15.550110       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:388 memory:910912943]
I0412 16:42:15.550121       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:42:15.567787       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be900} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be990 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cd847136-7d63-45c5-a9a6-9140edd42786] Cache-Control:[no-cache, private] Content-Length:[2256] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473200} ContentLength:2256 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003659e0 TLS:0xc0005220b0}
I0412 16:42:15.587356       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf680} GetBody:0x6d9b40 ContentLength:542 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf710 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[123c05cb-371c-47fc-bffc-ae184205418d] Cache-Control:[no-cache, private] Content-Length:[1524] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473680} ContentLength:1524 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 16:42:15.587480       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:42:15.587492       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:43:15.531941       1 recommender.go:166] Recommender Run
I0412 16:43:15.532039       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:43:15.532059       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:43:15.532194       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:43:15.543989       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ea88b82e-a352-4237-a074-6f349d8f5f4c ea88b82e-a352-4237-a074-6f349d8f5f4c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c360 TLS:0xc0005220b0}
I0412 16:43:15.544765       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:43:15.544848       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hw6h4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:09 +0000 UTC Window:{Duration:15.164s} Containers:[{Name:workload Usage:map[cpu:{i:{value:110108282 scale:-9} d:{Dec:<nil>} s:110108282n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:43:15.544867       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:110108282 scale:-9} d:{Dec:<nil>} s:110108282n Format:DecimalSI}, 111
I0412 16:43:15.544896       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:06 +0000 UTC Window:{Duration:18.619s} Containers:[{Name:workload Usage:map[cpu:{i:{value:159884580 scale:-9} d:{Dec:<nil>} s:159884580n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:43:15.544908       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:159884580 scale:-9} d:{Dec:<nil>} s:159884580n Format:DecimalSI}, 160
I0412 16:43:15.544937       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:11 +0000 UTC Window:{Duration:23.109s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2427971 scale:-9} d:{Dec:<nil>} s:2427971n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:43:15.544948       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2427971 scale:-9} d:{Dec:<nil>} s:2427971n Format:DecimalSI}, 3
I0412 16:43:15.544992       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:05 +0000 UTC Window:{Duration:13.979s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13506259 scale:-9} d:{Dec:<nil>} s:13506259n Format:DecimalSI} memory:{i:{value:171548672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:43:15.545001       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13506259 scale:-9} d:{Dec:<nil>} s:13506259n Format:DecimalSI}, 14
I0412 16:43:15.545023       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:06 +0000 UTC Window:{Duration:11.679s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1935439 scale:-9} d:{Dec:<nil>} s:1935439n Format:DecimalSI} memory:{i:{value:14798848 scale:0} d:{Dec:<nil>} s:14452Ki Format:BinarySI}]}]}
I0412 16:43:15.545031       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1935439 scale:-9} d:{Dec:<nil>} s:1935439n Format:DecimalSI}, 2
I0412 16:43:15.545057       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:00 +0000 UTC Window:{Duration:15.461s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:43:15.545066       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:43:15.545071       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:43:15.545093       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:58 +0000 UTC Window:{Duration:18.005s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1524909 scale:-9} d:{Dec:<nil>} s:1524909n Format:DecimalSI} memory:{i:{value:7114752 scale:0} d:{Dec:<nil>} s:6948Ki Format:BinarySI}]}]}
I0412 16:43:15.545113       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1524909 scale:-9} d:{Dec:<nil>} s:1524909n Format:DecimalSI}, 2
I0412 16:43:15.545164       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:55 +0000 UTC Window:{Duration:14.548s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:548666 scale:-9} d:{Dec:<nil>} s:548666n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:43:15.545170       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:548666 scale:-9} d:{Dec:<nil>} s:548666n Format:DecimalSI}, 1
I0412 16:43:15.545197       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:04 +0000 UTC Window:{Duration:14.106s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2876648 scale:-9} d:{Dec:<nil>} s:2876648n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:43:15.545210       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2876648 scale:-9} d:{Dec:<nil>} s:2876648n Format:DecimalSI}, 3
I0412 16:43:15.545234       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:58 +0000 UTC Window:{Duration:18.525s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:527395 scale:-9} d:{Dec:<nil>} s:527395n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 16:43:15.545247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:527395 scale:-9} d:{Dec:<nil>} s:527395n Format:DecimalSI}, 1
I0412 16:43:15.545278       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:07 +0000 UTC Window:{Duration:19.031s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:193578 scale:-9} d:{Dec:<nil>} s:193578n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:43:15.545291       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:193578 scale:-9} d:{Dec:<nil>} s:193578n Format:DecimalSI}, 1
I0412 16:43:15.545312       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:05 +0000 UTC Window:{Duration:19.702s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:226220 scale:-9} d:{Dec:<nil>} s:226220n Format:DecimalSI} memory:{i:{value:11259904 scale:0} d:{Dec:<nil>} s:10996Ki Format:BinarySI}]}]}
I0412 16:43:15.545321       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:226220 scale:-9} d:{Dec:<nil>} s:226220n Format:DecimalSI}, 1
I0412 16:43:15.545343       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:42:57 +0000 UTC Window:{Duration:16.883s} Containers:[{Name:updater Usage:map[cpu:{i:{value:179174 scale:-9} d:{Dec:<nil>} s:179174n Format:DecimalSI} memory:{i:{value:12042240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:43:15.545352       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:179174 scale:-9} d:{Dec:<nil>} s:179174n Format:DecimalSI}, 1
I0412 16:43:15.545373       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:05 +0000 UTC Window:{Duration:11.208s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:552284 scale:-9} d:{Dec:<nil>} s:552284n Format:DecimalSI} memory:{i:{value:57274368 scale:0} d:{Dec:<nil>} s:55932Ki Format:BinarySI}]}]}
I0412 16:43:15.545377       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:552284 scale:-9} d:{Dec:<nil>} s:552284n Format:DecimalSI}, 1
I0412 16:43:15.545555       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:43:15.545578       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:43:15.545630       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:43:15.545663       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:43:15.545724       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 12, totalWeight: 9666.912\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.081\n40\t0.081\n45\t0.081\n50\t0.081\n55\t0.081\n60\t0.081\n65\t0.081\n70\t0.081\n75\t0.110\n80\t0.126\n85\t0.126\n90\t0.177\n95\t0.177\n100\t0.177:
I0412 16:43:15.545738       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000604ea0 ControlledValues:<nil>}:
I0412 16:43:15.545772       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:203 memory:476450463]
I0412 16:43:15.545780       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:43:15.545792       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:92 memory:36187762]
I0412 16:43:15.545801       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:43:15.545808       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:387 memory:910637995]
I0412 16:43:15.545813       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:43:15.561777       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729ad0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729b60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bf0060bd-64fd-4e77-a7ad-c04582c4ef2d] Cache-Control:[no-cache, private] Content-Length:[2256] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:2256 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aa20 TLS:0xc0005220b0}
I0412 16:43:15.586946       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0009867b0} GetBody:0x6d9b40 ContentLength:541 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009868a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[062ff71c-a433-4a85-95fe-243be77da10e] Cache-Control:[no-cache, private] Content-Length:[1523] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccd80} ContentLength:1523 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b560 TLS:0xc0005220b0}
I0412 16:43:15.587165       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:43:15.587182       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:43:16.069458       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 9 items received
I0412 16:43:25.154633       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 2 items received
I0412 16:44:15.532731       1 recommender.go:166] Recommender Run
I0412 16:44:15.532934       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:44:15.532977       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:44:15.533334       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:44:15.551608       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794f00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7b0e3de8-e95e-415b-8d7a-cccc38b7bc8e 7b0e3de8-e95e-415b-8d7a-cccc38b7bc8e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c7e0 TLS:0xc0005220b0}
I0412 16:44:15.552633       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:44:15.552774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hw6h4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:04 +0000 UTC Window:{Duration:14.627s} Containers:[{Name:workload Usage:map[cpu:{i:{value:109806727 scale:-9} d:{Dec:<nil>} s:109806727n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.552787       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:109806727 scale:-9} d:{Dec:<nil>} s:109806727n Format:DecimalSI}, 110
I0412 16:44:15.552816       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:04 +0000 UTC Window:{Duration:11.931s} Containers:[{Name:workload Usage:map[cpu:{i:{value:159215908 scale:-9} d:{Dec:<nil>} s:159215908n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.552820       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:159215908 scale:-9} d:{Dec:<nil>} s:159215908n Format:DecimalSI}, 160
I0412 16:44:15.552846       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:43:58 +0000 UTC Window:{Duration:13.527s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3240186 scale:-9} d:{Dec:<nil>} s:3240186n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:44:15.552886       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3240186 scale:-9} d:{Dec:<nil>} s:3240186n Format:DecimalSI}, 4
I0412 16:44:15.552930       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:12 +0000 UTC Window:{Duration:17.582s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11941815 scale:-9} d:{Dec:<nil>} s:11941815n Format:DecimalSI} memory:{i:{value:169832448 scale:0} d:{Dec:<nil>} s:165852Ki Format:BinarySI}]}]}
I0412 16:44:15.552940       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11941815 scale:-9} d:{Dec:<nil>} s:11941815n Format:DecimalSI}, 12
I0412 16:44:15.552971       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:10 +0000 UTC Window:{Duration:19.926s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1870972 scale:-9} d:{Dec:<nil>} s:1870972n Format:DecimalSI} memory:{i:{value:15491072 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.552976       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1870972 scale:-9} d:{Dec:<nil>} s:1870972n Format:DecimalSI}, 2
I0412 16:44:15.553016       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:00 +0000 UTC Window:{Duration:10.318s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:44:15.553052       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:44:15.553082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:44:15.553109       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:07 +0000 UTC Window:{Duration:14.122s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1365741 scale:-9} d:{Dec:<nil>} s:1365741n Format:DecimalSI} memory:{i:{value:7196672 scale:0} d:{Dec:<nil>} s:7028Ki Format:BinarySI}]}]}
I0412 16:44:15.553115       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1365741 scale:-9} d:{Dec:<nil>} s:1365741n Format:DecimalSI}, 2
I0412 16:44:15.553134       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:06 +0000 UTC Window:{Duration:19.074s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:521547 scale:-9} d:{Dec:<nil>} s:521547n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.553155       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:521547 scale:-9} d:{Dec:<nil>} s:521547n Format:DecimalSI}, 1
I0412 16:44:15.553176       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:04 +0000 UTC Window:{Duration:15.805s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2950205 scale:-9} d:{Dec:<nil>} s:2950205n Format:DecimalSI} memory:{i:{value:19480576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.553179       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2950205 scale:-9} d:{Dec:<nil>} s:2950205n Format:DecimalSI}, 3
I0412 16:44:15.553194       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:02 +0000 UTC Window:{Duration:12.57s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:564041 scale:-9} d:{Dec:<nil>} s:564041n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.553199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:564041 scale:-9} d:{Dec:<nil>} s:564041n Format:DecimalSI}, 1
I0412 16:44:15.553219       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:03 +0000 UTC Window:{Duration:17.015s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:471054 scale:-9} d:{Dec:<nil>} s:471054n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.553225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:471054 scale:-9} d:{Dec:<nil>} s:471054n Format:DecimalSI}, 1
I0412 16:44:15.553254       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:08 +0000 UTC Window:{Duration:12.815s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:240733 scale:-9} d:{Dec:<nil>} s:240733n Format:DecimalSI} memory:{i:{value:11292672 scale:0} d:{Dec:<nil>} s:11028Ki Format:BinarySI}]}]}
I0412 16:44:15.553264       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:240733 scale:-9} d:{Dec:<nil>} s:240733n Format:DecimalSI}, 1
I0412 16:44:15.553289       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:12 +0000 UTC Window:{Duration:17.548s} Containers:[{Name:updater Usage:map[cpu:{i:{value:88956 scale:-9} d:{Dec:<nil>} s:88956n Format:DecimalSI} memory:{i:{value:12075008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:44:15.553295       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:88956 scale:-9} d:{Dec:<nil>} s:88956n Format:DecimalSI}, 1
I0412 16:44:15.553321       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:03 +0000 UTC Window:{Duration:14.473s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:993850 scale:-9} d:{Dec:<nil>} s:993850n Format:DecimalSI} memory:{i:{value:57430016 scale:0} d:{Dec:<nil>} s:56084Ki Format:BinarySI}]}]}
I0412 16:44:15.553327       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:993850 scale:-9} d:{Dec:<nil>} s:993850n Format:DecimalSI}, 1
I0412 16:44:15.553461       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:44:15.553480       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:44:15.553537       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:44:15.553576       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:44:15.553627       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 12, totalWeight: 11106.465\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.081\n35\t0.081\n40\t0.081\n45\t0.081\n50\t0.081\n55\t0.081\n60\t0.081\n65\t0.110\n70\t0.110\n75\t0.126\n80\t0.126\n85\t0.177\n90\t0.177\n95\t0.177\n100\t0.177:
I0412 16:44:15.553642       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009915f0 ControlledValues:<nil>}:
I0412 16:44:15.553691       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:203 memory:476450463]
I0412 16:44:15.553745       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:44:15.553757       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:92 memory:36187800]
I0412 16:44:15.553761       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:44:15.553766       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:387 memory:910386266]
I0412 16:44:15.553769       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:44:15.568265       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883260} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008832f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c2788ced-5e86-45e2-a2f6-d94d25ac9acc] Cache-Control:[no-cache, private] Content-Length:[2256] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc180} ContentLength:2256 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c120 TLS:0xc0005220b0}
I0412 16:44:15.585108       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000795b00} GetBody:0x6d9b40 ContentLength:543 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795bc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[075d254a-0231-4403-9a31-3c3cbbb1d8e6] Cache-Control:[no-cache, private] Content-Length:[1525] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2a80} ContentLength:1525 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d560 TLS:0xc0005220b0}
I0412 16:44:15.585590       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:44:15.585626       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:44:39.279704       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 5 items received
I0412 16:45:15.533560       1 recommender.go:166] Recommender Run
I0412 16:45:15.533615       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:45:15.533622       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:45:15.533706       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:45:15.543523       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be210 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0a829e6c-1e6c-49f9-81ce-bacb984ccf5c 0a829e6c-1e6c-49f9-81ce-bacb984ccf5c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 16:45:15.544508       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:45:15.544668       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hw6h4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:00 +0000 UTC Window:{Duration:13.888s} Containers:[{Name:workload Usage:map[cpu:{i:{value:108685123 scale:-9} d:{Dec:<nil>} s:108685123n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.544749       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:108685123 scale:-9} d:{Dec:<nil>} s:108685123n Format:DecimalSI}, 109
I0412 16:45:15.544806       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:04 +0000 UTC Window:{Duration:16.603s} Containers:[{Name:workload Usage:map[cpu:{i:{value:160230922 scale:-9} d:{Dec:<nil>} s:160230922n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.544821       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160230922 scale:-9} d:{Dec:<nil>} s:160230922n Format:DecimalSI}, 161
I0412 16:45:15.544883       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:08 +0000 UTC Window:{Duration:19.91s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1931240 scale:-9} d:{Dec:<nil>} s:1931240n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:45:15.544925       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1931240 scale:-9} d:{Dec:<nil>} s:1931240n Format:DecimalSI}, 2
I0412 16:45:15.544971       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:08 +0000 UTC Window:{Duration:12.402s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11979438 scale:-9} d:{Dec:<nil>} s:11979438n Format:DecimalSI} memory:{i:{value:169836544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.545093       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11979438 scale:-9} d:{Dec:<nil>} s:11979438n Format:DecimalSI}, 12
I0412 16:45:15.545143       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:10 +0000 UTC Window:{Duration:28.343s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1605299 scale:-9} d:{Dec:<nil>} s:1605299n Format:DecimalSI} memory:{i:{value:15130624 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.545158       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1605299 scale:-9} d:{Dec:<nil>} s:1605299n Format:DecimalSI}, 2
I0412 16:45:15.545202       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:44:55 +0000 UTC Window:{Duration:16.875s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:45:15.545229       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:45:15.545238       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:45:15.545275       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:04 +0000 UTC Window:{Duration:13.997s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1239694 scale:-9} d:{Dec:<nil>} s:1239694n Format:DecimalSI} memory:{i:{value:7430144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.545288       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1239694 scale:-9} d:{Dec:<nil>} s:1239694n Format:DecimalSI}, 2
I0412 16:45:15.545324       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:03 +0000 UTC Window:{Duration:17.727s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:432222 scale:-9} d:{Dec:<nil>} s:432222n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.545339       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:432222 scale:-9} d:{Dec:<nil>} s:432222n Format:DecimalSI}, 1
I0412 16:45:15.545396       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:07 +0000 UTC Window:{Duration:13.692s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2576614 scale:-9} d:{Dec:<nil>} s:2576614n Format:DecimalSI} memory:{i:{value:19558400 scale:0} d:{Dec:<nil>} s:19100Ki Format:BinarySI}]}]}
I0412 16:45:15.545417       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2576614 scale:-9} d:{Dec:<nil>} s:2576614n Format:DecimalSI}, 3
I0412 16:45:15.545453       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:07 +0000 UTC Window:{Duration:10.874s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:272760 scale:-9} d:{Dec:<nil>} s:272760n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.545553       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:272760 scale:-9} d:{Dec:<nil>} s:272760n Format:DecimalSI}, 1
I0412 16:45:15.545608       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:10 +0000 UTC Window:{Duration:16.137s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:80622 scale:-9} d:{Dec:<nil>} s:80622n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:45:15.545620       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80622 scale:-9} d:{Dec:<nil>} s:80622n Format:DecimalSI}, 1
I0412 16:45:15.545656       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:09 +0000 UTC Window:{Duration:17.663s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:118156 scale:-9} d:{Dec:<nil>} s:118156n Format:DecimalSI} memory:{i:{value:11292672 scale:0} d:{Dec:<nil>} s:11028Ki Format:BinarySI}]}]}
I0412 16:45:15.545671       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:118156 scale:-9} d:{Dec:<nil>} s:118156n Format:DecimalSI}, 1
I0412 16:45:15.545720       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:06 +0000 UTC Window:{Duration:10.683s} Containers:[{Name:updater Usage:map[cpu:{i:{value:80595 scale:-9} d:{Dec:<nil>} s:80595n Format:DecimalSI} memory:{i:{value:11964416 scale:0} d:{Dec:<nil>} s:11684Ki Format:BinarySI}]}]}
I0412 16:45:15.545746       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80595 scale:-9} d:{Dec:<nil>} s:80595n Format:DecimalSI}, 1
I0412 16:45:15.545789       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:11 +0000 UTC Window:{Duration:19.847s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1739456 scale:-9} d:{Dec:<nil>} s:1739456n Format:DecimalSI} memory:{i:{value:57479168 scale:0} d:{Dec:<nil>} s:56132Ki Format:BinarySI}]}]}
I0412 16:45:15.545815       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1739456 scale:-9} d:{Dec:<nil>} s:1739456n Format:DecimalSI}, 2
I0412 16:45:15.545908       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:45:15.545927       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:45:15.545996       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:45:15.546021       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:45:15.546089       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 12, totalWeight: 12752.471\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.068\n30\t0.081\n35\t0.081\n40\t0.081\n45\t0.081\n50\t0.081\n55\t0.110\n60\t0.110\n65\t0.110\n70\t0.126\n75\t0.126\n80\t0.177\n85\t0.177\n90\t0.177\n95\t0.177\n100\t0.177:
I0412 16:45:15.546108       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450e70 ControlledValues:<nil>}:
I0412 16:45:15.546139       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:203 memory:476450463]
I0412 16:45:15.546159       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:45:15.546179       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:92 memory:36187842]
I0412 16:45:15.546192       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:45:15.546212       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:387 memory:910111985]
I0412 16:45:15.546221       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:45:15.560536       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007474a0} GetBody:0x6d9b40 ContentLength:417 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747530 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a0db3af7-b673-417c-97b2-fc68c9de08b9] Cache-Control:[no-cache, private] Content-Length:[2256] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3380} ContentLength:2256 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7e60 TLS:0xc0005220b0}
I0412 16:45:15.581220       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747f50} GetBody:0x6d9b40 ContentLength:543 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007280c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ab1ccafb-b78e-49e3-96cf-d1edcf2ebe87] Cache-Control:[no-cache, private] Content-Length:[1525] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3800} ContentLength:1525 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214a20 TLS:0xc0005220b0}
I0412 16:45:15.581377       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:45:15.581396       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:45:56.493677       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 4 items received
I0412 16:46:15.532876       1 recommender.go:166] Recommender Run
I0412 16:46:15.532981       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:46:15.533012       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:46:15.533366       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:46:15.557032       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728b10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[39ad68ba-b2a0-4e16-9dc5-7fd1595c6e86 39ad68ba-b2a0-4e16-9dc5-7fd1595c6e86] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 16:46:15.558339       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:46:15.558475       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hw6h4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:03 +0000 UTC Window:{Duration:16.746s} Containers:[{Name:workload Usage:map[cpu:{i:{value:110445658 scale:-9} d:{Dec:<nil>} s:110445658n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.558574       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:110445658 scale:-9} d:{Dec:<nil>} s:110445658n Format:DecimalSI}, 111
I0412 16:46:15.558641       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:58 +0000 UTC Window:{Duration:11.494s} Containers:[{Name:workload Usage:map[cpu:{i:{value:160004176 scale:-9} d:{Dec:<nil>} s:160004176n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.558650       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160004176 scale:-9} d:{Dec:<nil>} s:160004176n Format:DecimalSI}, 161
I0412 16:46:15.558726       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:04 +0000 UTC Window:{Duration:17.367s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3676052 scale:-9} d:{Dec:<nil>} s:3676052n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.558760       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3676052 scale:-9} d:{Dec:<nil>} s:3676052n Format:DecimalSI}, 4
I0412 16:46:15.558846       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:00 +0000 UTC Window:{Duration:11.11s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10933843 scale:-9} d:{Dec:<nil>} s:10933843n Format:DecimalSI} memory:{i:{value:167960576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.558896       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10933843 scale:-9} d:{Dec:<nil>} s:10933843n Format:DecimalSI}, 11
I0412 16:46:15.558974       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:05 +0000 UTC Window:{Duration:18.901s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1856674 scale:-9} d:{Dec:<nil>} s:1856674n Format:DecimalSI} memory:{i:{value:14860288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.559013       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1856674 scale:-9} d:{Dec:<nil>} s:1856674n Format:DecimalSI}, 2
I0412 16:46:15.559065       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:03 +0000 UTC Window:{Duration:22.167s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:46:15.559082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:46:15.559102       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:46:15.559150       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:04 +0000 UTC Window:{Duration:15.728s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1056205 scale:-9} d:{Dec:<nil>} s:1056205n Format:DecimalSI} memory:{i:{value:6909952 scale:0} d:{Dec:<nil>} s:6748Ki Format:BinarySI}]}]}
I0412 16:46:15.559159       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1056205 scale:-9} d:{Dec:<nil>} s:1056205n Format:DecimalSI}, 2
I0412 16:46:15.559193       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:07 +0000 UTC Window:{Duration:18.471s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:279789 scale:-9} d:{Dec:<nil>} s:279789n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:46:15.559199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:279789 scale:-9} d:{Dec:<nil>} s:279789n Format:DecimalSI}, 1
I0412 16:46:15.559233       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:04 +0000 UTC Window:{Duration:16.335s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2837894 scale:-9} d:{Dec:<nil>} s:2837894n Format:DecimalSI} memory:{i:{value:19697664 scale:0} d:{Dec:<nil>} s:19236Ki Format:BinarySI}]}]}
I0412 16:46:15.559271       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2837894 scale:-9} d:{Dec:<nil>} s:2837894n Format:DecimalSI}, 3
I0412 16:46:15.559317       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:08 +0000 UTC Window:{Duration:14.376s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:340915 scale:-9} d:{Dec:<nil>} s:340915n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.559389       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:340915 scale:-9} d:{Dec:<nil>} s:340915n Format:DecimalSI}, 1
I0412 16:46:15.559461       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:56 +0000 UTC Window:{Duration:28.107s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:577116 scale:-9} d:{Dec:<nil>} s:577116n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.559476       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:577116 scale:-9} d:{Dec:<nil>} s:577116n Format:DecimalSI}, 1
I0412 16:46:15.559625       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:45:56 +0000 UTC Window:{Duration:18.969s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:292688 scale:-9} d:{Dec:<nil>} s:292688n Format:DecimalSI} memory:{i:{value:11292672 scale:0} d:{Dec:<nil>} s:11028Ki Format:BinarySI}]}]}
I0412 16:46:15.559653       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:292688 scale:-9} d:{Dec:<nil>} s:292688n Format:DecimalSI}, 1
I0412 16:46:15.559704       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:10 +0000 UTC Window:{Duration:19.706s} Containers:[{Name:updater Usage:map[cpu:{i:{value:287628 scale:-9} d:{Dec:<nil>} s:287628n Format:DecimalSI} memory:{i:{value:11984896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.559715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:287628 scale:-9} d:{Dec:<nil>} s:287628n Format:DecimalSI}, 1
I0412 16:46:15.559750       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:01 +0000 UTC Window:{Duration:10.915s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1481814 scale:-9} d:{Dec:<nil>} s:1481814n Format:DecimalSI} memory:{i:{value:57516032 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:46:15.559763       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1481814 scale:-9} d:{Dec:<nil>} s:1481814n Format:DecimalSI}, 2
I0412 16:46:15.560023       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:46:15.560084       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:46:15.560213       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:46:15.560273       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:46:15.560396       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 12, totalWeight: 14636.705\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.081\n30\t0.081\n35\t0.081\n40\t0.081\n45\t0.081\n50\t0.110\n55\t0.110\n60\t0.110\n65\t0.126\n70\t0.126\n75\t0.126\n80\t0.177\n85\t0.177\n90\t0.177\n95\t0.177\n100\t0.177:
I0412 16:46:15.560422       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000604150 ControlledValues:<nil>}:
I0412 16:46:15.560486       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:203 memory:476450463]
I0412 16:46:15.560497       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:46:15.560510       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:125 memory:36187883]
I0412 16:46:15.560525       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:46:15.560536       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:387 memory:909842613]
I0412 16:46:15.560544       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:46:15.580819       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d8f0} GetBody:0x6d9b40 ContentLength:418 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d980 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f3307f47-8bcf-4793-a315-f7828877f281] Cache-Control:[no-cache, private] Content-Length:[2257] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2900} ContentLength:2257 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365680 TLS:0xc0005220b0}
I0412 16:46:15.595334       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986690} GetBody:0x6d9b40 ContentLength:543 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986720 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ecd3558a-832c-4b63-8a81-4ad9d62b9d70] Cache-Control:[no-cache, private] Content-Length:[1525] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3380} ContentLength:1525 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aa20 TLS:0xc0005220b0}
I0412 16:46:15.595631       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:46:15.595661       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:46:25.524676       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 26 items received
I0412 16:46:59.794286       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 13 items received
I0412 16:47:04.357379       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 2 items received
I0412 16:47:15.537487       1 recommender.go:166] Recommender Run
I0412 16:47:15.537591       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:47:15.537639       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:47:15.537858       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:47:15.538208       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-hw6h4}
I0412 16:47:15.549754       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0090 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e6c2a670-9f2f-4546-a81c-d02923ed5715 e6c2a670-9f2f-4546-a81c-d02923ed5715] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1440 TLS:0xc0005220b0}
I0412 16:47:15.550853       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:47:15.550995       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-df5wg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:07 +0000 UTC Window:{Duration:18.549s} Containers:[{Name:workload Usage:map[cpu:{i:{value:230562995 scale:-9} d:{Dec:<nil>} s:230562995n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:47:15.551057       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:230562995 scale:-9} d:{Dec:<nil>} s:230562995n Format:DecimalSI}, 231
I0412 16:47:15.551151       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:02 +0000 UTC Window:{Duration:12.264s} Containers:[{Name:workload Usage:map[cpu:{i:{value:160591650 scale:-9} d:{Dec:<nil>} s:160591650n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:47:15.551167       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160591650 scale:-9} d:{Dec:<nil>} s:160591650n Format:DecimalSI}, 161
I0412 16:47:15.551238       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:10 +0000 UTC Window:{Duration:16.56s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2513285 scale:-9} d:{Dec:<nil>} s:2513285n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:47:15.551253       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2513285 scale:-9} d:{Dec:<nil>} s:2513285n Format:DecimalSI}, 3
I0412 16:47:15.551335       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:11 +0000 UTC Window:{Duration:15.556s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:17246978 scale:-9} d:{Dec:<nil>} s:17246978n Format:DecimalSI} memory:{i:{value:167952384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:47:15.551352       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:17246978 scale:-9} d:{Dec:<nil>} s:17246978n Format:DecimalSI}, 18
I0412 16:47:15.551419       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:01 +0000 UTC Window:{Duration:14.566s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2545448 scale:-9} d:{Dec:<nil>} s:2545448n Format:DecimalSI} memory:{i:{value:14864384 scale:0} d:{Dec:<nil>} s:14516Ki Format:BinarySI}]}]}
I0412 16:47:15.551432       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2545448 scale:-9} d:{Dec:<nil>} s:2545448n Format:DecimalSI}, 3
I0412 16:47:15.551477       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:06 +0000 UTC Window:{Duration:11.162s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:1990 scale:-9} d:{Dec:<nil>} s:1990n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:47:15.551521       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:47:15.551530       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1990 scale:-9} d:{Dec:<nil>} s:1990n Format:DecimalSI}, 1
I0412 16:47:15.551575       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:07 +0000 UTC Window:{Duration:18.357s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1940840 scale:-9} d:{Dec:<nil>} s:1940840n Format:DecimalSI} memory:{i:{value:6873088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:47:15.551588       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1940840 scale:-9} d:{Dec:<nil>} s:1940840n Format:DecimalSI}, 2
I0412 16:47:15.551657       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:54 +0000 UTC Window:{Duration:14.906s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:63598 scale:-9} d:{Dec:<nil>} s:63598n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:47:15.551670       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:63598 scale:-9} d:{Dec:<nil>} s:63598n Format:DecimalSI}, 1
I0412 16:47:15.551716       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:56 +0000 UTC Window:{Duration:16.797s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2946180 scale:-9} d:{Dec:<nil>} s:2946180n Format:DecimalSI} memory:{i:{value:19738624 scale:0} d:{Dec:<nil>} s:19276Ki Format:BinarySI}]}]}
I0412 16:47:15.551730       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2946180 scale:-9} d:{Dec:<nil>} s:2946180n Format:DecimalSI}, 3
I0412 16:47:15.551797       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:02 +0000 UTC Window:{Duration:16.645s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1024211 scale:-9} d:{Dec:<nil>} s:1024211n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:47:15.551810       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1024211 scale:-9} d:{Dec:<nil>} s:1024211n Format:DecimalSI}, 2
I0412 16:47:15.551856       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:46:58 +0000 UTC Window:{Duration:15.089s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:345947 scale:-9} d:{Dec:<nil>} s:345947n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:47:15.551868       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:345947 scale:-9} d:{Dec:<nil>} s:345947n Format:DecimalSI}, 1
I0412 16:47:15.551901       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:07 +0000 UTC Window:{Duration:13.509s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:650159 scale:-9} d:{Dec:<nil>} s:650159n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:47:15.551918       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:650159 scale:-9} d:{Dec:<nil>} s:650159n Format:DecimalSI}, 1
I0412 16:47:15.551951       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:06 +0000 UTC Window:{Duration:17.069s} Containers:[{Name:updater Usage:map[cpu:{i:{value:515085 scale:-9} d:{Dec:<nil>} s:515085n Format:DecimalSI} memory:{i:{value:12021760 scale:0} d:{Dec:<nil>} s:11740Ki Format:BinarySI}]}]}
I0412 16:47:15.551971       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:515085 scale:-9} d:{Dec:<nil>} s:515085n Format:DecimalSI}, 1
I0412 16:47:15.552005       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:10 +0000 UTC Window:{Duration:30.974s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1963937 scale:-9} d:{Dec:<nil>} s:1963937n Format:DecimalSI} memory:{i:{value:59793408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:47:15.552020       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1963937 scale:-9} d:{Dec:<nil>} s:1963937n Format:DecimalSI}, 2
I0412 16:47:15.552319       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:47:15.552353       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:47:15.552459       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:47:15.552507       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:47:15.552658       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 15, totalWeight: 16821.218\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.081\n25\t0.081\n30\t0.081\n35\t0.081\n40\t0.081\n45\t0.110\n50\t0.110\n55\t0.126\n60\t0.126\n65\t0.126\n70\t0.177\n75\t0.177\n80\t0.177\n85\t0.177\n90\t0.177\n95\t0.237\n100\t0.237:
I0412 16:47:15.552684       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491908 ControlledValues:<nil>}:
I0412 16:47:15.552744       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:271 memory:476450463]
I0412 16:47:15.552763       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:47:15.552783       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:125 memory:36187927]
I0412 16:47:15.552798       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:47:15.552824       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:517 memory:909550791]
I0412 16:47:15.552832       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:47:15.565800       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747830} GetBody:0x6d9b40 ContentLength:418 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007478c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9d6d3598-2ce5-44de-af18-5e45e209f5b3] Cache-Control:[no-cache, private] Content-Length:[2257] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3680} ContentLength:2257 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d7a0 TLS:0xc0005220b0}
I0412 16:47:15.581940       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762390} GetBody:0x6d9b40 ContentLength:555 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5cf42179-6b51-4816-b40e-6080d917b857] Cache-Control:[no-cache, private] Content-Length:[1547] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:1547 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4120 TLS:0xc0005220b0}
I0412 16:47:15.583385       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:47:15.583406       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:48:15.532788       1 recommender.go:166] Recommender Run
I0412 16:48:15.532909       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:48:15.532928       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:48:15.533059       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:48:15.545220       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007286f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6c99058f-b00e-4f51-b99a-aa17355d7eea 6c99058f-b00e-4f51-b99a-aa17355d7eea] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 16:48:15.546068       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:48:15.546190       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-df5wg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:58 +0000 UTC Window:{Duration:13.703s} Containers:[{Name:workload Usage:map[cpu:{i:{value:229487484 scale:-9} d:{Dec:<nil>} s:229487484n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:48:15.546217       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:229487484 scale:-9} d:{Dec:<nil>} s:229487484n Format:DecimalSI}, 230
I0412 16:48:15.546267       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:09 +0000 UTC Window:{Duration:18.496s} Containers:[{Name:workload Usage:map[cpu:{i:{value:160108077 scale:-9} d:{Dec:<nil>} s:160108077n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:48:15.546278       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160108077 scale:-9} d:{Dec:<nil>} s:160108077n Format:DecimalSI}, 161
I0412 16:48:15.546325       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:06 +0000 UTC Window:{Duration:19.795s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3111290 scale:-9} d:{Dec:<nil>} s:3111290n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:48:15.546336       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3111290 scale:-9} d:{Dec:<nil>} s:3111290n Format:DecimalSI}, 4
I0412 16:48:15.546374       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:54 +0000 UTC Window:{Duration:13.503s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12930756 scale:-9} d:{Dec:<nil>} s:12930756n Format:DecimalSI} memory:{i:{value:169611264 scale:0} d:{Dec:<nil>} s:165636Ki Format:BinarySI}]}]}
I0412 16:48:15.546385       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12930756 scale:-9} d:{Dec:<nil>} s:12930756n Format:DecimalSI}, 13
I0412 16:48:15.546419       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:04 +0000 UTC Window:{Duration:17.705s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1887997 scale:-9} d:{Dec:<nil>} s:1887997n Format:DecimalSI} memory:{i:{value:14598144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:48:15.546439       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1887997 scale:-9} d:{Dec:<nil>} s:1887997n Format:DecimalSI}, 2
I0412 16:48:15.546494       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:48 +0000 UTC Window:{Duration:10.591s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:48:15.546512       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:48:15.546520       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:48:15.546554       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:59 +0000 UTC Window:{Duration:14.67s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:814519 scale:-9} d:{Dec:<nil>} s:814519n Format:DecimalSI} memory:{i:{value:6868992 scale:0} d:{Dec:<nil>} s:6708Ki Format:BinarySI}]}]}
I0412 16:48:15.546569       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:814519 scale:-9} d:{Dec:<nil>} s:814519n Format:DecimalSI}, 1
I0412 16:48:15.546600       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:00 +0000 UTC Window:{Duration:13.791s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:995069 scale:-9} d:{Dec:<nil>} s:995069n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:48:15.546611       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:995069 scale:-9} d:{Dec:<nil>} s:995069n Format:DecimalSI}, 1
I0412 16:48:15.546647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:05 +0000 UTC Window:{Duration:15.822s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2376690 scale:-9} d:{Dec:<nil>} s:2376690n Format:DecimalSI} memory:{i:{value:19738624 scale:0} d:{Dec:<nil>} s:19276Ki Format:BinarySI}]}]}
I0412 16:48:15.546654       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2376690 scale:-9} d:{Dec:<nil>} s:2376690n Format:DecimalSI}, 3
I0412 16:48:15.546687       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:10 +0000 UTC Window:{Duration:19.854s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:433917 scale:-9} d:{Dec:<nil>} s:433917n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:48:15.546707       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:433917 scale:-9} d:{Dec:<nil>} s:433917n Format:DecimalSI}, 1
I0412 16:48:15.546740       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:03 +0000 UTC Window:{Duration:15.807s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:833871 scale:-9} d:{Dec:<nil>} s:833871n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:48:15.546751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:833871 scale:-9} d:{Dec:<nil>} s:833871n Format:DecimalSI}, 1
I0412 16:48:15.546815       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:06 +0000 UTC Window:{Duration:16.609s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:160876 scale:-9} d:{Dec:<nil>} s:160876n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:48:15.546825       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160876 scale:-9} d:{Dec:<nil>} s:160876n Format:DecimalSI}, 1
I0412 16:48:15.546876       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:05 +0000 UTC Window:{Duration:10.574s} Containers:[{Name:updater Usage:map[cpu:{i:{value:73103 scale:-9} d:{Dec:<nil>} s:73103n Format:DecimalSI} memory:{i:{value:12025856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:48:15.546886       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:73103 scale:-9} d:{Dec:<nil>} s:73103n Format:DecimalSI}, 1
I0412 16:48:15.546920       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:47:56 +0000 UTC Window:{Duration:29.742s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1392273 scale:-9} d:{Dec:<nil>} s:1392273n Format:DecimalSI} memory:{i:{value:59797504 scale:0} d:{Dec:<nil>} s:58396Ki Format:BinarySI}]}]}
I0412 16:48:15.546931       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1392273 scale:-9} d:{Dec:<nil>} s:1392273n Format:DecimalSI}, 2
I0412 16:48:15.547148       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:48:15.547179       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:48:15.547270       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:48:15.547313       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:48:15.547416       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 15, totalWeight: 19324.934\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.081\n25\t0.081\n30\t0.081\n35\t0.081\n40\t0.110\n45\t0.110\n50\t0.126\n55\t0.126\n60\t0.177\n65\t0.177\n70\t0.177\n75\t0.177\n80\t0.177\n85\t0.177\n90\t0.237\n95\t0.237\n100\t0.237:
I0412 16:48:15.547436       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841008 ControlledValues:<nil>}:
I0412 16:48:15.547483       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:271 memory:476450463]
I0412 16:48:15.547502       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:48:15.547514       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:142 memory:36187970]
I0412 16:48:15.547524       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:48:15.547539       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:517 memory:909268463]
I0412 16:48:15.547546       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:48:15.564303       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be000} GetBody:0x6d9b40 ContentLength:418 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be090 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[28c664ec-f884-4d17-847c-0cd660ee10e9] Cache-Control:[no-cache, private] Content-Length:[2257] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc180} ContentLength:2257 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1200 TLS:0xc0005220b0}
I0412 16:48:15.587816       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bee40} GetBody:0x6d9b40 ContentLength:554 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bef00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e680e0e2-b6f2-468b-83bc-333e589fb0b7] Cache-Control:[no-cache, private] Content-Length:[1547] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:1547 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1b00 TLS:0xc0005220b0}
I0412 16:48:15.588036       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:48:15.588048       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 16:48:15.588061       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:48:15.588066       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:48:15.588084       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:48:15.595678       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf770 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b29026eb-55fe-4043-b5b9-a5a125f1961b] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccd80} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f45a0 TLS:0xc0005220b0}
I0412 16:48:15.603987       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0720 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[712f97a5-b4ae-4321-95d4-7657def51388] Cache-Control:[no-cache, private] Content-Length:[1700] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472c00} ContentLength:1700 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214fc0 TLS:0xc0005220b0}
I0412 16:48:15.611930       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0f60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[13355a96-0237-42f0-8c2c-62a6752f90d3] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473200} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364480 TLS:0xc0005220b0}
I0412 16:48:15.628776       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1710 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0ee0b130-0616-48d6-aed2-89c11e99513a] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473380} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364b40 TLS:0xc0005220b0}
I0412 16:48:15.635542       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1ce0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c074c039-d6ea-480c-8d9b-bdd5de86f3a5] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473500} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003657a0 TLS:0xc0005220b0}
I0412 16:48:15.646379       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c570 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0ff7da64-2336-4c84-b8d4-feffb7050376] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ac60 TLS:0xc0005220b0}
I0412 16:48:15.646500       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:49:00.936223       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 19 items received
I0412 16:49:15.532149       1 recommender.go:166] Recommender Run
I0412 16:49:15.532381       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:49:15.532414       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:49:15.532972       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:49:15.547470       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986c30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a88cc8ce-10d3-4e4c-b11d-867c35e8b090 a88cc8ce-10d3-4e4c-b11d-867c35e8b090] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473800} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6c60 TLS:0xc0005220b0}
I0412 16:49:15.549025       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:49:15.549199       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-df5wg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:58 +0000 UTC Window:{Duration:14.009s} Containers:[{Name:workload Usage:map[cpu:{i:{value:229727175 scale:-9} d:{Dec:<nil>} s:229727175n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:49:15.549298       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:229727175 scale:-9} d:{Dec:<nil>} s:229727175n Format:DecimalSI}, 230
I0412 16:49:15.549439       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-hwl8l GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:56 +0000 UTC Window:{Duration:17.233s} Containers:[{Name:workload Usage:map[cpu:{i:{value:160723959 scale:-9} d:{Dec:<nil>} s:160723959n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:49:15.549457       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160723959 scale:-9} d:{Dec:<nil>} s:160723959n Format:DecimalSI}, 161
I0412 16:49:15.549531       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:11 +0000 UTC Window:{Duration:29.665s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2086836 scale:-9} d:{Dec:<nil>} s:2086836n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:49:15.549550       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2086836 scale:-9} d:{Dec:<nil>} s:2086836n Format:DecimalSI}, 3
I0412 16:49:15.549602       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:00 +0000 UTC Window:{Duration:17.137s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10299585 scale:-9} d:{Dec:<nil>} s:10299585n Format:DecimalSI} memory:{i:{value:169553920 scale:0} d:{Dec:<nil>} s:165580Ki Format:BinarySI}]}]}
I0412 16:49:15.549617       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10299585 scale:-9} d:{Dec:<nil>} s:10299585n Format:DecimalSI}, 11
I0412 16:49:15.549672       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:07 +0000 UTC Window:{Duration:21.11s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2257460 scale:-9} d:{Dec:<nil>} s:2257460n Format:DecimalSI} memory:{i:{value:14606336 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:49:15.549711       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2257460 scale:-9} d:{Dec:<nil>} s:2257460n Format:DecimalSI}, 3
I0412 16:49:15.549778       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:03 +0000 UTC Window:{Duration:18.823s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:49:15.549796       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:49:15.549804       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:49:15.549839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:08 +0000 UTC Window:{Duration:19.425s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1614980 scale:-9} d:{Dec:<nil>} s:1614980n Format:DecimalSI} memory:{i:{value:7053312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:49:15.549847       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1614980 scale:-9} d:{Dec:<nil>} s:1614980n Format:DecimalSI}, 2
I0412 16:49:15.549880       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:56 +0000 UTC Window:{Duration:25.633s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:403581 scale:-9} d:{Dec:<nil>} s:403581n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:49:15.549894       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:403581 scale:-9} d:{Dec:<nil>} s:403581n Format:DecimalSI}, 1
I0412 16:49:15.549939       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:11 +0000 UTC Window:{Duration:15.131s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3523362 scale:-9} d:{Dec:<nil>} s:3523362n Format:DecimalSI} memory:{i:{value:19738624 scale:0} d:{Dec:<nil>} s:19276Ki Format:BinarySI}]}]}
I0412 16:49:15.549946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3523362 scale:-9} d:{Dec:<nil>} s:3523362n Format:DecimalSI}, 4
I0412 16:49:15.549980       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:03 +0000 UTC Window:{Duration:16.462s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:313692 scale:-9} d:{Dec:<nil>} s:313692n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:49:15.549986       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:313692 scale:-9} d:{Dec:<nil>} s:313692n Format:DecimalSI}, 1
I0412 16:49:15.550048       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:48:59 +0000 UTC Window:{Duration:17.02s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:131198 scale:-9} d:{Dec:<nil>} s:131198n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:49:15.550070       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:131198 scale:-9} d:{Dec:<nil>} s:131198n Format:DecimalSI}, 1
I0412 16:49:15.550145       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:10 +0000 UTC Window:{Duration:15.542s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:198880 scale:-9} d:{Dec:<nil>} s:198880n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:49:15.550161       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:198880 scale:-9} d:{Dec:<nil>} s:198880n Format:DecimalSI}, 1
I0412 16:49:15.550197       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:05 +0000 UTC Window:{Duration:11.187s} Containers:[{Name:updater Usage:map[cpu:{i:{value:35130 scale:-9} d:{Dec:<nil>} s:35130n Format:DecimalSI} memory:{i:{value:12025856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:49:15.550204       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:35130 scale:-9} d:{Dec:<nil>} s:35130n Format:DecimalSI}, 1
I0412 16:49:15.550238       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:01 +0000 UTC Window:{Duration:17.947s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1199309 scale:-9} d:{Dec:<nil>} s:1199309n Format:DecimalSI} memory:{i:{value:59822080 scale:0} d:{Dec:<nil>} s:58420Ki Format:BinarySI}]}]}
I0412 16:49:15.550321       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1199309 scale:-9} d:{Dec:<nil>} s:1199309n Format:DecimalSI}, 2
I0412 16:49:15.550691       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:49:15.550738       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:49:15.550881       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:49:15.550934       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:49:15.551082       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 15, totalWeight: 22157.857\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.081\n20\t0.081\n25\t0.081\n30\t0.081\n35\t0.110\n40\t0.110\n45\t0.126\n50\t0.177\n55\t0.177\n60\t0.177\n65\t0.177\n70\t0.177\n75\t0.177\n80\t0.177\n85\t0.237\n90\t0.237\n95\t0.237\n100\t0.237:
I0412 16:49:15.551109       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991068 ControlledValues:<nil>}:
I0412 16:49:15.551181       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:271 memory:476450463]
I0412 16:49:15.551217       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:49:15.551241       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:202 memory:36188004]
I0412 16:49:15.551250       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:49:15.551270       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:517 memory:909045593]
I0412 16:49:15.551286       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:49:15.567722       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000795710} GetBody:0x6d9b40 ContentLength:418 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007957a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5e32de91-033e-481b-869c-686377d3d85e] Cache-Control:[no-cache, private] Content-Length:[2257] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473980} ContentLength:2257 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cfc0 TLS:0xc0005220b0}
I0412 16:49:15.576706       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882120} GetBody:0x6d9b40 ContentLength:554 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882240 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0edd3871-aba8-4024-9b52-e769d129fd08] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c240 TLS:0xc0005220b0}
I0412 16:49:15.596109       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc00089d3e0} GetBody:0x6d9b40 ContentLength:736 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d470 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c691a015-8629-4b75-8abf-86ca61d13461] Cache-Control:[no-cache, private] Content-Length:[1546] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:1546 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b680 TLS:0xc0005220b0}
I0412 16:49:15.597450       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:49:15.597487       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:49:19.740950       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 17 items received
I0412 16:49:54.157852       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 16:50:15.531867       1 recommender.go:166] Recommender Run
I0412 16:50:15.532046       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:50:15.532151       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:50:15.532520       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:50:15.533495       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-hwl8l}
I0412 16:50:15.549129       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[69564232-afbd-4f52-93f8-67b42c4ba4c3 69564232-afbd-4f52-93f8-67b42c4ba4c3] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd080} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 16:50:15.549849       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:50:15.549941       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-df5wg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:05 +0000 UTC Window:{Duration:19.968s} Containers:[{Name:workload Usage:map[cpu:{i:{value:229993489 scale:-9} d:{Dec:<nil>} s:229993489n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.549963       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:229993489 scale:-9} d:{Dec:<nil>} s:229993489n Format:DecimalSI}, 230
I0412 16:50:15.550011       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:11 +0000 UTC Window:{Duration:23.331s} Containers:[{Name:workload Usage:map[cpu:{i:{value:299544768 scale:-9} d:{Dec:<nil>} s:299544768n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.550021       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:299544768 scale:-9} d:{Dec:<nil>} s:299544768n Format:DecimalSI}, 300
I0412 16:50:15.550061       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:03 +0000 UTC Window:{Duration:11.766s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2259391 scale:-9} d:{Dec:<nil>} s:2259391n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.550068       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2259391 scale:-9} d:{Dec:<nil>} s:2259391n Format:DecimalSI}, 3
I0412 16:50:15.550109       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:03 +0000 UTC Window:{Duration:20.001s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12826708 scale:-9} d:{Dec:<nil>} s:12826708n Format:DecimalSI} memory:{i:{value:171421696 scale:0} d:{Dec:<nil>} s:167404Ki Format:BinarySI}]}]}
I0412 16:50:15.550129       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12826708 scale:-9} d:{Dec:<nil>} s:12826708n Format:DecimalSI}, 13
I0412 16:50:15.550179       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:11 +0000 UTC Window:{Duration:16.361s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1620011 scale:-9} d:{Dec:<nil>} s:1620011n Format:DecimalSI} memory:{i:{value:14602240 scale:0} d:{Dec:<nil>} s:14260Ki Format:BinarySI}]}]}
I0412 16:50:15.550197       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1620011 scale:-9} d:{Dec:<nil>} s:1620011n Format:DecimalSI}, 2
I0412 16:50:15.550243       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:06 +0000 UTC Window:{Duration:23.663s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:50:15.550261       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:50:15.550270       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:50:15.550305       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:06 +0000 UTC Window:{Duration:16.41s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1334125 scale:-9} d:{Dec:<nil>} s:1334125n Format:DecimalSI} memory:{i:{value:7110656 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.550327       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1334125 scale:-9} d:{Dec:<nil>} s:1334125n Format:DecimalSI}, 2
I0412 16:50:15.550383       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:03 +0000 UTC Window:{Duration:15.977s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:472429 scale:-9} d:{Dec:<nil>} s:472429n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.550391       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:472429 scale:-9} d:{Dec:<nil>} s:472429n Format:DecimalSI}, 1
I0412 16:50:15.550426       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:03 +0000 UTC Window:{Duration:16.387s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3233782 scale:-9} d:{Dec:<nil>} s:3233782n Format:DecimalSI} memory:{i:{value:19329024 scale:0} d:{Dec:<nil>} s:18876Ki Format:BinarySI}]}]}
I0412 16:50:15.550491       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3233782 scale:-9} d:{Dec:<nil>} s:3233782n Format:DecimalSI}, 4
I0412 16:50:15.550544       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:03 +0000 UTC Window:{Duration:12.463s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:422289 scale:-9} d:{Dec:<nil>} s:422289n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:50:15.550552       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:422289 scale:-9} d:{Dec:<nil>} s:422289n Format:DecimalSI}, 1
I0412 16:50:15.550587       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:02 +0000 UTC Window:{Duration:12.026s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:195659 scale:-9} d:{Dec:<nil>} s:195659n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.550602       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:195659 scale:-9} d:{Dec:<nil>} s:195659n Format:DecimalSI}, 1
I0412 16:50:15.550639       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:57 +0000 UTC Window:{Duration:29.672s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:439033 scale:-9} d:{Dec:<nil>} s:439033n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:50:15.550659       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:439033 scale:-9} d:{Dec:<nil>} s:439033n Format:DecimalSI}, 1
I0412 16:50:15.550692       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:10 +0000 UTC Window:{Duration:16.686s} Containers:[{Name:updater Usage:map[cpu:{i:{value:100743 scale:-9} d:{Dec:<nil>} s:100743n Format:DecimalSI} memory:{i:{value:12034048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.550707       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:100743 scale:-9} d:{Dec:<nil>} s:100743n Format:DecimalSI}, 1
I0412 16:50:15.550742       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:49:57 +0000 UTC Window:{Duration:16.291s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1452458 scale:-9} d:{Dec:<nil>} s:1452458n Format:DecimalSI} memory:{i:{value:59908096 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:50:15.550749       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1452458 scale:-9} d:{Dec:<nil>} s:1452458n Format:DecimalSI}, 2
I0412 16:50:15.550871       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:50:15.550894       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:50:15.550949       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:50:15.550968       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:50:15.551014       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 18, totalWeight: 25495.868\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.081\n20\t0.081\n25\t0.081\n30\t0.110\n35\t0.126\n40\t0.126\n45\t0.177\n50\t0.177\n55\t0.177\n60\t0.177\n65\t0.177\n70\t0.177\n75\t0.237\n80\t0.237\n85\t0.237\n90\t0.237\n95\t0.305\n100\t0.305:
I0412 16:50:15.551033       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991f38 ControlledValues:<nil>}:
I0412 16:50:15.551065       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:350 memory:476450463]
I0412 16:50:15.551076       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:50:15.551088       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:202 memory:442007570]
I0412 16:50:15.551104       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:50:15.551115       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:667 memory:908713987]
I0412 16:50:15.551122       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:50:15.578872       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0480} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0510 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cb4337bb-a6d4-4101-8e77-5df7a04a8773] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9c80} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0c60 TLS:0xc0005220b0}
I0412 16:50:15.599719       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794d50} GetBody:0x6d9b40 ContentLength:563 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794de0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[485cae5f-a229-4f07-a179-27b39788a988] Cache-Control:[no-cache, private] Content-Length:[1565] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd500} ContentLength:1565 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d200 TLS:0xc0005220b0}
I0412 16:50:15.599963       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:50:15.599998       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:51:15.532870       1 recommender.go:166] Recommender Run
I0412 16:51:15.533071       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:51:15.533096       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:51:15.533645       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:51:15.549627       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1200 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[07861e13-d07e-4f4b-817d-e28da4bf9e2e 07861e13-d07e-4f4b-817d-e28da4bf9e2e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1440 TLS:0xc0005220b0}
I0412 16:51:15.550903       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:51:15.551043       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-df5wg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:10 +0000 UTC Window:{Duration:26.611s} Containers:[{Name:workload Usage:map[cpu:{i:{value:229985419 scale:-9} d:{Dec:<nil>} s:229985419n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:51:15.551143       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:229985419 scale:-9} d:{Dec:<nil>} s:229985419n Format:DecimalSI}, 230
I0412 16:51:15.551238       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:05 +0000 UTC Window:{Duration:18.139s} Containers:[{Name:workload Usage:map[cpu:{i:{value:300962125 scale:-9} d:{Dec:<nil>} s:300962125n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:51:15.551258       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:300962125 scale:-9} d:{Dec:<nil>} s:300962125n Format:DecimalSI}, 301
I0412 16:51:15.551335       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:00 +0000 UTC Window:{Duration:10.805s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2001388 scale:-9} d:{Dec:<nil>} s:2001388n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:51:15.551354       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2001388 scale:-9} d:{Dec:<nil>} s:2001388n Format:DecimalSI}, 3
I0412 16:51:15.551396       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:59 +0000 UTC Window:{Duration:18.544s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12009383 scale:-9} d:{Dec:<nil>} s:12009383n Format:DecimalSI} memory:{i:{value:170029056 scale:0} d:{Dec:<nil>} s:166044Ki Format:BinarySI}]}]}
I0412 16:51:15.551414       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12009383 scale:-9} d:{Dec:<nil>} s:12009383n Format:DecimalSI}, 13
I0412 16:51:15.551450       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:02 +0000 UTC Window:{Duration:12.819s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1710585 scale:-9} d:{Dec:<nil>} s:1710585n Format:DecimalSI} memory:{i:{value:14852096 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:51:15.551457       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1710585 scale:-9} d:{Dec:<nil>} s:1710585n Format:DecimalSI}, 2
I0412 16:51:15.551533       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:03 +0000 UTC Window:{Duration:11.255s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:51:15.551589       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:51:15.551600       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:51:15.551679       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:06 +0000 UTC Window:{Duration:16.128s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1613529 scale:-9} d:{Dec:<nil>} s:1613529n Format:DecimalSI} memory:{i:{value:7127040 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:51:15.551715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1613529 scale:-9} d:{Dec:<nil>} s:1613529n Format:DecimalSI}, 2
I0412 16:51:15.551754       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:06 +0000 UTC Window:{Duration:11.08s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:784476 scale:-9} d:{Dec:<nil>} s:784476n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:51:15.551761       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:784476 scale:-9} d:{Dec:<nil>} s:784476n Format:DecimalSI}, 1
I0412 16:51:15.551821       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:10 +0000 UTC Window:{Duration:27.316s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3422829 scale:-9} d:{Dec:<nil>} s:3422829n Format:DecimalSI} memory:{i:{value:19329024 scale:0} d:{Dec:<nil>} s:18876Ki Format:BinarySI}]}]}
I0412 16:51:15.551837       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3422829 scale:-9} d:{Dec:<nil>} s:3422829n Format:DecimalSI}, 4
I0412 16:51:15.551872       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:04 +0000 UTC Window:{Duration:14.067s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:425392 scale:-9} d:{Dec:<nil>} s:425392n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:51:15.551879       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:425392 scale:-9} d:{Dec:<nil>} s:425392n Format:DecimalSI}, 1
I0412 16:51:15.551970       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:50:58 +0000 UTC Window:{Duration:12.349s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:145598 scale:-9} d:{Dec:<nil>} s:145598n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:51:15.551991       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:145598 scale:-9} d:{Dec:<nil>} s:145598n Format:DecimalSI}, 1
I0412 16:51:15.552059       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:11 +0000 UTC Window:{Duration:23.736s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:126600 scale:-9} d:{Dec:<nil>} s:126600n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:51:15.552128       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:126600 scale:-9} d:{Dec:<nil>} s:126600n Format:DecimalSI}, 1
I0412 16:51:15.552267       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:08 +0000 UTC Window:{Duration:11.666s} Containers:[{Name:updater Usage:map[cpu:{i:{value:68832 scale:-9} d:{Dec:<nil>} s:68832n Format:DecimalSI} memory:{i:{value:12038144 scale:0} d:{Dec:<nil>} s:11756Ki Format:BinarySI}]}]}
I0412 16:51:15.552313       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:68832 scale:-9} d:{Dec:<nil>} s:68832n Format:DecimalSI}, 1
I0412 16:51:15.552365       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:02 +0000 UTC Window:{Duration:14.881s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1308043 scale:-9} d:{Dec:<nil>} s:1308043n Format:DecimalSI} memory:{i:{value:59592704 scale:0} d:{Dec:<nil>} s:58196Ki Format:BinarySI}]}]}
I0412 16:51:15.552381       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1308043 scale:-9} d:{Dec:<nil>} s:1308043n Format:DecimalSI}, 2
I0412 16:51:15.552666       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:51:15.552704       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:51:15.552781       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:51:15.552893       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:51:15.552998       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 18, totalWeight: 29325.782\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.081\n20\t0.081\n25\t0.110\n30\t0.110\n35\t0.126\n40\t0.177\n45\t0.177\n50\t0.177\n55\t0.177\n60\t0.177\n65\t0.237\n70\t0.237\n75\t0.237\n80\t0.237\n85\t0.237\n90\t0.305\n95\t0.305\n100\t0.305:
I0412 16:51:15.553020       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450f00 ControlledValues:<nil>}:
I0412 16:51:15.553083       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:350 memory:476450463]
I0412 16:51:15.553094       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:51:15.553106       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:202 memory:442008066]
I0412 16:51:15.553114       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:51:15.553134       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:667 memory:908446349]
I0412 16:51:15.553156       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:51:15.698367       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000583110} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be030 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e76cafd3-9817-4b6a-a5f5-4683d22e4dc6] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002150e0 TLS:0xc0005220b0}
I0412 16:51:15.713068       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bec30} GetBody:0x6d9b40 ContentLength:564 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005becc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a1735c02-6abf-4c45-8c8d-a83193178730] Cache-Control:[no-cache, private] Content-Length:[1566] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:1566 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364900 TLS:0xc0005220b0}
I0412 16:51:15.713352       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:51:15.713387       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:51:42.529624       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 23 items received
I0412 16:52:08.073239       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 6 items received
I0412 16:52:15.532687       1 recommender.go:166] Recommender Run
I0412 16:52:15.532855       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:52:15.532920       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:52:15.533039       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:52:15.548086       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9cdeb0ad-bccd-4c60-8031-5e55b69a637e 9cdeb0ad-bccd-4c60-8031-5e55b69a637e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364900 TLS:0xc0005220b0}
I0412 16:52:15.548751       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:52:15.548817       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-df5wg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:04 +0000 UTC Window:{Duration:11.119s} Containers:[{Name:workload Usage:map[cpu:{i:{value:229304883 scale:-9} d:{Dec:<nil>} s:229304883n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.548856       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:229304883 scale:-9} d:{Dec:<nil>} s:229304883n Format:DecimalSI}, 230
I0412 16:52:15.548890       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:07 +0000 UTC Window:{Duration:18.053s} Containers:[{Name:workload Usage:map[cpu:{i:{value:299120312 scale:-9} d:{Dec:<nil>} s:299120312n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.548917       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:299120312 scale:-9} d:{Dec:<nil>} s:299120312n Format:DecimalSI}, 300
I0412 16:52:15.548949       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:00 +0000 UTC Window:{Duration:10.329s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2081711 scale:-9} d:{Dec:<nil>} s:2081711n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:52:15.548967       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2081711 scale:-9} d:{Dec:<nil>} s:2081711n Format:DecimalSI}, 3
I0412 16:52:15.549024       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:05 +0000 UTC Window:{Duration:15.45s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12790097 scale:-9} d:{Dec:<nil>} s:12790097n Format:DecimalSI} memory:{i:{value:168632320 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.549030       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12790097 scale:-9} d:{Dec:<nil>} s:12790097n Format:DecimalSI}, 13
I0412 16:52:15.549056       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:09 +0000 UTC Window:{Duration:28.396s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2114417 scale:-9} d:{Dec:<nil>} s:2114417n Format:DecimalSI} memory:{i:{value:14614528 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.549062       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2114417 scale:-9} d:{Dec:<nil>} s:2114417n Format:DecimalSI}, 3
I0412 16:52:15.549098       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:00 +0000 UTC Window:{Duration:13.985s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:52:15.549112       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:52:15.549118       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:52:15.549149       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:08 +0000 UTC Window:{Duration:17.852s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1178579 scale:-9} d:{Dec:<nil>} s:1178579n Format:DecimalSI} memory:{i:{value:7118848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.549153       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1178579 scale:-9} d:{Dec:<nil>} s:1178579n Format:DecimalSI}, 2
I0412 16:52:15.549169       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:58 +0000 UTC Window:{Duration:18.98s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1428292 scale:-9} d:{Dec:<nil>} s:1428292n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.549184       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1428292 scale:-9} d:{Dec:<nil>} s:1428292n Format:DecimalSI}, 2
I0412 16:52:15.549216       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:03 +0000 UTC Window:{Duration:18.108s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2977302 scale:-9} d:{Dec:<nil>} s:2977302n Format:DecimalSI} memory:{i:{value:19329024 scale:0} d:{Dec:<nil>} s:18876Ki Format:BinarySI}]}]}
I0412 16:52:15.549237       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2977302 scale:-9} d:{Dec:<nil>} s:2977302n Format:DecimalSI}, 3
I0412 16:52:15.549270       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:59 +0000 UTC Window:{Duration:10.365s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:224023 scale:-9} d:{Dec:<nil>} s:224023n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:52:15.549284       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:224023 scale:-9} d:{Dec:<nil>} s:224023n Format:DecimalSI}, 1
I0412 16:52:15.549318       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:01 +0000 UTC Window:{Duration:14.743s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1019466 scale:-9} d:{Dec:<nil>} s:1019466n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.549331       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1019466 scale:-9} d:{Dec:<nil>} s:1019466n Format:DecimalSI}, 2
I0412 16:52:15.549358       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:10 +0000 UTC Window:{Duration:23.613s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:273620 scale:-9} d:{Dec:<nil>} s:273620n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:52:15.549363       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:273620 scale:-9} d:{Dec:<nil>} s:273620n Format:DecimalSI}, 1
I0412 16:52:15.549398       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:56 +0000 UTC Window:{Duration:27.056s} Containers:[{Name:updater Usage:map[cpu:{i:{value:267888 scale:-9} d:{Dec:<nil>} s:267888n Format:DecimalSI} memory:{i:{value:12034048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:52:15.549404       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:267888 scale:-9} d:{Dec:<nil>} s:267888n Format:DecimalSI}, 1
I0412 16:52:15.549438       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:51:53 +0000 UTC Window:{Duration:16.83s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1044622 scale:-9} d:{Dec:<nil>} s:1044622n Format:DecimalSI} memory:{i:{value:59592704 scale:0} d:{Dec:<nil>} s:58196Ki Format:BinarySI}]}]}
I0412 16:52:15.549447       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1044622 scale:-9} d:{Dec:<nil>} s:1044622n Format:DecimalSI}, 2
I0412 16:52:15.549617       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:52:15.549639       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:52:15.549680       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:52:15.549716       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:52:15.549779       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 18, totalWeight: 33704.867\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.081\n15\t0.081\n20\t0.081\n25\t0.110\n30\t0.126\n35\t0.177\n40\t0.177\n45\t0.177\n50\t0.177\n55\t0.237\n60\t0.237\n65\t0.237\n70\t0.237\n75\t0.237\n80\t0.237\n85\t0.305\n90\t0.305\n95\t0.305\n100\t0.305:
I0412 16:52:15.549796       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990798 ControlledValues:<nil>}:
I0412 16:52:15.549827       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:350 memory:476450463]
I0412 16:52:15.549840       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:52:15.549858       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:202 memory:442008545]
I0412 16:52:15.549864       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:52:15.549871       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:667 memory:908188097]
I0412 16:52:15.549878       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:52:15.569135       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bfe30} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bfec0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[17b07a5e-e71d-4e66-b44f-12a8c480bd80] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 16:52:15.585288       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882c60} GetBody:0x6d9b40 ContentLength:564 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882d20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d95116e5-9e5b-49e8-9a5a-9657cf33a242] Cache-Control:[no-cache, private] Content-Length:[1566] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccd80} ContentLength:1566 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074c240 TLS:0xc0005220b0}
I0412 16:52:15.585529       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:52:15.585551       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:52:44.284228       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 2 items received
I0412 16:53:14.360953       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 0 items received
I0412 16:53:15.532223       1 recommender.go:166] Recommender Run
I0412 16:53:15.532346       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:53:15.532427       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:53:15.532646       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:53:15.554518       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795350 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[86d9c36a-e098-4b79-b15c-12490c482854 86d9c36a-e098-4b79-b15c-12490c482854] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365680 TLS:0xc0005220b0}
I0412 16:53:15.555134       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:53:15.555191       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-df5wg GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:06 +0000 UTC Window:{Duration:10.688s} Containers:[{Name:workload Usage:map[cpu:{i:{value:230054453 scale:-9} d:{Dec:<nil>} s:230054453n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:53:15.555200       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:230054453 scale:-9} d:{Dec:<nil>} s:230054453n Format:DecimalSI}, 231
I0412 16:53:15.555230       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:03 +0000 UTC Window:{Duration:12.753s} Containers:[{Name:workload Usage:map[cpu:{i:{value:299513918 scale:-9} d:{Dec:<nil>} s:299513918n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:53:15.555237       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:299513918 scale:-9} d:{Dec:<nil>} s:299513918n Format:DecimalSI}, 300
I0412 16:53:15.555261       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:07 +0000 UTC Window:{Duration:18.505s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2203836 scale:-9} d:{Dec:<nil>} s:2203836n Format:DecimalSI} memory:{i:{value:32075776 scale:0} d:{Dec:<nil>} s:31324Ki Format:BinarySI}]}]}
I0412 16:53:15.555268       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2203836 scale:-9} d:{Dec:<nil>} s:2203836n Format:DecimalSI}, 3
I0412 16:53:15.555288       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:01 +0000 UTC Window:{Duration:10.064s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12522655 scale:-9} d:{Dec:<nil>} s:12522655n Format:DecimalSI} memory:{i:{value:168636416 scale:0} d:{Dec:<nil>} s:164684Ki Format:BinarySI}]}]}
I0412 16:53:15.555325       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12522655 scale:-9} d:{Dec:<nil>} s:12522655n Format:DecimalSI}, 13
I0412 16:53:15.555352       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:04 +0000 UTC Window:{Duration:11.461s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1694529 scale:-9} d:{Dec:<nil>} s:1694529n Format:DecimalSI} memory:{i:{value:14602240 scale:0} d:{Dec:<nil>} s:14260Ki Format:BinarySI}]}]}
I0412 16:53:15.555359       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1694529 scale:-9} d:{Dec:<nil>} s:1694529n Format:DecimalSI}, 2
I0412 16:53:15.555404       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:54 +0000 UTC Window:{Duration:19.776s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:53:15.555417       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:53:15.555422       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:53:15.555443       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:07 +0000 UTC Window:{Duration:19.647s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1295770 scale:-9} d:{Dec:<nil>} s:1295770n Format:DecimalSI} memory:{i:{value:6922240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:53:15.555450       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1295770 scale:-9} d:{Dec:<nil>} s:1295770n Format:DecimalSI}, 2
I0412 16:53:15.555472       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:10 +0000 UTC Window:{Duration:23.339s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:418912 scale:-9} d:{Dec:<nil>} s:418912n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 16:53:15.555477       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:418912 scale:-9} d:{Dec:<nil>} s:418912n Format:DecimalSI}, 1
I0412 16:53:15.555495       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:57 +0000 UTC Window:{Duration:13.166s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2996657 scale:-9} d:{Dec:<nil>} s:2996657n Format:DecimalSI} memory:{i:{value:19329024 scale:0} d:{Dec:<nil>} s:18876Ki Format:BinarySI}]}]}
I0412 16:53:15.555498       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2996657 scale:-9} d:{Dec:<nil>} s:2996657n Format:DecimalSI}, 3
I0412 16:53:15.555515       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:01 +0000 UTC Window:{Duration:16.779s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:260682 scale:-9} d:{Dec:<nil>} s:260682n Format:DecimalSI} memory:{i:{value:9793536 scale:0} d:{Dec:<nil>} s:9564Ki Format:BinarySI}]}]}
I0412 16:53:15.555522       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:260682 scale:-9} d:{Dec:<nil>} s:260682n Format:DecimalSI}, 1
I0412 16:53:15.555549       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:05 +0000 UTC Window:{Duration:14.399s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:128064 scale:-9} d:{Dec:<nil>} s:128064n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:53:15.555554       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:128064 scale:-9} d:{Dec:<nil>} s:128064n Format:DecimalSI}, 1
I0412 16:53:15.555571       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:01 +0000 UTC Window:{Duration:16.24s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:192487 scale:-9} d:{Dec:<nil>} s:192487n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:53:15.555575       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:192487 scale:-9} d:{Dec:<nil>} s:192487n Format:DecimalSI}, 1
I0412 16:53:15.555593       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:54 +0000 UTC Window:{Duration:18.852s} Containers:[{Name:updater Usage:map[cpu:{i:{value:1028538 scale:-9} d:{Dec:<nil>} s:1028538n Format:DecimalSI} memory:{i:{value:12034048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:53:15.555596       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1028538 scale:-9} d:{Dec:<nil>} s:1028538n Format:DecimalSI}, 2
I0412 16:53:15.555612       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:52:58 +0000 UTC Window:{Duration:10.116s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1938513 scale:-9} d:{Dec:<nil>} s:1938513n Format:DecimalSI} memory:{i:{value:55812096 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:53:15.555622       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1938513 scale:-9} d:{Dec:<nil>} s:1938513n Format:DecimalSI}, 2
I0412 16:53:15.555706       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:53:15.555721       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:53:15.555760       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:53:15.555787       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:53:15.555826       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 18, totalWeight: 38723.506\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.081\n15\t0.081\n20\t0.110\n25\t0.126\n30\t0.177\n35\t0.177\n40\t0.177\n45\t0.177\n50\t0.237\n55\t0.237\n60\t0.237\n65\t0.237\n70\t0.237\n75\t0.237\n80\t0.305\n85\t0.305\n90\t0.305\n95\t0.305\n100\t0.305:
I0412 16:53:15.555835       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840f60 ControlledValues:<nil>}:
I0412 16:53:15.555860       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:350 memory:476450463]
I0412 16:53:15.555865       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:53:15.555872       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:270 memory:442009040]
I0412 16:53:15.555877       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:53:15.555897       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:666 memory:907921109]
I0412 16:53:15.555904       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:53:15.589389       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986ab0} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986b40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7a6f8090-850a-495f-abbc-94db125dce29] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cfc0 TLS:0xc0005220b0}
I0412 16:53:15.656526       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000987560} GetBody:0x6d9b40 ContentLength:563 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0009875f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f8933d42-1963-4f93-8ce4-61366b1e1193] Cache-Control:[no-cache, private] Content-Length:[1565] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1565 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d7a0 TLS:0xc0005220b0}
I0412 16:53:15.656770       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:53:15.656788       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:53:58.801627       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 12 items received
I0412 16:54:15.532692       1 recommender.go:166] Recommender Run
I0412 16:54:15.532792       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:54:15.532872       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:54:15.536660       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:54:15.536892       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-df5wg}
I0412 16:54:15.547693       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007639b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1e18a127-b964-4f32-80d5-64f1b5773228 1e18a127-b964-4f32-80d5-64f1b5773228] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d560 TLS:0xc0005220b0}
I0412 16:54:15.548382       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:54:15.548462       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:57 +0000 UTC Window:{Duration:755ms} Containers:[{Name:workload Usage:map[cpu:{i:{value:365492715 scale:-9} d:{Dec:<nil>} s:365492715n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 16:54:15.548477       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:365492715 scale:-9} d:{Dec:<nil>} s:365492715n Format:DecimalSI}, 366
I0412 16:54:15.548579       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:02 +0000 UTC Window:{Duration:12.688s} Containers:[{Name:workload Usage:map[cpu:{i:{value:300144467 scale:-9} d:{Dec:<nil>} s:300144467n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:54:15.548592       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:300144467 scale:-9} d:{Dec:<nil>} s:300144467n Format:DecimalSI}, 301
I0412 16:54:15.548670       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:09 +0000 UTC Window:{Duration:15.423s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2226739 scale:-9} d:{Dec:<nil>} s:2226739n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:54:15.548693       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2226739 scale:-9} d:{Dec:<nil>} s:2226739n Format:DecimalSI}, 3
I0412 16:54:15.548732       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:08 +0000 UTC Window:{Duration:17.209s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13950781 scale:-9} d:{Dec:<nil>} s:13950781n Format:DecimalSI} memory:{i:{value:168857600 scale:0} d:{Dec:<nil>} s:164900Ki Format:BinarySI}]}]}
I0412 16:54:15.548743       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13950781 scale:-9} d:{Dec:<nil>} s:13950781n Format:DecimalSI}, 14
I0412 16:54:15.548815       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:04 +0000 UTC Window:{Duration:18.642s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2037335 scale:-9} d:{Dec:<nil>} s:2037335n Format:DecimalSI} memory:{i:{value:14598144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:54:15.548828       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2037335 scale:-9} d:{Dec:<nil>} s:2037335n Format:DecimalSI}, 3
I0412 16:54:15.548870       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:51 +0000 UTC Window:{Duration:13.913s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:54:15.548881       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:54:15.548889       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:54:15.548937       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:09 +0000 UTC Window:{Duration:27.094s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1048128 scale:-9} d:{Dec:<nil>} s:1048128n Format:DecimalSI} memory:{i:{value:6926336 scale:0} d:{Dec:<nil>} s:6764Ki Format:BinarySI}]}]}
I0412 16:54:15.548952       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1048128 scale:-9} d:{Dec:<nil>} s:1048128n Format:DecimalSI}, 2
I0412 16:54:15.548986       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:09 +0000 UTC Window:{Duration:24.838s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1032611 scale:-9} d:{Dec:<nil>} s:1032611n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:54:15.549000       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1032611 scale:-9} d:{Dec:<nil>} s:1032611n Format:DecimalSI}, 2
I0412 16:54:15.549032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:08 +0000 UTC Window:{Duration:20.792s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2956377 scale:-9} d:{Dec:<nil>} s:2956377n Format:DecimalSI} memory:{i:{value:19329024 scale:0} d:{Dec:<nil>} s:18876Ki Format:BinarySI}]}]}
I0412 16:54:15.549046       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2956377 scale:-9} d:{Dec:<nil>} s:2956377n Format:DecimalSI}, 3
I0412 16:54:15.549079       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:56 +0000 UTC Window:{Duration:25.895s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1197451 scale:-9} d:{Dec:<nil>} s:1197451n Format:DecimalSI} memory:{i:{value:9846784 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:54:15.549096       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1197451 scale:-9} d:{Dec:<nil>} s:1197451n Format:DecimalSI}, 2
I0412 16:54:15.549130       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:03 +0000 UTC Window:{Duration:11.112s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1070464 scale:-9} d:{Dec:<nil>} s:1070464n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:54:15.549141       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1070464 scale:-9} d:{Dec:<nil>} s:1070464n Format:DecimalSI}, 2
I0412 16:54:15.549183       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:08 +0000 UTC Window:{Duration:18.078s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:581922 scale:-9} d:{Dec:<nil>} s:581922n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:54:15.549193       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:581922 scale:-9} d:{Dec:<nil>} s:581922n Format:DecimalSI}, 1
I0412 16:54:15.549233       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:53:57 +0000 UTC Window:{Duration:17.736s} Containers:[{Name:updater Usage:map[cpu:{i:{value:277852 scale:-9} d:{Dec:<nil>} s:277852n Format:DecimalSI} memory:{i:{value:12034048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:54:15.549243       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:277852 scale:-9} d:{Dec:<nil>} s:277852n Format:DecimalSI}, 1
I0412 16:54:15.549274       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:02 +0000 UTC Window:{Duration:17.654s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1279483 scale:-9} d:{Dec:<nil>} s:1279483n Format:DecimalSI} memory:{i:{value:55848960 scale:0} d:{Dec:<nil>} s:54540Ki Format:BinarySI}]}]}
I0412 16:54:15.549282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1279483 scale:-9} d:{Dec:<nil>} s:1279483n Format:DecimalSI}, 2
I0412 16:54:15.549463       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:54:15.549488       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:54:15.549545       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:54:15.549578       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:54:15.549672       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 21, totalWeight: 44422.255\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.081\n15\t0.081\n20\t0.110\n25\t0.177\n30\t0.177\n35\t0.177\n40\t0.177\n45\t0.237\n50\t0.237\n55\t0.237\n60\t0.237\n65\t0.237\n70\t0.305\n75\t0.305\n80\t0.305\n85\t0.305\n90\t0.305\n95\t0.385\n100\t0.385:
I0412 16:54:15.549690       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006041e0 ControlledValues:<nil>}:
I0412 16:54:15.549734       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:442 memory:476450463]
I0412 16:54:15.549746       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:54:15.549762       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:270 memory:442009509]
I0412 16:54:15.549779       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:54:15.549789       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:842 memory:907668002]
I0412 16:54:15.549800       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:54:15.561786       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728c00} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728d20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f6b7df1f-018d-4dc5-a267-156d43f62d5c] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cdb00} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0d80 TLS:0xc0005220b0}
I0412 16:54:15.574017       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729980} GetBody:0x6d9b40 ContentLength:571 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729a10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[93d5d9a8-44a9-4a45-ac20-ba864ff3d51b] Cache-Control:[no-cache, private] Content-Length:[1583] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2000} ContentLength:1583 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b17a0 TLS:0xc0005220b0}
I0412 16:54:15.574324       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:54:15.574344       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:54:37.498401       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 3 items received
I0412 16:55:15.532925       1 recommender.go:166] Recommender Run
I0412 16:55:15.533166       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:55:15.533194       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:55:15.533406       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:55:15.551627       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bec60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3a81ab7f-6c86-476b-a77d-f94714d3bfef 3a81ab7f-6c86-476b-a77d-f94714d3bfef] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 16:55:15.553464       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:55:15.553624       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:04 +0000 UTC Window:{Duration:10.597s} Containers:[{Name:workload Usage:map[cpu:{i:{value:389252807 scale:-9} d:{Dec:<nil>} s:389252807n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 16:55:15.553674       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:389252807 scale:-9} d:{Dec:<nil>} s:389252807n Format:DecimalSI}, 390
I0412 16:55:15.553737       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:05 +0000 UTC Window:{Duration:14.3s} Containers:[{Name:workload Usage:map[cpu:{i:{value:299729230 scale:-9} d:{Dec:<nil>} s:299729230n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:55:15.553778       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:299729230 scale:-9} d:{Dec:<nil>} s:299729230n Format:DecimalSI}, 300
I0412 16:55:15.553827       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:06 +0000 UTC Window:{Duration:16.367s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1971833 scale:-9} d:{Dec:<nil>} s:1971833n Format:DecimalSI} memory:{i:{value:32329728 scale:0} d:{Dec:<nil>} s:31572Ki Format:BinarySI}]}]}
I0412 16:55:15.553848       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1971833 scale:-9} d:{Dec:<nil>} s:1971833n Format:DecimalSI}, 2
I0412 16:55:15.553898       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:07 +0000 UTC Window:{Duration:14.397s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11088768 scale:-9} d:{Dec:<nil>} s:11088768n Format:DecimalSI} memory:{i:{value:168861696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:55:15.553920       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11088768 scale:-9} d:{Dec:<nil>} s:11088768n Format:DecimalSI}, 12
I0412 16:55:15.553981       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:10 +0000 UTC Window:{Duration:17.463s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2036076 scale:-9} d:{Dec:<nil>} s:2036076n Format:DecimalSI} memory:{i:{value:14647296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:55:15.553996       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2036076 scale:-9} d:{Dec:<nil>} s:2036076n Format:DecimalSI}, 3
I0412 16:55:15.554062       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:58 +0000 UTC Window:{Duration:10.24s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:55:15.554092       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:55:15.554101       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:55:15.554145       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:54:55 +0000 UTC Window:{Duration:14.748s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1284852 scale:-9} d:{Dec:<nil>} s:1284852n Format:DecimalSI} memory:{i:{value:6983680 scale:0} d:{Dec:<nil>} s:6820Ki Format:BinarySI}]}]}
I0412 16:55:15.554161       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1284852 scale:-9} d:{Dec:<nil>} s:1284852n Format:DecimalSI}, 2
I0412 16:55:15.554221       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:08 +0000 UTC Window:{Duration:13.824s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1278428 scale:-9} d:{Dec:<nil>} s:1278428n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:55:15.554228       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1278428 scale:-9} d:{Dec:<nil>} s:1278428n Format:DecimalSI}, 2
I0412 16:55:15.554292       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:03 +0000 UTC Window:{Duration:12.531s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3146357 scale:-9} d:{Dec:<nil>} s:3146357n Format:DecimalSI} memory:{i:{value:19333120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:55:15.554303       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3146357 scale:-9} d:{Dec:<nil>} s:3146357n Format:DecimalSI}, 4
I0412 16:55:15.554346       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:05 +0000 UTC Window:{Duration:17.455s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:400458 scale:-9} d:{Dec:<nil>} s:400458n Format:DecimalSI} memory:{i:{value:9854976 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:55:15.554353       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:400458 scale:-9} d:{Dec:<nil>} s:400458n Format:DecimalSI}, 1
I0412 16:55:15.554388       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:01 +0000 UTC Window:{Duration:17.72s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:152652 scale:-9} d:{Dec:<nil>} s:152652n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:55:15.554395       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:152652 scale:-9} d:{Dec:<nil>} s:152652n Format:DecimalSI}, 1
I0412 16:55:15.554428       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:07 +0000 UTC Window:{Duration:15.543s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:222222 scale:-9} d:{Dec:<nil>} s:222222n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:55:15.554434       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:222222 scale:-9} d:{Dec:<nil>} s:222222n Format:DecimalSI}, 1
I0412 16:55:15.554467       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:11 +0000 UTC Window:{Duration:26.771s} Containers:[{Name:updater Usage:map[cpu:{i:{value:233835 scale:-9} d:{Dec:<nil>} s:233835n Format:DecimalSI} memory:{i:{value:12087296 scale:0} d:{Dec:<nil>} s:11804Ki Format:BinarySI}]}]}
I0412 16:55:15.554486       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:233835 scale:-9} d:{Dec:<nil>} s:233835n Format:DecimalSI}, 1
I0412 16:55:15.554521       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:07 +0000 UTC Window:{Duration:10.868s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:480493 scale:-9} d:{Dec:<nil>} s:480493n Format:DecimalSI} memory:{i:{value:59060224 scale:0} d:{Dec:<nil>} s:57676Ki Format:BinarySI}]}]}
I0412 16:55:15.554527       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:480493 scale:-9} d:{Dec:<nil>} s:480493n Format:DecimalSI}, 1
I0412 16:55:15.554775       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:55:15.554808       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:55:15.554896       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:55:15.554935       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:55:15.555041       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 22, totalWeight: 51044.354\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.081\n15\t0.110\n20\t0.126\n25\t0.177\n30\t0.177\n35\t0.177\n40\t0.237\n45\t0.237\n50\t0.237\n55\t0.237\n60\t0.305\n65\t0.305\n70\t0.305\n75\t0.305\n80\t0.305\n85\t0.305\n90\t0.385\n95\t0.414\n100\t0.414:
I0412 16:55:15.555066       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009904f8 ControlledValues:<nil>}:
I0412 16:55:15.555114       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:476 memory:476450463]
I0412 16:55:15.555125       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:55:15.555137       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:270 memory:442010036]
I0412 16:55:15.555160       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:55:15.555239       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:906 memory:907383612]
I0412 16:55:15.555307       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:55:15.573546       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0cc0} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0d50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2cc08675-bdf2-43e3-9975-01b365d9e003] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2600} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215560 TLS:0xc0005220b0}
I0412 16:55:15.596778       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882a20} GetBody:0x6d9b40 ContentLength:582 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882ae0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[446b66fb-ff75-4f90-afda-193fe5a2f695] Cache-Control:[no-cache, private] Content-Length:[1604] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9980} ContentLength:1604 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 16:55:15.597147       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:55:15.597174       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:56:15.532771       1 recommender.go:166] Recommender Run
I0412 16:56:15.532874       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:56:15.532885       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:56:15.533066       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:56:15.546609       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be570 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dac52b23-5a1f-4f42-81da-0bcde7031959 dac52b23-5a1f-4f42-81da-0bcde7031959] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c360 TLS:0xc0005220b0}
I0412 16:56:15.547718       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:56:15.547851       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:10 +0000 UTC Window:{Duration:14.495s} Containers:[{Name:workload Usage:map[cpu:{i:{value:389525215 scale:-9} d:{Dec:<nil>} s:389525215n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 16:56:15.547882       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:389525215 scale:-9} d:{Dec:<nil>} s:389525215n Format:DecimalSI}, 390
I0412 16:56:15.547940       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:59 +0000 UTC Window:{Duration:18.242s} Containers:[{Name:workload Usage:map[cpu:{i:{value:300958228 scale:-9} d:{Dec:<nil>} s:300958228n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:56:15.547970       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:300958228 scale:-9} d:{Dec:<nil>} s:300958228n Format:DecimalSI}, 301
I0412 16:56:15.548023       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:00 +0000 UTC Window:{Duration:14.843s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4485683 scale:-9} d:{Dec:<nil>} s:4485683n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:56:15.548045       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4485683 scale:-9} d:{Dec:<nil>} s:4485683n Format:DecimalSI}, 5
I0412 16:56:15.548088       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:08 +0000 UTC Window:{Duration:18.711s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11734380 scale:-9} d:{Dec:<nil>} s:11734380n Format:DecimalSI} memory:{i:{value:168919040 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:56:15.548102       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11734380 scale:-9} d:{Dec:<nil>} s:11734380n Format:DecimalSI}, 12
I0412 16:56:15.548160       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:57 +0000 UTC Window:{Duration:18.726s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2174570 scale:-9} d:{Dec:<nil>} s:2174570n Format:DecimalSI} memory:{i:{value:15011840 scale:0} d:{Dec:<nil>} s:14660Ki Format:BinarySI}]}]}
I0412 16:56:15.548169       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2174570 scale:-9} d:{Dec:<nil>} s:2174570n Format:DecimalSI}, 3
I0412 16:56:15.548227       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:03 +0000 UTC Window:{Duration:21.988s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:56:15.548242       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:56:15.548251       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:56:15.548310       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:01 +0000 UTC Window:{Duration:11.755s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1460825 scale:-9} d:{Dec:<nil>} s:1460825n Format:DecimalSI} memory:{i:{value:7041024 scale:0} d:{Dec:<nil>} s:6876Ki Format:BinarySI}]}]}
I0412 16:56:15.548324       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1460825 scale:-9} d:{Dec:<nil>} s:1460825n Format:DecimalSI}, 2
I0412 16:56:15.548376       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:09 +0000 UTC Window:{Duration:14.443s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1474278 scale:-9} d:{Dec:<nil>} s:1474278n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 16:56:15.548389       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1474278 scale:-9} d:{Dec:<nil>} s:1474278n Format:DecimalSI}, 2
I0412 16:56:15.548435       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:02 +0000 UTC Window:{Duration:15.674s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4442516 scale:-9} d:{Dec:<nil>} s:4442516n Format:DecimalSI} memory:{i:{value:19333120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:56:15.548516       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4442516 scale:-9} d:{Dec:<nil>} s:4442516n Format:DecimalSI}, 5
I0412 16:56:15.548673       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:55:56 +0000 UTC Window:{Duration:17.961s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:393909 scale:-9} d:{Dec:<nil>} s:393909n Format:DecimalSI} memory:{i:{value:9859072 scale:0} d:{Dec:<nil>} s:9628Ki Format:BinarySI}]}]}
I0412 16:56:15.548692       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:393909 scale:-9} d:{Dec:<nil>} s:393909n Format:DecimalSI}, 1
I0412 16:56:15.548753       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:06 +0000 UTC Window:{Duration:17.352s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:537056 scale:-9} d:{Dec:<nil>} s:537056n Format:DecimalSI} memory:{i:{value:11583488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:56:15.548769       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:537056 scale:-9} d:{Dec:<nil>} s:537056n Format:DecimalSI}, 1
I0412 16:56:15.548852       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:11 +0000 UTC Window:{Duration:16.852s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:216472 scale:-9} d:{Dec:<nil>} s:216472n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:56:15.548861       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:216472 scale:-9} d:{Dec:<nil>} s:216472n Format:DecimalSI}, 1
I0412 16:56:15.548899       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:09 +0000 UTC Window:{Duration:13.438s} Containers:[{Name:updater Usage:map[cpu:{i:{value:267376 scale:-9} d:{Dec:<nil>} s:267376n Format:DecimalSI} memory:{i:{value:12087296 scale:0} d:{Dec:<nil>} s:11804Ki Format:BinarySI}]}]}
I0412 16:56:15.548906       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:267376 scale:-9} d:{Dec:<nil>} s:267376n Format:DecimalSI}, 1
I0412 16:56:15.548950       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:10 +0000 UTC Window:{Duration:14.498s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1671609 scale:-9} d:{Dec:<nil>} s:1671609n Format:DecimalSI} memory:{i:{value:61313024 scale:0} d:{Dec:<nil>} s:59876Ki Format:BinarySI}]}]}
I0412 16:56:15.548964       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1671609 scale:-9} d:{Dec:<nil>} s:1671609n Format:DecimalSI}, 2
I0412 16:56:15.549291       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:56:15.549331       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:56:15.549434       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:56:15.549475       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:56:15.549610       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 22, totalWeight: 58651.757\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.081\n15\t0.110\n20\t0.177\n25\t0.177\n30\t0.177\n35\t0.237\n40\t0.237\n45\t0.237\n50\t0.237\n55\t0.305\n60\t0.305\n65\t0.305\n70\t0.305\n75\t0.305\n80\t0.305\n85\t0.385\n90\t0.414\n95\t0.414\n100\t0.414:
I0412 16:56:15.549642       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000604ca8 ControlledValues:<nil>}:
I0412 16:56:15.549721       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:476 memory:476450463]
I0412 16:56:15.549738       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:56:15.549750       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:270 memory:442010579]
I0412 16:56:15.549759       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:56:15.549770       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:906 memory:907090586]
I0412 16:56:15.549817       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:56:15.564743       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1aa0} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1b30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f239ea33-6855-42c4-9d18-36e9eb60d2e0] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 16:56:15.586310       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c480} GetBody:0x6d9b40 ContentLength:582 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c510 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fbd1817e-fae7-45fe-8598-69caafd101c2] Cache-Control:[no-cache, private] Content-Length:[1604] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9c80} ContentLength:1604 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 16:56:15.586756       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:56:15.586785       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:56:56.745108       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 15 items received
I0412 16:57:15.532671       1 recommender.go:166] Recommender Run
I0412 16:57:15.532758       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:57:15.532792       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:57:15.532911       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:57:15.546994       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007473b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0514feff-abb0-44a2-a008-a2c500ab1f15 0514feff-abb0-44a2-a008-a2c500ab1f15] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074ca20 TLS:0xc0005220b0}
I0412 16:57:15.547519       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:57:15.547579       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:01 +0000 UTC Window:{Duration:16.655s} Containers:[{Name:workload Usage:map[cpu:{i:{value:389705013 scale:-9} d:{Dec:<nil>} s:389705013n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 16:57:15.547594       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:389705013 scale:-9} d:{Dec:<nil>} s:389705013n Format:DecimalSI}, 390
I0412 16:57:15.547619       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-f2tfs GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:09 +0000 UTC Window:{Duration:30.06s} Containers:[{Name:workload Usage:map[cpu:{i:{value:300495708 scale:-9} d:{Dec:<nil>} s:300495708n Format:DecimalSI} memory:{i:{value:398131200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:57:15.547629       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:300495708 scale:-9} d:{Dec:<nil>} s:300495708n Format:DecimalSI}, 301
I0412 16:57:15.547657       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:09 +0000 UTC Window:{Duration:19.753s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2001215 scale:-9} d:{Dec:<nil>} s:2001215n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:57:15.547661       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2001215 scale:-9} d:{Dec:<nil>} s:2001215n Format:DecimalSI}, 3
I0412 16:57:15.547685       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:02 +0000 UTC Window:{Duration:10.317s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11479112 scale:-9} d:{Dec:<nil>} s:11479112n Format:DecimalSI} memory:{i:{value:168923136 scale:0} d:{Dec:<nil>} s:164964Ki Format:BinarySI}]}]}
I0412 16:57:15.547692       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11479112 scale:-9} d:{Dec:<nil>} s:11479112n Format:DecimalSI}, 12
I0412 16:57:15.547710       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:09 +0000 UTC Window:{Duration:20.253s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2058213 scale:-9} d:{Dec:<nil>} s:2058213n Format:DecimalSI} memory:{i:{value:15527936 scale:0} d:{Dec:<nil>} s:15164Ki Format:BinarySI}]}]}
I0412 16:57:15.547714       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2058213 scale:-9} d:{Dec:<nil>} s:2058213n Format:DecimalSI}, 3
I0412 16:57:15.547739       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:55 +0000 UTC Window:{Duration:28.314s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:8476 scale:-9} d:{Dec:<nil>} s:8476n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:57:15.547753       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:57:15.547759       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:8476 scale:-9} d:{Dec:<nil>} s:8476n Format:DecimalSI}, 1
I0412 16:57:15.547778       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:10 +0000 UTC Window:{Duration:19.077s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1502175 scale:-9} d:{Dec:<nil>} s:1502175n Format:DecimalSI} memory:{i:{value:7032832 scale:0} d:{Dec:<nil>} s:6868Ki Format:BinarySI}]}]}
I0412 16:57:15.547782       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1502175 scale:-9} d:{Dec:<nil>} s:1502175n Format:DecimalSI}, 2
I0412 16:57:15.547799       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:02 +0000 UTC Window:{Duration:17.426s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:355904 scale:-9} d:{Dec:<nil>} s:355904n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:57:15.547810       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:355904 scale:-9} d:{Dec:<nil>} s:355904n Format:DecimalSI}, 1
I0412 16:57:15.547828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:04 +0000 UTC Window:{Duration:17.391s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2888505 scale:-9} d:{Dec:<nil>} s:2888505n Format:DecimalSI} memory:{i:{value:19333120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:57:15.547839       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2888505 scale:-9} d:{Dec:<nil>} s:2888505n Format:DecimalSI}, 3
I0412 16:57:15.547859       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:55 +0000 UTC Window:{Duration:17.848s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:268825 scale:-9} d:{Dec:<nil>} s:268825n Format:DecimalSI} memory:{i:{value:9859072 scale:0} d:{Dec:<nil>} s:9628Ki Format:BinarySI}]}]}
I0412 16:57:15.547875       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:268825 scale:-9} d:{Dec:<nil>} s:268825n Format:DecimalSI}, 1
I0412 16:57:15.547894       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:04 +0000 UTC Window:{Duration:15.428s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:263741 scale:-9} d:{Dec:<nil>} s:263741n Format:DecimalSI} memory:{i:{value:11583488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:57:15.547900       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:263741 scale:-9} d:{Dec:<nil>} s:263741n Format:DecimalSI}, 1
I0412 16:57:15.547917       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:03 +0000 UTC Window:{Duration:18.167s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:212803 scale:-9} d:{Dec:<nil>} s:212803n Format:DecimalSI} memory:{i:{value:11563008 scale:0} d:{Dec:<nil>} s:11292Ki Format:BinarySI}]}]}
I0412 16:57:15.547920       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:212803 scale:-9} d:{Dec:<nil>} s:212803n Format:DecimalSI}, 1
I0412 16:57:15.547937       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:56:58 +0000 UTC Window:{Duration:15.191s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11956224 scale:0} d:{Dec:<nil>} s:11676Ki Format:BinarySI}]}]}
I0412 16:57:15.547946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:57:15.547964       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:03 +0000 UTC Window:{Duration:19.598s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:979436 scale:-9} d:{Dec:<nil>} s:979436n Format:DecimalSI} memory:{i:{value:61313024 scale:0} d:{Dec:<nil>} s:59876Ki Format:BinarySI}]}]}
I0412 16:57:15.547973       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:979436 scale:-9} d:{Dec:<nil>} s:979436n Format:DecimalSI}, 1
I0412 16:57:15.548034       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:57:15.548049       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:57:15.548078       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:57:15.548102       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:57:15.548145       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 22, totalWeight: 67400.137\n%-tile\tvalue\n0\t0.010\n5\t0.081\n10\t0.081\n15\t0.126\n20\t0.177\n25\t0.177\n30\t0.237\n35\t0.237\n40\t0.237\n45\t0.237\n50\t0.305\n55\t0.305\n60\t0.305\n65\t0.305\n70\t0.305\n75\t0.305\n80\t0.385\n85\t0.414\n90\t0.414\n95\t0.414\n100\t0.414:
I0412 16:57:15.548157       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605ce0 ControlledValues:<nil>}:
I0412 16:57:15.548178       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:476 memory:476450463]
I0412 16:57:15.548185       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:57:15.548192       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:349 memory:442011072]
I0412 16:57:15.548198       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:57:15.548204       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:905 memory:906824953]
I0412 16:57:15.548208       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:57:15.568658       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728150} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007281e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a56790ab-52e8-4f72-b310-1c320fae640c] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 16:57:15.584169       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728ed0} GetBody:0x6d9b40 ContentLength:579 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728fc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[537c0a3a-e98a-4207-bcbd-500efd4aaaa9] Cache-Control:[no-cache, private] Content-Length:[1601] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:1601 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076be60 TLS:0xc0005220b0}
I0412 16:57:15.584409       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:57:15.584428       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:57:50.078472       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 16:57:53.536840       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 19 items received
I0412 16:58:12.162375       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 6 items received
I0412 16:58:15.532738       1 recommender.go:166] Recommender Run
I0412 16:58:15.532826       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:58:15.532843       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:58:15.533020       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:58:15.533286       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-f2tfs}
I0412 16:58:15.556856       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be930 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a61a8bf3-0622-4315-b87a-754730ff6c6a a61a8bf3-0622-4315-b87a-754730ff6c6a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074cd80 TLS:0xc0005220b0}
I0412 16:58:15.557538       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:58:15.557627       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:57 +0000 UTC Window:{Duration:48ms} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:58:15.557634       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:58:15.557657       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:00 +0000 UTC Window:{Duration:14.832s} Containers:[{Name:workload Usage:map[cpu:{i:{value:389942084 scale:-9} d:{Dec:<nil>} s:389942084n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 16:58:15.557669       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:389942084 scale:-9} d:{Dec:<nil>} s:389942084n Format:DecimalSI}, 390
I0412 16:58:15.557706       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:08 +0000 UTC Window:{Duration:17.167s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2448884 scale:-9} d:{Dec:<nil>} s:2448884n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:58:15.557720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2448884 scale:-9} d:{Dec:<nil>} s:2448884n Format:DecimalSI}, 3
I0412 16:58:15.557743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:04 +0000 UTC Window:{Duration:13.404s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11977544 scale:-9} d:{Dec:<nil>} s:11977544n Format:DecimalSI} memory:{i:{value:170536960 scale:0} d:{Dec:<nil>} s:166540Ki Format:BinarySI}]}]}
I0412 16:58:15.557751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11977544 scale:-9} d:{Dec:<nil>} s:11977544n Format:DecimalSI}, 12
I0412 16:58:15.557789       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:57 +0000 UTC Window:{Duration:18.344s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2312854 scale:-9} d:{Dec:<nil>} s:2312854n Format:DecimalSI} memory:{i:{value:14761984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:58:15.557801       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2312854 scale:-9} d:{Dec:<nil>} s:2312854n Format:DecimalSI}, 3
I0412 16:58:15.557828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:54 +0000 UTC Window:{Duration:17.742s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 16:58:15.557837       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:58:15.557841       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:58:15.557872       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:04 +0000 UTC Window:{Duration:11.022s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:869080 scale:-9} d:{Dec:<nil>} s:869080n Format:DecimalSI} memory:{i:{value:7045120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:58:15.557881       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:869080 scale:-9} d:{Dec:<nil>} s:869080n Format:DecimalSI}, 1
I0412 16:58:15.557900       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:07 +0000 UTC Window:{Duration:15.253s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1917458 scale:-9} d:{Dec:<nil>} s:1917458n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:58:15.557908       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1917458 scale:-9} d:{Dec:<nil>} s:1917458n Format:DecimalSI}, 2
I0412 16:58:15.557925       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:06 +0000 UTC Window:{Duration:15.327s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2229529 scale:-9} d:{Dec:<nil>} s:2229529n Format:DecimalSI} memory:{i:{value:19337216 scale:0} d:{Dec:<nil>} s:18884Ki Format:BinarySI}]}]}
I0412 16:58:15.557931       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2229529 scale:-9} d:{Dec:<nil>} s:2229529n Format:DecimalSI}, 3
I0412 16:58:15.557953       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:05 +0000 UTC Window:{Duration:17.73s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:346080 scale:-9} d:{Dec:<nil>} s:346080n Format:DecimalSI} memory:{i:{value:9752576 scale:0} d:{Dec:<nil>} s:9524Ki Format:BinarySI}]}]}
I0412 16:58:15.557957       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:346080 scale:-9} d:{Dec:<nil>} s:346080n Format:DecimalSI}, 1
I0412 16:58:15.557974       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:08 +0000 UTC Window:{Duration:14.703s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1420934 scale:-9} d:{Dec:<nil>} s:1420934n Format:DecimalSI} memory:{i:{value:11583488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:58:15.557981       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1420934 scale:-9} d:{Dec:<nil>} s:1420934n Format:DecimalSI}, 2
I0412 16:58:15.557997       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:06 +0000 UTC Window:{Duration:19.053s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:443762 scale:-9} d:{Dec:<nil>} s:443762n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:58:15.558037       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:443762 scale:-9} d:{Dec:<nil>} s:443762n Format:DecimalSI}, 1
I0412 16:58:15.558064       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:11 +0000 UTC Window:{Duration:24.547s} Containers:[{Name:updater Usage:map[cpu:{i:{value:256976 scale:-9} d:{Dec:<nil>} s:256976n Format:DecimalSI} memory:{i:{value:11956224 scale:0} d:{Dec:<nil>} s:11676Ki Format:BinarySI}]}]}
I0412 16:58:15.558077       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:256976 scale:-9} d:{Dec:<nil>} s:256976n Format:DecimalSI}, 1
I0412 16:58:15.558100       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:57:57 +0000 UTC Window:{Duration:18.41s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1475339 scale:-9} d:{Dec:<nil>} s:1475339n Format:DecimalSI} memory:{i:{value:61317120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:58:15.558119       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1475339 scale:-9} d:{Dec:<nil>} s:1475339n Format:DecimalSI}, 2
I0412 16:58:15.558242       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:58:15.558259       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:58:15.558290       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:58:15.558336       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:58:15.558402       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 22, totalWeight: 77299.230\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.055\n15\t0.081\n20\t0.126\n25\t0.177\n30\t0.177\n35\t0.237\n40\t0.237\n45\t0.237\n50\t0.305\n55\t0.305\n60\t0.305\n65\t0.305\n70\t0.305\n75\t0.305\n80\t0.414\n85\t0.414\n90\t0.414\n95\t0.414\n100\t0.414:
I0412 16:58:15.558410       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450798 ControlledValues:<nil>}:
I0412 16:58:15.558474       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:476 memory:476450463]
I0412 16:58:15.558484       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:58:15.558497       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:349 memory:442011497]
I0412 16:58:15.558504       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:58:15.558511       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:905 memory:906595602]
I0412 16:58:15.558517       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:58:15.580159       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746d80} GetBody:0x6d9b40 ContentLength:419 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746e70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[01b4de95-ed43-4543-9805-94ec7560f126] Cache-Control:[no-cache, private] Content-Length:[2258] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:2258 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aa20 TLS:0xc0005220b0}
I0412 16:58:15.595891       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf350} GetBody:0x6d9b40 ContentLength:581 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf3e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[62dce6dc-30a8-4972-a2d8-08ffc19885a7] Cache-Control:[no-cache, private] Content-Length:[1604] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3800} ContentLength:1604 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00074d680 TLS:0xc0005220b0}
I0412 16:58:15.596366       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:58:15.596394       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 16:58:15.596413       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:58:15.596421       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:58:15.596560       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:58:15.605865       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747b60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1274eacf-7d1d-4b3b-8a12-61dfe2c31634] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473380} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b320 TLS:0xc0005220b0}
I0412 16:58:15.619132       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762450 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[faa93f2f-a29c-46d8-babd-4d8645e25cc9] Cache-Control:[no-cache, private] Content-Length:[1757] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473e00} ContentLength:1757 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0d80 TLS:0xc0005220b0}
I0412 16:58:15.632828       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c540 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[64ad867b-0eaa-4fde-8e5d-17cea703d949] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b65a0 TLS:0xc0005220b0}
I0412 16:58:15.641334       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089ce10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[15f5d760-4940-4790-882e-446153c30893] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6c60 TLS:0xc0005220b0}
I0412 16:58:15.651646       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bfb00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[59ef87f4-7cee-4354-8f86-f4feb48f4035] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3980} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4480 TLS:0xc0005220b0}
I0412 16:58:15.657694       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005820c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bcd62f01-d91c-43bf-b11c-f9983aa2ef05] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4fc0 TLS:0xc0005220b0}
I0412 16:58:15.658004       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 16:58:18.941701       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 20 items received
I0412 16:59:05.807643       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 7 items received
I0412 16:59:15.532715       1 recommender.go:166] Recommender Run
I0412 16:59:15.532831       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 16:59:15.532875       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 16:59:15.536935       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 16:59:15.549107       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d890 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f7bee3ec-29a2-444a-93ff-cc3c59f33fd4 f7bee3ec-29a2-444a-93ff-cc3c59f33fd4] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7320 TLS:0xc0005220b0}
I0412 16:59:15.550281       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 16:59:15.550518       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:01 +0000 UTC Window:{Duration:16.498s} Containers:[{Name:workload Usage:map[cpu:{i:{value:530155715 scale:-9} d:{Dec:<nil>} s:530155715n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:59:15.550593       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:530155715 scale:-9} d:{Dec:<nil>} s:530155715n Format:DecimalSI}, 531
I0412 16:59:15.550683       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:11 +0000 UTC Window:{Duration:27.292s} Containers:[{Name:workload Usage:map[cpu:{i:{value:390116590 scale:-9} d:{Dec:<nil>} s:390116590n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 16:59:15.550724       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:390116590 scale:-9} d:{Dec:<nil>} s:390116590n Format:DecimalSI}, 391
I0412 16:59:15.550780       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:56 +0000 UTC Window:{Duration:17.002s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2469121 scale:-9} d:{Dec:<nil>} s:2469121n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 16:59:15.550807       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2469121 scale:-9} d:{Dec:<nil>} s:2469121n Format:DecimalSI}, 3
I0412 16:59:15.550850       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:08 +0000 UTC Window:{Duration:17.772s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12033029 scale:-9} d:{Dec:<nil>} s:12033029n Format:DecimalSI} memory:{i:{value:169398272 scale:0} d:{Dec:<nil>} s:165428Ki Format:BinarySI}]}]}
I0412 16:59:15.550858       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12033029 scale:-9} d:{Dec:<nil>} s:12033029n Format:DecimalSI}, 13
I0412 16:59:15.550893       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:05 +0000 UTC Window:{Duration:14.558s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2085107 scale:-9} d:{Dec:<nil>} s:2085107n Format:DecimalSI} memory:{i:{value:14819328 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:59:15.550907       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2085107 scale:-9} d:{Dec:<nil>} s:2085107n Format:DecimalSI}, 3
I0412 16:59:15.550981       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:53 +0000 UTC Window:{Duration:19.303s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 16:59:15.550992       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:59:15.551000       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 16:59:15.551035       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:10 +0000 UTC Window:{Duration:19.025s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1487674 scale:-9} d:{Dec:<nil>} s:1487674n Format:DecimalSI} memory:{i:{value:6950912 scale:0} d:{Dec:<nil>} s:6788Ki Format:BinarySI}]}]}
I0412 16:59:15.551049       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1487674 scale:-9} d:{Dec:<nil>} s:1487674n Format:DecimalSI}, 2
I0412 16:59:15.551137       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:01 +0000 UTC Window:{Duration:11.641s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:875096 scale:-9} d:{Dec:<nil>} s:875096n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:59:15.551159       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:875096 scale:-9} d:{Dec:<nil>} s:875096n Format:DecimalSI}, 1
I0412 16:59:15.551234       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:01 +0000 UTC Window:{Duration:16.101s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2983417 scale:-9} d:{Dec:<nil>} s:2983417n Format:DecimalSI} memory:{i:{value:19337216 scale:0} d:{Dec:<nil>} s:18884Ki Format:BinarySI}]}]}
I0412 16:59:15.551293       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2983417 scale:-9} d:{Dec:<nil>} s:2983417n Format:DecimalSI}, 3
I0412 16:59:15.551369       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:10 +0000 UTC Window:{Duration:18.483s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:381215 scale:-9} d:{Dec:<nil>} s:381215n Format:DecimalSI} memory:{i:{value:9752576 scale:0} d:{Dec:<nil>} s:9524Ki Format:BinarySI}]}]}
I0412 16:59:15.551380       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:381215 scale:-9} d:{Dec:<nil>} s:381215n Format:DecimalSI}, 1
I0412 16:59:15.551417       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:02 +0000 UTC Window:{Duration:19.637s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:331924 scale:-9} d:{Dec:<nil>} s:331924n Format:DecimalSI} memory:{i:{value:11583488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:59:15.551441       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:331924 scale:-9} d:{Dec:<nil>} s:331924n Format:DecimalSI}, 1
I0412 16:59:15.551478       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:08 +0000 UTC Window:{Duration:15.447s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:357480 scale:-9} d:{Dec:<nil>} s:357480n Format:DecimalSI} memory:{i:{value:11300864 scale:0} d:{Dec:<nil>} s:11036Ki Format:BinarySI}]}]}
I0412 16:59:15.551484       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:357480 scale:-9} d:{Dec:<nil>} s:357480n Format:DecimalSI}, 1
I0412 16:59:15.551517       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:53 +0000 UTC Window:{Duration:19.095s} Containers:[{Name:updater Usage:map[cpu:{i:{value:983870 scale:-9} d:{Dec:<nil>} s:983870n Format:DecimalSI} memory:{i:{value:11976704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:59:15.551526       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:983870 scale:-9} d:{Dec:<nil>} s:983870n Format:DecimalSI}, 1
I0412 16:59:15.551558       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 16:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:58:58 +0000 UTC Window:{Duration:19.846s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1663710 scale:-9} d:{Dec:<nil>} s:1663710n Format:DecimalSI} memory:{i:{value:61325312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 16:59:15.551564       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1663710 scale:-9} d:{Dec:<nil>} s:1663710n Format:DecimalSI}, 2
I0412 16:59:15.551894       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 16:59:15.551924       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 16:59:15.552029       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 16:59:15.552075       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 16:59:15.552184       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 26, totalWeight: 88869.766\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.081\n15\t0.110\n20\t0.177\n25\t0.177\n30\t0.237\n35\t0.237\n40\t0.305\n45\t0.305\n50\t0.305\n55\t0.305\n60\t0.305\n65\t0.305\n70\t0.414\n75\t0.414\n80\t0.414\n85\t0.414\n90\t0.414\n95\t0.547\n100\t0.547:
I0412 16:59:15.552208       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840138 ControlledValues:<nil>}:
I0412 16:59:15.552251       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:627 memory:476450463]
I0412 16:59:15.552262       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:59:15.552275       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:349 memory:442012088]
I0412 16:59:15.552293       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:59:15.552305       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1192 memory:906276717]
I0412 16:59:15.552312       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 16:59:15.569314       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986f60} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986ff0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3727b9b5-1637-4e4b-9db2-07fca50c977b] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3e00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff9e0 TLS:0xc0005220b0}
I0412 16:59:15.583895       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007121e0} GetBody:0x6d9b40 ContentLength:591 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712270 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[068d4f92-f818-4b1a-9da8-33270cf7ea3a] Cache-Control:[no-cache, private] Content-Length:[1624] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 16:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:1624 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7b00 TLS:0xc0005220b0}
I0412 16:59:15.584241       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 16:59:15.584269       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:00:15.532738       1 recommender.go:166] Recommender Run
I0412 17:00:15.532845       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:00:15.532860       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:00:15.532967       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:00:15.550524       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712cf0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4ed8328f-6bd7-42bc-9b79-e8af197139db 4ed8328f-6bd7-42bc-9b79-e8af197139db] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff560 TLS:0xc0005220b0}
I0412 17:00:15.551371       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:00:15.551482       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:07 +0000 UTC Window:{Duration:12.961s} Containers:[{Name:workload Usage:map[cpu:{i:{value:530770233 scale:-9} d:{Dec:<nil>} s:530770233n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:00:15.551555       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:530770233 scale:-9} d:{Dec:<nil>} s:530770233n Format:DecimalSI}, 531
I0412 17:00:15.551595       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:00 +0000 UTC Window:{Duration:11.779s} Containers:[{Name:workload Usage:map[cpu:{i:{value:390784956 scale:-9} d:{Dec:<nil>} s:390784956n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 17:00:15.551603       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:390784956 scale:-9} d:{Dec:<nil>} s:390784956n Format:DecimalSI}, 391
I0412 17:00:15.551631       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:05 +0000 UTC Window:{Duration:13.974s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2176828 scale:-9} d:{Dec:<nil>} s:2176828n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 17:00:15.551640       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2176828 scale:-9} d:{Dec:<nil>} s:2176828n Format:DecimalSI}, 3
I0412 17:00:15.551675       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:00 +0000 UTC Window:{Duration:12.406s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13121957 scale:-9} d:{Dec:<nil>} s:13121957n Format:DecimalSI} memory:{i:{value:168820736 scale:0} d:{Dec:<nil>} s:161Mi Format:BinarySI}]}]}
I0412 17:00:15.551688       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13121957 scale:-9} d:{Dec:<nil>} s:13121957n Format:DecimalSI}, 14
I0412 17:00:15.551706       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:11 +0000 UTC Window:{Duration:19.523s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2268555 scale:-9} d:{Dec:<nil>} s:2268555n Format:DecimalSI} memory:{i:{value:14938112 scale:0} d:{Dec:<nil>} s:14588Ki Format:BinarySI}]}]}
I0412 17:00:15.551717       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2268555 scale:-9} d:{Dec:<nil>} s:2268555n Format:DecimalSI}, 3
I0412 17:00:15.551739       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 16:59:50 +0000 UTC Window:{Duration:14.029s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:00:15.551775       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:00:15.551784       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:00:15.551806       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:06 +0000 UTC Window:{Duration:13.242s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1206917 scale:-9} d:{Dec:<nil>} s:1206917n Format:DecimalSI} memory:{i:{value:6991872 scale:0} d:{Dec:<nil>} s:6828Ki Format:BinarySI}]}]}
I0412 17:00:15.551810       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1206917 scale:-9} d:{Dec:<nil>} s:1206917n Format:DecimalSI}, 2
I0412 17:00:15.551828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:00 +0000 UTC Window:{Duration:13.85s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1080794 scale:-9} d:{Dec:<nil>} s:1080794n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:00:15.551835       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1080794 scale:-9} d:{Dec:<nil>} s:1080794n Format:DecimalSI}, 2
I0412 17:00:15.551871       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:03 +0000 UTC Window:{Duration:14.284s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3676141 scale:-9} d:{Dec:<nil>} s:3676141n Format:DecimalSI} memory:{i:{value:19337216 scale:0} d:{Dec:<nil>} s:18884Ki Format:BinarySI}]}]}
I0412 17:00:15.551881       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3676141 scale:-9} d:{Dec:<nil>} s:3676141n Format:DecimalSI}, 4
I0412 17:00:15.551926       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:10 +0000 UTC Window:{Duration:15.217s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:591509 scale:-9} d:{Dec:<nil>} s:591509n Format:DecimalSI} memory:{i:{value:9859072 scale:0} d:{Dec:<nil>} s:9628Ki Format:BinarySI}]}]}
I0412 17:00:15.551970       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:591509 scale:-9} d:{Dec:<nil>} s:591509n Format:DecimalSI}, 1
I0412 17:00:15.552015       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:08 +0000 UTC Window:{Duration:12.484s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1443607 scale:-9} d:{Dec:<nil>} s:1443607n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:00:15.552019       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1443607 scale:-9} d:{Dec:<nil>} s:1443607n Format:DecimalSI}, 2
I0412 17:00:15.552053       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:10 +0000 UTC Window:{Duration:14.031s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:192431 scale:-9} d:{Dec:<nil>} s:192431n Format:DecimalSI} memory:{i:{value:11329536 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:00:15.552081       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:192431 scale:-9} d:{Dec:<nil>} s:192431n Format:DecimalSI}, 1
I0412 17:00:15.552115       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:05 +0000 UTC Window:{Duration:12.577s} Containers:[{Name:updater Usage:map[cpu:{i:{value:292438 scale:-9} d:{Dec:<nil>} s:292438n Format:DecimalSI} memory:{i:{value:11976704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:00:15.552124       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:292438 scale:-9} d:{Dec:<nil>} s:292438n Format:DecimalSI}, 1
I0412 17:00:15.552143       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:06 +0000 UTC Window:{Duration:15.6s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1100961 scale:-9} d:{Dec:<nil>} s:1100961n Format:DecimalSI} memory:{i:{value:61329408 scale:0} d:{Dec:<nil>} s:59892Ki Format:BinarySI}]}]}
I0412 17:00:15.552147       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1100961 scale:-9} d:{Dec:<nil>} s:1100961n Format:DecimalSI}, 2
I0412 17:00:15.552300       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:00:15.552319       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:00:15.552385       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:00:15.552412       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:00:15.552477       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 26, totalWeight: 102083.822\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.081\n15\t0.126\n20\t0.177\n25\t0.237\n30\t0.237\n35\t0.305\n40\t0.305\n45\t0.305\n50\t0.305\n55\t0.305\n60\t0.414\n65\t0.414\n70\t0.414\n75\t0.414\n80\t0.414\n85\t0.414\n90\t0.547\n95\t0.547\n100\t0.547:
I0412 17:00:15.552491       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000491e78 ControlledValues:<nil>}:
I0412 17:00:15.552519       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:627 memory:476450463]
I0412 17:00:15.552527       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:00:15.552533       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:349 memory:442012554]
I0412 17:00:15.552537       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:00:15.552548       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1192 memory:906025535]
I0412 17:00:15.552552       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:00:15.573692       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763b60} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763bf0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e25c8ef5-7ebf-458a-b464-5c8b8257e722] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b79e0 TLS:0xc0005220b0}
I0412 17:00:15.580021       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882840} GetBody:0x6d9b40 ContentLength:591 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882a20 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4befe9ab-be89-40b2-8b11-363fc41b2136] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 17:00:15.598767       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000728510} GetBody:0x6d9b40 ContentLength:773 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007285a0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2bac711e-8bc6-4815-b7ec-f945f589371d] Cache-Control:[no-cache, private] Content-Length:[1623] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:1623 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 17:00:15.599122       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:00:15.599152       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:01:15.532955       1 recommender.go:166] Recommender Run
I0412 17:01:15.533618       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:01:15.533949       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:01:15.534441       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:01:15.549670       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713740 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fbf08385-fa9e-4b76-9cf8-0fbb6077d64e fbf08385-fa9e-4b76-9cf8-0fbb6077d64e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff9e0 TLS:0xc0005220b0}
I0412 17:01:15.551574       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:01:15.551724       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:02 +0000 UTC Window:{Duration:17.029s} Containers:[{Name:workload Usage:map[cpu:{i:{value:529261964 scale:-9} d:{Dec:<nil>} s:529261964n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:01:15.551790       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:529261964 scale:-9} d:{Dec:<nil>} s:529261964n Format:DecimalSI}, 530
I0412 17:01:15.551875       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8rldb GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:57 +0000 UTC Window:{Duration:11.163s} Containers:[{Name:workload Usage:map[cpu:{i:{value:391308877 scale:-9} d:{Dec:<nil>} s:391308877n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 17:01:15.551906       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:391308877 scale:-9} d:{Dec:<nil>} s:391308877n Format:DecimalSI}, 392
I0412 17:01:15.552001       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:59 +0000 UTC Window:{Duration:12.032s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2814162 scale:-9} d:{Dec:<nil>} s:2814162n Format:DecimalSI} memory:{i:{value:32067584 scale:0} d:{Dec:<nil>} s:31316Ki Format:BinarySI}]}]}
I0412 17:01:15.552019       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2814162 scale:-9} d:{Dec:<nil>} s:2814162n Format:DecimalSI}, 3
I0412 17:01:15.552174       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:59 +0000 UTC Window:{Duration:15.614s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12476943 scale:-9} d:{Dec:<nil>} s:12476943n Format:DecimalSI} memory:{i:{value:168726528 scale:0} d:{Dec:<nil>} s:164772Ki Format:BinarySI}]}]}
I0412 17:01:15.552199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12476943 scale:-9} d:{Dec:<nil>} s:12476943n Format:DecimalSI}, 13
I0412 17:01:15.552272       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:58 +0000 UTC Window:{Duration:14.877s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2250789 scale:-9} d:{Dec:<nil>} s:2250789n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:01:15.552290       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2250789 scale:-9} d:{Dec:<nil>} s:2250789n Format:DecimalSI}, 3
I0412 17:01:15.552430       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:54 +0000 UTC Window:{Duration:17.421s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:01:15.552455       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:01:15.552470       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:01:15.552554       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:07 +0000 UTC Window:{Duration:11.007s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:578631 scale:-9} d:{Dec:<nil>} s:578631n Format:DecimalSI} memory:{i:{value:7057408 scale:0} d:{Dec:<nil>} s:6892Ki Format:BinarySI}]}]}
I0412 17:01:15.552585       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:578631 scale:-9} d:{Dec:<nil>} s:578631n Format:DecimalSI}, 1
I0412 17:01:15.552712       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:03 +0000 UTC Window:{Duration:17.995s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:544151 scale:-9} d:{Dec:<nil>} s:544151n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:01:15.552737       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:544151 scale:-9} d:{Dec:<nil>} s:544151n Format:DecimalSI}, 1
I0412 17:01:15.552832       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:10 +0000 UTC Window:{Duration:13.325s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4397223 scale:-9} d:{Dec:<nil>} s:4397223n Format:DecimalSI} memory:{i:{value:19636224 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:01:15.552855       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4397223 scale:-9} d:{Dec:<nil>} s:4397223n Format:DecimalSI}, 5
I0412 17:01:15.552939       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:55 +0000 UTC Window:{Duration:19.035s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:196690 scale:-9} d:{Dec:<nil>} s:196690n Format:DecimalSI} memory:{i:{value:9875456 scale:0} d:{Dec:<nil>} s:9644Ki Format:BinarySI}]}]}
I0412 17:01:15.552957       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:196690 scale:-9} d:{Dec:<nil>} s:196690n Format:DecimalSI}, 1
I0412 17:01:15.553023       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:59 +0000 UTC Window:{Duration:18.327s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:372346 scale:-9} d:{Dec:<nil>} s:372346n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:01:15.553061       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:372346 scale:-9} d:{Dec:<nil>} s:372346n Format:DecimalSI}, 1
I0412 17:01:15.553242       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:00:55 +0000 UTC Window:{Duration:27.783s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:102868 scale:-9} d:{Dec:<nil>} s:102868n Format:DecimalSI} memory:{i:{value:11366400 scale:0} d:{Dec:<nil>} s:11100Ki Format:BinarySI}]}]}
I0412 17:01:15.553263       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:102868 scale:-9} d:{Dec:<nil>} s:102868n Format:DecimalSI}, 1
I0412 17:01:15.553380       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:06 +0000 UTC Window:{Duration:12.416s} Containers:[{Name:updater Usage:map[cpu:{i:{value:192976 scale:-9} d:{Dec:<nil>} s:192976n Format:DecimalSI} memory:{i:{value:11976704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:01:15.553403       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:192976 scale:-9} d:{Dec:<nil>} s:192976n Format:DecimalSI}, 1
I0412 17:01:15.553528       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:11 +0000 UTC Window:{Duration:17.749s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:2884951 scale:-9} d:{Dec:<nil>} s:2884951n Format:DecimalSI} memory:{i:{value:135946240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:01:15.553557       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2884951 scale:-9} d:{Dec:<nil>} s:2884951n Format:DecimalSI}, 3
I0412 17:01:15.553902       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:01:15.553941       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:01:15.554063       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:01:15.554135       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:01:15.554326       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 26, totalWeight: 117122.909\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.081\n15\t0.177\n20\t0.237\n25\t0.237\n30\t0.237\n35\t0.305\n40\t0.305\n45\t0.305\n50\t0.385\n55\t0.414\n60\t0.414\n65\t0.414\n70\t0.414\n75\t0.414\n80\t0.414\n85\t0.547\n90\t0.547\n95\t0.547\n100\t0.547:
I0412 17:01:15.554355       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605308 ControlledValues:<nil>}:
I0412 17:01:15.554455       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:627 memory:476450463]
I0412 17:01:15.554486       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:01:15.554509       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:441 memory:442013010]
I0412 17:01:15.554523       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:01:15.554579       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1191 memory:905779124]
I0412 17:01:15.554593       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:01:15.571723       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746870} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746900 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0649b5d2-a987-49be-8dc0-ae1157734307] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3080} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214fc0 TLS:0xc0005220b0}
I0412 17:01:15.592363       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883650} GetBody:0x6d9b40 ContentLength:589 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008836e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cc8080df-a00f-4b29-88ef-3ffb216014d0] Cache-Control:[no-cache, private] Content-Length:[1621] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:1621 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b19e0 TLS:0xc0005220b0}
I0412 17:01:15.592954       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:01:15.592992       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:01:23.367253       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 8 items received
I0412 17:01:34.288708       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 0 items received
I0412 17:01:56.503028       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 17:02:15.532780       1 recommender.go:166] Recommender Run
I0412 17:02:15.532991       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:02:15.536695       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:02:15.537039       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:02:15.537450       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-8rldb}
I0412 17:02:15.553177       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf4d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e0fdf0bb-32fe-42cf-a1ca-9b0d228cff43 e0fdf0bb-32fe-42cf-a1ca-9b0d228cff43] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3080} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b66c0 TLS:0xc0005220b0}
I0412 17:02:15.554250       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:02:15.554341       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:01 +0000 UTC Window:{Duration:11.115s} Containers:[{Name:workload Usage:map[cpu:{i:{value:689875393 scale:-9} d:{Dec:<nil>} s:689875393n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:02:15.554359       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:689875393 scale:-9} d:{Dec:<nil>} s:689875393n Format:DecimalSI}, 690
I0412 17:02:15.554417       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:01 +0000 UTC Window:{Duration:13.057s} Containers:[{Name:workload Usage:map[cpu:{i:{value:529274718 scale:-9} d:{Dec:<nil>} s:529274718n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:02:15.554427       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:529274718 scale:-9} d:{Dec:<nil>} s:529274718n Format:DecimalSI}, 530
I0412 17:02:15.554464       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:59 +0000 UTC Window:{Duration:19.219s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2970706 scale:-9} d:{Dec:<nil>} s:2970706n Format:DecimalSI} memory:{i:{value:32075776 scale:0} d:{Dec:<nil>} s:31324Ki Format:BinarySI}]}]}
I0412 17:02:15.554470       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2970706 scale:-9} d:{Dec:<nil>} s:2970706n Format:DecimalSI}, 3
I0412 17:02:15.554499       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:04 +0000 UTC Window:{Duration:15.83s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10933543 scale:-9} d:{Dec:<nil>} s:10933543n Format:DecimalSI} memory:{i:{value:170160128 scale:0} d:{Dec:<nil>} s:166172Ki Format:BinarySI}]}]}
I0412 17:02:15.554530       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10933543 scale:-9} d:{Dec:<nil>} s:10933543n Format:DecimalSI}, 11
I0412 17:02:15.554588       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:59 +0000 UTC Window:{Duration:13.317s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1907636 scale:-9} d:{Dec:<nil>} s:1907636n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:02:15.554604       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1907636 scale:-9} d:{Dec:<nil>} s:1907636n Format:DecimalSI}, 2
I0412 17:02:15.554690       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:07 +0000 UTC Window:{Duration:16.954s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:02:15.554715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:02:15.554722       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:02:15.554764       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:54 +0000 UTC Window:{Duration:18.99s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1116377 scale:-9} d:{Dec:<nil>} s:1116377n Format:DecimalSI} memory:{i:{value:7057408 scale:0} d:{Dec:<nil>} s:6892Ki Format:BinarySI}]}]}
I0412 17:02:15.554779       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1116377 scale:-9} d:{Dec:<nil>} s:1116377n Format:DecimalSI}, 2
I0412 17:02:15.554808       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:08 +0000 UTC Window:{Duration:12.708s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1022348 scale:-9} d:{Dec:<nil>} s:1022348n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:02:15.554814       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1022348 scale:-9} d:{Dec:<nil>} s:1022348n Format:DecimalSI}, 2
I0412 17:02:15.554846       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:03 +0000 UTC Window:{Duration:13.406s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2291063 scale:-9} d:{Dec:<nil>} s:2291063n Format:DecimalSI} memory:{i:{value:19603456 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:02:15.554852       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2291063 scale:-9} d:{Dec:<nil>} s:2291063n Format:DecimalSI}, 3
I0412 17:02:15.554895       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:57 +0000 UTC Window:{Duration:18.471s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:401494 scale:-9} d:{Dec:<nil>} s:401494n Format:DecimalSI} memory:{i:{value:9695232 scale:0} d:{Dec:<nil>} s:9468Ki Format:BinarySI}]}]}
I0412 17:02:15.554908       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:401494 scale:-9} d:{Dec:<nil>} s:401494n Format:DecimalSI}, 1
I0412 17:02:15.554940       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:05 +0000 UTC Window:{Duration:10.752s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1176246 scale:-9} d:{Dec:<nil>} s:1176246n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:02:15.554951       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1176246 scale:-9} d:{Dec:<nil>} s:1176246n Format:DecimalSI}, 2
I0412 17:02:15.554976       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:01 +0000 UTC Window:{Duration:11.832s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:454192 scale:-9} d:{Dec:<nil>} s:454192n Format:DecimalSI} memory:{i:{value:11464704 scale:0} d:{Dec:<nil>} s:11196Ki Format:BinarySI}]}]}
I0412 17:02:15.554981       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:454192 scale:-9} d:{Dec:<nil>} s:454192n Format:DecimalSI}, 1
I0412 17:02:15.555004       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:01:56 +0000 UTC Window:{Duration:31.572s} Containers:[{Name:updater Usage:map[cpu:{i:{value:678385 scale:-9} d:{Dec:<nil>} s:678385n Format:DecimalSI} memory:{i:{value:11976704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:02:15.555009       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:678385 scale:-9} d:{Dec:<nil>} s:678385n Format:DecimalSI}, 1
I0412 17:02:15.555031       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:00 +0000 UTC Window:{Duration:13.738s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1665453 scale:-9} d:{Dec:<nil>} s:1665453n Format:DecimalSI} memory:{i:{value:135909376 scale:0} d:{Dec:<nil>} s:132724Ki Format:BinarySI}]}]}
I0412 17:02:15.555048       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1665453 scale:-9} d:{Dec:<nil>} s:1665453n Format:DecimalSI}, 2
I0412 17:02:15.555319       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:02:15.555344       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:02:15.555411       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:02:15.555475       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:02:15.555559       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 30, totalWeight: 134457.969\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.110\n15\t0.177\n20\t0.237\n25\t0.237\n30\t0.305\n35\t0.305\n40\t0.305\n45\t0.385\n50\t0.414\n55\t0.414\n60\t0.414\n65\t0.414\n70\t0.414\n75\t0.547\n80\t0.547\n85\t0.547\n90\t0.547\n95\t0.708\n100\t0.708:
I0412 17:02:15.555577       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605c80 ControlledValues:<nil>}:
I0412 17:02:15.555611       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:476450463]
I0412 17:02:15.555619       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:02:15.555628       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:475 memory:442013500]
I0412 17:02:15.555634       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:02:15.555669       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1545 memory:905515106]
I0412 17:02:15.555679       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:02:15.566782       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000987bf0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987c80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a66832bc-af47-4a10-b5e8-bfa8f6108536] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffd40 TLS:0xc0005220b0}
I0412 17:02:15.577628       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007627b0} GetBody:0x6d9b40 ContentLength:599 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762840 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f2889d79-3e29-4405-9d5d-497c22fda213] Cache-Control:[no-cache, private] Content-Length:[1641] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccd80} ContentLength:1641 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364b40 TLS:0xc0005220b0}
I0412 17:02:15.577976       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:02:15.578001       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:02:26.750494       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 13 items received
I0412 17:02:28.806121       1 cluster_feeder.go:138] Eviction event chan closed
I0412 17:02:28.806141       1 cluster_feeder.go:128] An attempt to watch eviction events finished. Waiting 14.562822608s before the next one.
I0412 17:03:11.546895       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 19 items received
I0412 17:03:15.536687       1 recommender.go:166] Recommender Run
I0412 17:03:15.536813       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:03:15.536844       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:03:15.536934       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:03:15.558338       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713020 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ad9c7203-988e-4945-bf47-9839cfb64d32 ad9c7203-988e-4945-bf47-9839cfb64d32] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3800} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b77a0 TLS:0xc0005220b0}
I0412 17:03:15.559695       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:03:15.559951       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:59 +0000 UTC Window:{Duration:16.705s} Containers:[{Name:workload Usage:map[cpu:{i:{value:689895001 scale:-9} d:{Dec:<nil>} s:689895001n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.559999       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:689895001 scale:-9} d:{Dec:<nil>} s:689895001n Format:DecimalSI}, 690
I0412 17:03:15.560074       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:07 +0000 UTC Window:{Duration:15.467s} Containers:[{Name:workload Usage:map[cpu:{i:{value:528830607 scale:-9} d:{Dec:<nil>} s:528830607n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.560091       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:528830607 scale:-9} d:{Dec:<nil>} s:528830607n Format:DecimalSI}, 529
I0412 17:03:15.560141       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:06 +0000 UTC Window:{Duration:17.427s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2486601 scale:-9} d:{Dec:<nil>} s:2486601n Format:DecimalSI} memory:{i:{value:32075776 scale:0} d:{Dec:<nil>} s:31324Ki Format:BinarySI}]}]}
I0412 17:03:15.560241       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2486601 scale:-9} d:{Dec:<nil>} s:2486601n Format:DecimalSI}, 3
I0412 17:03:15.560304       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:04 +0000 UTC Window:{Duration:19.009s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11891314 scale:-9} d:{Dec:<nil>} s:11891314n Format:DecimalSI} memory:{i:{value:169533440 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.560367       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11891314 scale:-9} d:{Dec:<nil>} s:11891314n Format:DecimalSI}, 12
I0412 17:03:15.560443       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:06 +0000 UTC Window:{Duration:17.781s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2228896 scale:-9} d:{Dec:<nil>} s:2228896n Format:DecimalSI} memory:{i:{value:14696448 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.560502       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2228896 scale:-9} d:{Dec:<nil>} s:2228896n Format:DecimalSI}, 3
I0412 17:03:15.560558       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:03 +0000 UTC Window:{Duration:15.248s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:03:15.560588       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:03:15.560597       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:03:15.560681       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:58 +0000 UTC Window:{Duration:12.753s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1575550 scale:-9} d:{Dec:<nil>} s:1575550n Format:DecimalSI} memory:{i:{value:6942720 scale:0} d:{Dec:<nil>} s:6780Ki Format:BinarySI}]}]}
I0412 17:03:15.560702       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1575550 scale:-9} d:{Dec:<nil>} s:1575550n Format:DecimalSI}, 2
I0412 17:03:15.560740       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:05 +0000 UTC Window:{Duration:18.09s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:470315 scale:-9} d:{Dec:<nil>} s:470315n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:03:15.560752       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:470315 scale:-9} d:{Dec:<nil>} s:470315n Format:DecimalSI}, 1
I0412 17:03:15.560828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:53 +0000 UTC Window:{Duration:20.855s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3546104 scale:-9} d:{Dec:<nil>} s:3546104n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.560895       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3546104 scale:-9} d:{Dec:<nil>} s:3546104n Format:DecimalSI}, 4
I0412 17:03:15.560959       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:00 +0000 UTC Window:{Duration:12.272s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:265319 scale:-9} d:{Dec:<nil>} s:265319n Format:DecimalSI} memory:{i:{value:9711616 scale:0} d:{Dec:<nil>} s:9484Ki Format:BinarySI}]}]}
I0412 17:03:15.560984       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:265319 scale:-9} d:{Dec:<nil>} s:265319n Format:DecimalSI}, 1
I0412 17:03:15.561021       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:02:55 +0000 UTC Window:{Duration:25.848s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:282845 scale:-9} d:{Dec:<nil>} s:282845n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.561060       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:282845 scale:-9} d:{Dec:<nil>} s:282845n Format:DecimalSI}, 1
I0412 17:03:15.561102       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:06 +0000 UTC Window:{Duration:19.274s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:217183 scale:-9} d:{Dec:<nil>} s:217183n Format:DecimalSI} memory:{i:{value:11472896 scale:0} d:{Dec:<nil>} s:11204Ki Format:BinarySI}]}]}
I0412 17:03:15.561123       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:217183 scale:-9} d:{Dec:<nil>} s:217183n Format:DecimalSI}, 1
I0412 17:03:15.561158       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:04 +0000 UTC Window:{Duration:18.312s} Containers:[{Name:updater Usage:map[cpu:{i:{value:983890 scale:-9} d:{Dec:<nil>} s:983890n Format:DecimalSI} memory:{i:{value:12025856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.561172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:983890 scale:-9} d:{Dec:<nil>} s:983890n Format:DecimalSI}, 1
I0412 17:03:15.561227       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:01 +0000 UTC Window:{Duration:18.402s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1179219 scale:-9} d:{Dec:<nil>} s:1179219n Format:DecimalSI} memory:{i:{value:77103104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:03:15.561241       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1179219 scale:-9} d:{Dec:<nil>} s:1179219n Format:DecimalSI}, 2
I0412 17:03:15.561548       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:03:15.561586       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:03:15.561690       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:03:15.561764       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:03:15.561951       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 30, totalWeight: 154463.808\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.126\n15\t0.177\n20\t0.237\n25\t0.305\n30\t0.305\n35\t0.305\n40\t0.414\n45\t0.414\n50\t0.414\n55\t0.414\n60\t0.414\n65\t0.547\n70\t0.547\n75\t0.547\n80\t0.547\n85\t0.547\n90\t0.708\n95\t0.708\n100\t0.708:
I0412 17:03:15.561976       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841ec0 ControlledValues:<nil>}:
I0412 17:03:15.562084       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:476450463]
I0412 17:03:15.562117       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:03:15.562131       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:475 memory:442014047]
I0412 17:03:15.562139       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:03:15.562163       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1544 memory:905220148]
I0412 17:03:15.562172       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:03:15.576675       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746cf0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746db0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b1158ac6-ea32-451a-b1fc-b70f0d1b8667] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086db00 TLS:0xc0005220b0}
I0412 17:03:15.592577       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747950} GetBody:0x6d9b40 ContentLength:598 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747a40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a9e1581d-7b11-4b3e-8a0d-eb557451e29b] Cache-Control:[no-cache, private] Content-Length:[1640] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:1640 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214900 TLS:0xc0005220b0}
I0412 17:03:15.592885       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:03:15.592907       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:04:15.533083       1 recommender.go:166] Recommender Run
I0412 17:04:15.536788       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:04:15.536869       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:04:15.537272       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:04:15.552319       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007947b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[592a2604-ab35-4c0b-85e9-1c706e03d4eb 592a2604-ab35-4c0b-85e9-1c706e03d4eb] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364900 TLS:0xc0005220b0}
I0412 17:04:15.553969       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:04:15.554234       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:04 +0000 UTC Window:{Duration:14.627s} Containers:[{Name:workload Usage:map[cpu:{i:{value:688529226 scale:-9} d:{Dec:<nil>} s:688529226n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.554262       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:688529226 scale:-9} d:{Dec:<nil>} s:688529226n Format:DecimalSI}, 689
I0412 17:04:15.554493       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:02 +0000 UTC Window:{Duration:10.466s} Containers:[{Name:workload Usage:map[cpu:{i:{value:530496369 scale:-9} d:{Dec:<nil>} s:530496369n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.554513       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:530496369 scale:-9} d:{Dec:<nil>} s:530496369n Format:DecimalSI}, 531
I0412 17:04:15.554606       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:04 +0000 UTC Window:{Duration:13.255s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2251376 scale:-9} d:{Dec:<nil>} s:2251376n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.554622       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2251376 scale:-9} d:{Dec:<nil>} s:2251376n Format:DecimalSI}, 3
I0412 17:04:15.554742       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:05 +0000 UTC Window:{Duration:10.428s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9741561 scale:-9} d:{Dec:<nil>} s:9741561n Format:DecimalSI} memory:{i:{value:169062400 scale:0} d:{Dec:<nil>} s:165100Ki Format:BinarySI}]}]}
I0412 17:04:15.554788       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9741561 scale:-9} d:{Dec:<nil>} s:9741561n Format:DecimalSI}, 10
I0412 17:04:15.554845       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:05 +0000 UTC Window:{Duration:10.933s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1663404 scale:-9} d:{Dec:<nil>} s:1663404n Format:DecimalSI} memory:{i:{value:15216640 scale:0} d:{Dec:<nil>} s:14860Ki Format:BinarySI}]}]}
I0412 17:04:15.554893       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1663404 scale:-9} d:{Dec:<nil>} s:1663404n Format:DecimalSI}, 2
I0412 17:04:15.555012       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:51 +0000 UTC Window:{Duration:15.496s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:04:15.555028       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:04:15.555036       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:04:15.555070       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:03 +0000 UTC Window:{Duration:17.64s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:905839 scale:-9} d:{Dec:<nil>} s:905839n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.555113       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:905839 scale:-9} d:{Dec:<nil>} s:905839n Format:DecimalSI}, 1
I0412 17:04:15.555193       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:57 +0000 UTC Window:{Duration:19.537s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:847724 scale:-9} d:{Dec:<nil>} s:847724n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:04:15.555203       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:847724 scale:-9} d:{Dec:<nil>} s:847724n Format:DecimalSI}, 1
I0412 17:04:15.555235       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:56 +0000 UTC Window:{Duration:30.163s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3068129 scale:-9} d:{Dec:<nil>} s:3068129n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.555275       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3068129 scale:-9} d:{Dec:<nil>} s:3068129n Format:DecimalSI}, 4
I0412 17:04:15.555318       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:05 +0000 UTC Window:{Duration:19.329s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:372445 scale:-9} d:{Dec:<nil>} s:372445n Format:DecimalSI} memory:{i:{value:9723904 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.555340       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:372445 scale:-9} d:{Dec:<nil>} s:372445n Format:DecimalSI}, 1
I0412 17:04:15.555385       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:10 +0000 UTC Window:{Duration:17.701s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:403931 scale:-9} d:{Dec:<nil>} s:403931n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.555397       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:403931 scale:-9} d:{Dec:<nil>} s:403931n Format:DecimalSI}, 1
I0412 17:04:15.555428       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:03:58 +0000 UTC Window:{Duration:14.314s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:102836 scale:-9} d:{Dec:<nil>} s:102836n Format:DecimalSI} memory:{i:{value:11419648 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.555440       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:102836 scale:-9} d:{Dec:<nil>} s:102836n Format:DecimalSI}, 1
I0412 17:04:15.555470       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:06 +0000 UTC Window:{Duration:18.479s} Containers:[{Name:updater Usage:map[cpu:{i:{value:78575 scale:-9} d:{Dec:<nil>} s:78575n Format:DecimalSI} memory:{i:{value:12025856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.555491       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:78575 scale:-9} d:{Dec:<nil>} s:78575n Format:DecimalSI}, 1
I0412 17:04:15.555521       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:03 +0000 UTC Window:{Duration:19.349s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:872551 scale:-9} d:{Dec:<nil>} s:872551n Format:DecimalSI} memory:{i:{value:79314944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:04:15.555541       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:872551 scale:-9} d:{Dec:<nil>} s:872551n Format:DecimalSI}, 1
I0412 17:04:15.555784       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:04:15.555823       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:04:15.556001       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:04:15.556065       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:04:15.556247       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 30, totalWeight: 177443.563\n%-tile\tvalue\n0\t0.010\n5\t0.081\n10\t0.177\n15\t0.237\n20\t0.305\n25\t0.305\n30\t0.305\n35\t0.414\n40\t0.414\n45\t0.414\n50\t0.414\n55\t0.547\n60\t0.547\n65\t0.547\n70\t0.547\n75\t0.547\n80\t0.547\n85\t0.708\n90\t0.708\n95\t0.708\n100\t0.708:
I0412 17:04:15.556283       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000116540 ControlledValues:<nil>}:
I0412 17:04:15.556346       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:476450463]
I0412 17:04:15.556359       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:04:15.556370       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:475 memory:442014518]
I0412 17:04:15.556442       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:04:15.556489       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1544 memory:904965739]
I0412 17:04:15.556542       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:04:15.577023       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713f50} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007280c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[07c80e2b-af54-4cd2-bd09-b165ca866b0c] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6900 TLS:0xc0005220b0}
I0412 17:04:15.593187       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986870} GetBody:0x6d9b40 ContentLength:599 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986900 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[568567c4-1d05-403c-9e0f-d49f1024482b] Cache-Control:[no-cache, private] Content-Length:[1641] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:1641 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b320 TLS:0xc0005220b0}
I0412 17:04:15.593398       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:04:15.593417       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:05:15.532697       1 recommender.go:166] Recommender Run
I0412 17:05:15.532790       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:05:15.532801       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:05:15.532854       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:05:15.563411       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795560 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c9bf350a-2ce5-4fc1-911d-ecd6a2cbada2 c9bf350a-2ce5-4fc1-911d-ecd6a2cbada2] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365680 TLS:0xc0005220b0}
I0412 17:05:15.564428       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:05:15.564545       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:02 +0000 UTC Window:{Duration:17.312s} Containers:[{Name:workload Usage:map[cpu:{i:{value:690607902 scale:-9} d:{Dec:<nil>} s:690607902n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.564698       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:690607902 scale:-9} d:{Dec:<nil>} s:690607902n Format:DecimalSI}, 691
I0412 17:05:15.564826       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-8nzg4 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:07 +0000 UTC Window:{Duration:16.381s} Containers:[{Name:workload Usage:map[cpu:{i:{value:529363469 scale:-9} d:{Dec:<nil>} s:529363469n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.564850       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:529363469 scale:-9} d:{Dec:<nil>} s:529363469n Format:DecimalSI}, 530
I0412 17:05:15.564901       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:03 +0000 UTC Window:{Duration:18.064s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2329329 scale:-9} d:{Dec:<nil>} s:2329329n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.564926       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2329329 scale:-9} d:{Dec:<nil>} s:2329329n Format:DecimalSI}, 3
I0412 17:05:15.564972       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:55 +0000 UTC Window:{Duration:15.711s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10532556 scale:-9} d:{Dec:<nil>} s:10532556n Format:DecimalSI} memory:{i:{value:169025536 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.564980       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10532556 scale:-9} d:{Dec:<nil>} s:10532556n Format:DecimalSI}, 11
I0412 17:05:15.565015       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:09 +0000 UTC Window:{Duration:30.553s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1803227 scale:-9} d:{Dec:<nil>} s:1803227n Format:DecimalSI} memory:{i:{value:15470592 scale:0} d:{Dec:<nil>} s:15108Ki Format:BinarySI}]}]}
I0412 17:05:15.565029       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1803227 scale:-9} d:{Dec:<nil>} s:1803227n Format:DecimalSI}, 2
I0412 17:05:15.565070       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:04:57 +0000 UTC Window:{Duration:29.661s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:7788 scale:-9} d:{Dec:<nil>} s:7788n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:05:15.565098       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:7788 scale:-9} d:{Dec:<nil>} s:7788n Format:DecimalSI}, 1
I0412 17:05:15.565106       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:05:15.565153       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:07 +0000 UTC Window:{Duration:19.807s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1105669 scale:-9} d:{Dec:<nil>} s:1105669n Format:DecimalSI} memory:{i:{value:6991872 scale:0} d:{Dec:<nil>} s:6828Ki Format:BinarySI}]}]}
I0412 17:05:15.565170       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1105669 scale:-9} d:{Dec:<nil>} s:1105669n Format:DecimalSI}, 2
I0412 17:05:15.565219       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:01 +0000 UTC Window:{Duration:15.244s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:732550 scale:-9} d:{Dec:<nil>} s:732550n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:05:15.565246       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:732550 scale:-9} d:{Dec:<nil>} s:732550n Format:DecimalSI}, 1
I0412 17:05:15.565286       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:01 +0000 UTC Window:{Duration:11.073s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2436286 scale:-9} d:{Dec:<nil>} s:2436286n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.565298       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2436286 scale:-9} d:{Dec:<nil>} s:2436286n Format:DecimalSI}, 3
I0412 17:05:15.565332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:07 +0000 UTC Window:{Duration:12.977s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:332434 scale:-9} d:{Dec:<nil>} s:332434n Format:DecimalSI} memory:{i:{value:9728000 scale:0} d:{Dec:<nil>} s:9500Ki Format:BinarySI}]}]}
I0412 17:05:15.565340       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:332434 scale:-9} d:{Dec:<nil>} s:332434n Format:DecimalSI}, 1
I0412 17:05:15.565372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:10 +0000 UTC Window:{Duration:14.235s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:136845 scale:-9} d:{Dec:<nil>} s:136845n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.565429       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:136845 scale:-9} d:{Dec:<nil>} s:136845n Format:DecimalSI}, 1
I0412 17:05:15.565480       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:08 +0000 UTC Window:{Duration:14.985s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:76609 scale:-9} d:{Dec:<nil>} s:76609n Format:DecimalSI} memory:{i:{value:11419648 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.565488       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:76609 scale:-9} d:{Dec:<nil>} s:76609n Format:DecimalSI}, 1
I0412 17:05:15.565521       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:10 +0000 UTC Window:{Duration:18.613s} Containers:[{Name:updater Usage:map[cpu:{i:{value:82361 scale:-9} d:{Dec:<nil>} s:82361n Format:DecimalSI} memory:{i:{value:12066816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:05:15.565543       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:82361 scale:-9} d:{Dec:<nil>} s:82361n Format:DecimalSI}, 1
I0412 17:05:15.565591       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:06 +0000 UTC Window:{Duration:18.676s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1086795 scale:-9} d:{Dec:<nil>} s:1086795n Format:DecimalSI} memory:{i:{value:58740736 scale:0} d:{Dec:<nil>} s:57364Ki Format:BinarySI}]}]}
I0412 17:05:15.565605       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1086795 scale:-9} d:{Dec:<nil>} s:1086795n Format:DecimalSI}, 2
I0412 17:05:15.565719       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:05:15.565740       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:05:15.565810       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:05:15.565846       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:05:15.565909       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 30, totalWeight: 203932.383\n%-tile\tvalue\n0\t0.010\n5\t0.081\n10\t0.177\n15\t0.237\n20\t0.305\n25\t0.305\n30\t0.414\n35\t0.414\n40\t0.414\n45\t0.414\n50\t0.547\n55\t0.547\n60\t0.547\n65\t0.547\n70\t0.547\n75\t0.547\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.708\n100\t0.708:
I0412 17:05:15.565922       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990408 ControlledValues:<nil>}:
I0412 17:05:15.565955       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:813 memory:476450463]
I0412 17:05:15.565966       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:05:15.565994       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:625 memory:442015039]
I0412 17:05:15.566055       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:05:15.566090       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1543 memory:904684900]
I0412 17:05:15.566098       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:05:15.581596       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762420} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007624e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8f947b85-04ed-41ed-925c-b43197b42b70] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2600} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 17:05:15.614425       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007633b0} GetBody:0x6d9b40 ContentLength:597 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763560 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[746ff3ca-ccc7-4e17-b2cf-84b8efa46c0a] Cache-Control:[no-cache, private] Content-Length:[1639] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2f00} ContentLength:1639 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe5a0 TLS:0xc0005220b0}
I0412 17:05:15.614741       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:05:15.614770       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:05:27.948757       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 9 items received
I0412 17:06:15.533467       1 recommender.go:166] Recommender Run
I0412 17:06:15.536796       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:06:15.548691       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:06:15.549370       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:06:15.550257       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-8nzg4}
I0412 17:06:15.571551       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882270 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[54187d93-3efe-42a4-8942-c5dd56e7d193 54187d93-3efe-42a4-8942-c5dd56e7d193] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1d40 TLS:0xc0005220b0}
I0412 17:06:15.572664       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:06:15.572765       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:10 +0000 UTC Window:{Duration:14.363s} Containers:[{Name:workload Usage:map[cpu:{i:{value:689973960 scale:-9} d:{Dec:<nil>} s:689973960n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.572858       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:689973960 scale:-9} d:{Dec:<nil>} s:689973960n Format:DecimalSI}, 690
I0412 17:06:15.572908       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:04 +0000 UTC Window:{Duration:10.538s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747099924 scale:-9} d:{Dec:<nil>} s:747099924n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.572952       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747099924 scale:-9} d:{Dec:<nil>} s:747099924n Format:DecimalSI}, 748
I0412 17:06:15.573001       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:55 +0000 UTC Window:{Duration:25.945s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2615185 scale:-9} d:{Dec:<nil>} s:2615185n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.573017       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2615185 scale:-9} d:{Dec:<nil>} s:2615185n Format:DecimalSI}, 3
I0412 17:06:15.573088       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:11 +0000 UTC Window:{Duration:30.771s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9767280 scale:-9} d:{Dec:<nil>} s:9767280n Format:DecimalSI} memory:{i:{value:169381888 scale:0} d:{Dec:<nil>} s:165412Ki Format:BinarySI}]}]}
I0412 17:06:15.573145       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9767280 scale:-9} d:{Dec:<nil>} s:9767280n Format:DecimalSI}, 10
I0412 17:06:15.573226       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:07 +0000 UTC Window:{Duration:19.255s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1735497 scale:-9} d:{Dec:<nil>} s:1735497n Format:DecimalSI} memory:{i:{value:14696448 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.573262       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1735497 scale:-9} d:{Dec:<nil>} s:1735497n Format:DecimalSI}, 2
I0412 17:06:15.573318       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:00 +0000 UTC Window:{Duration:18.779s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:06:15.573333       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:06:15.573339       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:06:15.573366       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:54 +0000 UTC Window:{Duration:13.16s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:751443 scale:-9} d:{Dec:<nil>} s:751443n Format:DecimalSI} memory:{i:{value:7258112 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.573380       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751443 scale:-9} d:{Dec:<nil>} s:751443n Format:DecimalSI}, 1
I0412 17:06:15.573407       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:08 +0000 UTC Window:{Duration:20.52s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:271345 scale:-9} d:{Dec:<nil>} s:271345n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:06:15.573418       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:271345 scale:-9} d:{Dec:<nil>} s:271345n Format:DecimalSI}, 1
I0412 17:06:15.573457       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:06 +0000 UTC Window:{Duration:16.953s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2813307 scale:-9} d:{Dec:<nil>} s:2813307n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.573469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2813307 scale:-9} d:{Dec:<nil>} s:2813307n Format:DecimalSI}, 3
I0412 17:06:15.573511       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:06 +0000 UTC Window:{Duration:14.906s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:321548 scale:-9} d:{Dec:<nil>} s:321548n Format:DecimalSI} memory:{i:{value:9736192 scale:0} d:{Dec:<nil>} s:9508Ki Format:BinarySI}]}]}
I0412 17:06:15.573528       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:321548 scale:-9} d:{Dec:<nil>} s:321548n Format:DecimalSI}, 1
I0412 17:06:15.573553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:11 +0000 UTC Window:{Duration:31.548s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:523456 scale:-9} d:{Dec:<nil>} s:523456n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.573562       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:523456 scale:-9} d:{Dec:<nil>} s:523456n Format:DecimalSI}, 1
I0412 17:06:15.573585       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:04 +0000 UTC Window:{Duration:17.314s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:408859 scale:-9} d:{Dec:<nil>} s:408859n Format:DecimalSI} memory:{i:{value:11436032 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:06:15.573594       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:408859 scale:-9} d:{Dec:<nil>} s:408859n Format:DecimalSI}, 1
I0412 17:06:15.573618       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:02 +0000 UTC Window:{Duration:19.815s} Containers:[{Name:updater Usage:map[cpu:{i:{value:41332 scale:-9} d:{Dec:<nil>} s:41332n Format:DecimalSI} memory:{i:{value:12087296 scale:0} d:{Dec:<nil>} s:11804Ki Format:BinarySI}]}]}
I0412 17:06:15.573633       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:41332 scale:-9} d:{Dec:<nil>} s:41332n Format:DecimalSI}, 1
I0412 17:06:15.573666       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:05:53 +0000 UTC Window:{Duration:16.999s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1375492 scale:-9} d:{Dec:<nil>} s:1375492n Format:DecimalSI} memory:{i:{value:60928000 scale:0} d:{Dec:<nil>} s:59500Ki Format:BinarySI}]}]}
I0412 17:06:15.573676       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1375492 scale:-9} d:{Dec:<nil>} s:1375492n Format:DecimalSI}, 2
I0412 17:06:15.573855       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:06:15.573886       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:06:15.573966       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:06:15.574004       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:06:15.574085       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 31, totalWeight: 234536.537\n%-tile\tvalue\n0\t0.010\n5\t0.081\n10\t0.237\n15\t0.237\n20\t0.305\n25\t0.385\n30\t0.414\n35\t0.414\n40\t0.414\n45\t0.547\n50\t0.547\n55\t0.547\n60\t0.547\n65\t0.547\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.708\n95\t0.753\n100\t0.753:
I0412 17:06:15.574102       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840168 ControlledValues:<nil>}:
I0412 17:06:15.574203       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:06:15.574221       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:06:15.574232       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:625 memory:442015559]
I0412 17:06:15.574238       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:06:15.574246       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1640 memory:904404429]
I0412 17:06:15.574252       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:06:15.591788       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1f50} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712090 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[195d674d-d486-441b-a4f1-9193a99165d6] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2480} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d9e0 TLS:0xc0005220b0}
I0412 17:06:15.604538       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000986570} GetBody:0x6d9b40 ContentLength:607 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986600 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[26af1b46-5513-4cad-ae67-6220ece64564] Cache-Control:[no-cache, private] Content-Length:[1659] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:1659 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 17:06:15.605515       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:06:15.605537       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:06:45.812847       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 13 items received
I0412 17:06:59.167739       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 4 items received
I0412 17:07:06.292158       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 5 items received
I0412 17:07:15.532726       1 recommender.go:166] Recommender Run
I0412 17:07:15.533203       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:07:15.533447       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:07:15.533761       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:07:15.562462       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be240 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0fa06cf2-1491-4c55-ba04-b085425b250b 0fa06cf2-1491-4c55-ba04-b085425b250b] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cb40 TLS:0xc0005220b0}
I0412 17:07:15.563179       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:07:15.563263       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:56 +0000 UTC Window:{Duration:16.07s} Containers:[{Name:workload Usage:map[cpu:{i:{value:691059800 scale:-9} d:{Dec:<nil>} s:691059800n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:07:15.563272       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:691059800 scale:-9} d:{Dec:<nil>} s:691059800n Format:DecimalSI}, 692
I0412 17:07:15.563299       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:07 +0000 UTC Window:{Duration:19.312s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749532570 scale:-9} d:{Dec:<nil>} s:749532570n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:07:15.563318       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749532570 scale:-9} d:{Dec:<nil>} s:749532570n Format:DecimalSI}, 750
I0412 17:07:15.563338       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:08 +0000 UTC Window:{Duration:24.06s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2148171 scale:-9} d:{Dec:<nil>} s:2148171n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:07:15.563347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2148171 scale:-9} d:{Dec:<nil>} s:2148171n Format:DecimalSI}, 3
I0412 17:07:15.563372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:58 +0000 UTC Window:{Duration:15.814s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10699190 scale:-9} d:{Dec:<nil>} s:10699190n Format:DecimalSI} memory:{i:{value:169381888 scale:0} d:{Dec:<nil>} s:165412Ki Format:BinarySI}]}]}
I0412 17:07:15.563388       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10699190 scale:-9} d:{Dec:<nil>} s:10699190n Format:DecimalSI}, 11
I0412 17:07:15.563404       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:53 +0000 UTC Window:{Duration:16.383s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1778001 scale:-9} d:{Dec:<nil>} s:1778001n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:07:15.563408       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1778001 scale:-9} d:{Dec:<nil>} s:1778001n Format:DecimalSI}, 2
I0412 17:07:15.563432       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:06:59 +0000 UTC Window:{Duration:24.995s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:07:15.563446       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:07:15.563449       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:07:15.563471       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:06 +0000 UTC Window:{Duration:15.117s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1156777 scale:-9} d:{Dec:<nil>} s:1156777n Format:DecimalSI} memory:{i:{value:6893568 scale:0} d:{Dec:<nil>} s:6732Ki Format:BinarySI}]}]}
I0412 17:07:15.563504       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1156777 scale:-9} d:{Dec:<nil>} s:1156777n Format:DecimalSI}, 2
I0412 17:07:15.563532       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:09 +0000 UTC Window:{Duration:16.662s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:423658 scale:-9} d:{Dec:<nil>} s:423658n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:07:15.563535       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:423658 scale:-9} d:{Dec:<nil>} s:423658n Format:DecimalSI}, 1
I0412 17:07:15.563550       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:03 +0000 UTC Window:{Duration:19.333s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2421145 scale:-9} d:{Dec:<nil>} s:2421145n Format:DecimalSI} memory:{i:{value:19730432 scale:0} d:{Dec:<nil>} s:19268Ki Format:BinarySI}]}]}
I0412 17:07:15.563560       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2421145 scale:-9} d:{Dec:<nil>} s:2421145n Format:DecimalSI}, 3
I0412 17:07:15.563574       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:03 +0000 UTC Window:{Duration:12.371s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:186161 scale:-9} d:{Dec:<nil>} s:186161n Format:DecimalSI} memory:{i:{value:9748480 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:07:15.563578       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:186161 scale:-9} d:{Dec:<nil>} s:186161n Format:DecimalSI}, 1
I0412 17:07:15.563591       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:09 +0000 UTC Window:{Duration:22.835s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:188395 scale:-9} d:{Dec:<nil>} s:188395n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:07:15.563601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:188395 scale:-9} d:{Dec:<nil>} s:188395n Format:DecimalSI}, 1
I0412 17:07:15.563615       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:10 +0000 UTC Window:{Duration:19.183s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:216806 scale:-9} d:{Dec:<nil>} s:216806n Format:DecimalSI} memory:{i:{value:11440128 scale:0} d:{Dec:<nil>} s:11172Ki Format:BinarySI}]}]}
I0412 17:07:15.563633       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:216806 scale:-9} d:{Dec:<nil>} s:216806n Format:DecimalSI}, 1
I0412 17:07:15.563665       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:09 +0000 UTC Window:{Duration:19.717s} Containers:[{Name:updater Usage:map[cpu:{i:{value:629608 scale:-9} d:{Dec:<nil>} s:629608n Format:DecimalSI} memory:{i:{value:12087296 scale:0} d:{Dec:<nil>} s:11804Ki Format:BinarySI}]}]}
I0412 17:07:15.563682       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:629608 scale:-9} d:{Dec:<nil>} s:629608n Format:DecimalSI}, 1
I0412 17:07:15.563699       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:02 +0000 UTC Window:{Duration:18.7s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:938021 scale:-9} d:{Dec:<nil>} s:938021n Format:DecimalSI} memory:{i:{value:59002880 scale:0} d:{Dec:<nil>} s:57620Ki Format:BinarySI}]}]}
I0412 17:07:15.563702       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:938021 scale:-9} d:{Dec:<nil>} s:938021n Format:DecimalSI}, 1
I0412 17:07:15.563772       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:07:15.563784       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:07:15.563812       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:07:15.563834       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:07:15.563870       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 31, totalWeight: 269249.536\n%-tile\tvalue\n0\t0.010\n5\t0.110\n10\t0.237\n15\t0.305\n20\t0.305\n25\t0.414\n30\t0.414\n35\t0.414\n40\t0.547\n45\t0.547\n50\t0.547\n55\t0.547\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.708\n90\t0.753\n95\t0.753\n100\t0.753:
I0412 17:07:15.563879       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605d70 ControlledValues:<nil>}:
I0412 17:07:15.563897       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:07:15.563906       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:07:15.563911       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:625 memory:442016029]
I0412 17:07:15.563914       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:07:15.563918       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1639 memory:904150986]
I0412 17:07:15.563922       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:07:15.590426       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763590} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763a10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[42cbbf8b-ceca-41dc-92e0-514127326bd3] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2d80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365560 TLS:0xc0005220b0}
I0412 17:07:15.615405       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007945a0} GetBody:0x6d9b40 ContentLength:606 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794630 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e4840397-925b-4f4f-9366-798c98caf058] Cache-Control:[no-cache, private] Content-Length:[1658] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd680} ContentLength:1658 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6900 TLS:0xc0005220b0}
I0412 17:07:15.615706       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:07:15.615730       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:07:47.085476       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 10 items received
I0412 17:08:15.507851       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 6 items received
I0412 17:08:15.532671       1 recommender.go:166] Recommender Run
I0412 17:08:15.532759       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:08:15.532799       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:08:15.532843       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:08:15.558641       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746cc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[92af42e9-a942-4f0b-b087-98e601aab848 92af42e9-a942-4f0b-b087-98e601aab848] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003650e0 TLS:0xc0005220b0}
I0412 17:08:15.559599       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:08:15.559680       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:03 +0000 UTC Window:{Duration:16.387s} Containers:[{Name:workload Usage:map[cpu:{i:{value:690398730 scale:-9} d:{Dec:<nil>} s:690398730n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:08:15.559702       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:690398730 scale:-9} d:{Dec:<nil>} s:690398730n Format:DecimalSI}, 691
I0412 17:08:15.559739       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:04 +0000 UTC Window:{Duration:13.208s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749486977 scale:-9} d:{Dec:<nil>} s:749486977n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:08:15.559745       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749486977 scale:-9} d:{Dec:<nil>} s:749486977n Format:DecimalSI}, 750
I0412 17:08:15.559774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:03 +0000 UTC Window:{Duration:13.454s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3125761 scale:-9} d:{Dec:<nil>} s:3125761n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:08:15.559787       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3125761 scale:-9} d:{Dec:<nil>} s:3125761n Format:DecimalSI}, 4
I0412 17:08:15.559816       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:00 +0000 UTC Window:{Duration:12.578s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10947686 scale:-9} d:{Dec:<nil>} s:10947686n Format:DecimalSI} memory:{i:{value:168742912 scale:0} d:{Dec:<nil>} s:164788Ki Format:BinarySI}]}]}
I0412 17:08:15.559825       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10947686 scale:-9} d:{Dec:<nil>} s:10947686n Format:DecimalSI}, 11
I0412 17:08:15.559850       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:53 +0000 UTC Window:{Duration:25.804s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1858355 scale:-9} d:{Dec:<nil>} s:1858355n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:08:15.559861       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1858355 scale:-9} d:{Dec:<nil>} s:1858355n Format:DecimalSI}, 2
I0412 17:08:15.559891       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:47 +0000 UTC Window:{Duration:10.595s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:08:15.559903       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:08:15.559909       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:08:15.559942       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:06 +0000 UTC Window:{Duration:16.647s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1100859 scale:-9} d:{Dec:<nil>} s:1100859n Format:DecimalSI} memory:{i:{value:6934528 scale:0} d:{Dec:<nil>} s:6772Ki Format:BinarySI}]}]}
I0412 17:08:15.559953       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1100859 scale:-9} d:{Dec:<nil>} s:1100859n Format:DecimalSI}, 2
I0412 17:08:15.559979       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:07 +0000 UTC Window:{Duration:17.337s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:456711 scale:-9} d:{Dec:<nil>} s:456711n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:08:15.559984       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:456711 scale:-9} d:{Dec:<nil>} s:456711n Format:DecimalSI}, 1
I0412 17:08:15.560007       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:57 +0000 UTC Window:{Duration:17.283s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2066481 scale:-9} d:{Dec:<nil>} s:2066481n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:08:15.560057       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2066481 scale:-9} d:{Dec:<nil>} s:2066481n Format:DecimalSI}, 3
I0412 17:08:15.560096       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:05 +0000 UTC Window:{Duration:19.953s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:211847 scale:-9} d:{Dec:<nil>} s:211847n Format:DecimalSI} memory:{i:{value:9748480 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:08:15.560101       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:211847 scale:-9} d:{Dec:<nil>} s:211847n Format:DecimalSI}, 1
I0412 17:08:15.560137       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:02 +0000 UTC Window:{Duration:19.244s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:77426 scale:-9} d:{Dec:<nil>} s:77426n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:08:15.560176       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:77426 scale:-9} d:{Dec:<nil>} s:77426n Format:DecimalSI}, 1
I0412 17:08:15.560244       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:58 +0000 UTC Window:{Duration:16.479s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:837004 scale:-9} d:{Dec:<nil>} s:837004n Format:DecimalSI} memory:{i:{value:11448320 scale:0} d:{Dec:<nil>} s:11180Ki Format:BinarySI}]}]}
I0412 17:08:15.560256       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:837004 scale:-9} d:{Dec:<nil>} s:837004n Format:DecimalSI}, 1
I0412 17:08:15.560283       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:07:53 +0000 UTC Window:{Duration:16.764s} Containers:[{Name:updater Usage:map[cpu:{i:{value:246003 scale:-9} d:{Dec:<nil>} s:246003n Format:DecimalSI} memory:{i:{value:12087296 scale:0} d:{Dec:<nil>} s:11804Ki Format:BinarySI}]}]}
I0412 17:08:15.560292       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:246003 scale:-9} d:{Dec:<nil>} s:246003n Format:DecimalSI}, 1
I0412 17:08:15.560319       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:09 +0000 UTC Window:{Duration:29.669s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1061849 scale:-9} d:{Dec:<nil>} s:1061849n Format:DecimalSI} memory:{i:{value:59002880 scale:0} d:{Dec:<nil>} s:57620Ki Format:BinarySI}]}]}
I0412 17:08:15.560324       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1061849 scale:-9} d:{Dec:<nil>} s:1061849n Format:DecimalSI}, 2
I0412 17:08:15.560408       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:08:15.560423       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:08:15.560462       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:08:15.560511       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:08:15.560552       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 31, totalWeight: 309305.781\n%-tile\tvalue\n0\t0.010\n5\t0.126\n10\t0.237\n15\t0.305\n20\t0.414\n25\t0.414\n30\t0.414\n35\t0.547\n40\t0.547\n45\t0.547\n50\t0.547\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.708\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.753:
I0412 17:08:15.560638       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990a08 ControlledValues:<nil>}:
I0412 17:08:15.560716       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:08:15.560752       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:08:15.560840       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:625 memory:442016498]
I0412 17:08:15.560857       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:08:15.560867       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1639 memory:903897843]
I0412 17:08:15.560872       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:08:15.577377       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883110} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008831a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c8c58fe4-72d2-4e1d-9a30-de2826745ee2] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7d40 TLS:0xc0005220b0}
I0412 17:08:15.590609       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883b00} GetBody:0x6d9b40 ContentLength:605 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883b90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3f6e4d55-f1af-4a4c-bdee-5fb1660b6997] Cache-Control:[no-cache, private] Content-Length:[1657] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:1657 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 17:08:15.590846       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:08:15.590867       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 17:08:15.590887       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:08:15.590893       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:08:15.590939       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:08:15.601984       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582de0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e54c5b84-1d74-4596-a1a7-d2448b70e3ff] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd380} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b680 TLS:0xc0005220b0}
I0412 17:08:15.609505       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4ed1c69b-8ecf-474c-b59d-1f4b8b71420b] Cache-Control:[no-cache, private] Content-Length:[1810] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:1810 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff560 TLS:0xc0005220b0}
I0412 17:08:15.619952       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007472c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7fb3b0ec-e75f-4dda-8c3c-ee021683cab6] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2c00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365c20 TLS:0xc0005220b0}
I0412 17:08:15.628757       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747920 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e71b4abb-f9d0-4b5f-9992-026c1aa7f4f6] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2d80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1680 TLS:0xc0005220b0}
I0412 17:08:15.648756       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747ef0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0917a160-e86d-43b9-8ae5-198d11145624] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c2f00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1c20 TLS:0xc0005220b0}
I0412 17:08:15.664047       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712930 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9b74746b-1ae6-4a91-968c-fb7928635114] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2300} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c5a0 TLS:0xc0005220b0}
I0412 17:08:15.664190       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:08:44.754454       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 14 items received
I0412 17:09:15.532673       1 recommender.go:166] Recommender Run
I0412 17:09:15.532787       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:09:15.532850       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:09:15.532982       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:09:15.559573       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1380 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[86f158b0-901a-497e-8d9d-d080f67ffcf1 86f158b0-901a-497e-8d9d-d080f67ffcf1] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3200} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 17:09:15.560463       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:09:15.560567       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-845tz GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:05 +0000 UTC Window:{Duration:15.045s} Containers:[{Name:workload Usage:map[cpu:{i:{value:690588035 scale:-9} d:{Dec:<nil>} s:690588035n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.560586       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:690588035 scale:-9} d:{Dec:<nil>} s:690588035n Format:DecimalSI}, 691
I0412 17:09:15.560670       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:02 +0000 UTC Window:{Duration:19.003s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749807925 scale:-9} d:{Dec:<nil>} s:749807925n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.560704       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749807925 scale:-9} d:{Dec:<nil>} s:749807925n Format:DecimalSI}, 750
I0412 17:09:15.560745       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:06 +0000 UTC Window:{Duration:18.087s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1901420 scale:-9} d:{Dec:<nil>} s:1901420n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.560758       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1901420 scale:-9} d:{Dec:<nil>} s:1901420n Format:DecimalSI}, 2
I0412 17:09:15.560828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:04 +0000 UTC Window:{Duration:15.44s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10928756 scale:-9} d:{Dec:<nil>} s:10928756n Format:DecimalSI} memory:{i:{value:168751104 scale:0} d:{Dec:<nil>} s:164796Ki Format:BinarySI}]}]}
I0412 17:09:15.560842       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10928756 scale:-9} d:{Dec:<nil>} s:10928756n Format:DecimalSI}, 11
I0412 17:09:15.560869       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:59 +0000 UTC Window:{Duration:11.979s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1841973 scale:-9} d:{Dec:<nil>} s:1841973n Format:DecimalSI} memory:{i:{value:14741504 scale:0} d:{Dec:<nil>} s:14396Ki Format:BinarySI}]}]}
I0412 17:09:15.560880       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1841973 scale:-9} d:{Dec:<nil>} s:1841973n Format:DecimalSI}, 2
I0412 17:09:15.560919       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:48 +0000 UTC Window:{Duration:11.815s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:09:15.560936       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:09:15.560943       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:09:15.560969       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:57 +0000 UTC Window:{Duration:12.585s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1516170 scale:-9} d:{Dec:<nil>} s:1516170n Format:DecimalSI} memory:{i:{value:6938624 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.560976       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1516170 scale:-9} d:{Dec:<nil>} s:1516170n Format:DecimalSI}, 2
I0412 17:09:15.561001       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:09 +0000 UTC Window:{Duration:26.197s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:384815 scale:-9} d:{Dec:<nil>} s:384815n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.561011       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:384815 scale:-9} d:{Dec:<nil>} s:384815n Format:DecimalSI}, 1
I0412 17:09:15.561061       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:06 +0000 UTC Window:{Duration:10.482s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2974909 scale:-9} d:{Dec:<nil>} s:2974909n Format:DecimalSI} memory:{i:{value:19472384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.561073       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2974909 scale:-9} d:{Dec:<nil>} s:2974909n Format:DecimalSI}, 3
I0412 17:09:15.561099       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:11 +0000 UTC Window:{Duration:28.274s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:247011 scale:-9} d:{Dec:<nil>} s:247011n Format:DecimalSI} memory:{i:{value:9748480 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.561104       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:247011 scale:-9} d:{Dec:<nil>} s:247011n Format:DecimalSI}, 1
I0412 17:09:15.561142       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:05 +0000 UTC Window:{Duration:12.698s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:197275 scale:-9} d:{Dec:<nil>} s:197275n Format:DecimalSI} memory:{i:{value:11616256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.561152       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:197275 scale:-9} d:{Dec:<nil>} s:197275n Format:DecimalSI}, 1
I0412 17:09:15.561177       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:07 +0000 UTC Window:{Duration:14.664s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:29255 scale:-9} d:{Dec:<nil>} s:29255n Format:DecimalSI} memory:{i:{value:11452416 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.561186       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:29255 scale:-9} d:{Dec:<nil>} s:29255n Format:DecimalSI}, 1
I0412 17:09:15.561212       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:09 +0000 UTC Window:{Duration:14.184s} Containers:[{Name:updater Usage:map[cpu:{i:{value:466934 scale:-9} d:{Dec:<nil>} s:466934n Format:DecimalSI} memory:{i:{value:11993088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:09:15.561225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:466934 scale:-9} d:{Dec:<nil>} s:466934n Format:DecimalSI}, 1
I0412 17:09:15.561249       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:08:56 +0000 UTC Window:{Duration:16.603s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1204300 scale:-9} d:{Dec:<nil>} s:1204300n Format:DecimalSI} memory:{i:{value:54669312 scale:0} d:{Dec:<nil>} s:53388Ki Format:BinarySI}]}]}
I0412 17:09:15.561278       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1204300 scale:-9} d:{Dec:<nil>} s:1204300n Format:DecimalSI}, 2
I0412 17:09:15.561505       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:09:15.561541       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:09:15.561622       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:09:15.561665       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:09:15.561763       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 31, totalWeight: 355318.568\n%-tile\tvalue\n0\t0.010\n5\t0.177\n10\t0.305\n15\t0.305\n20\t0.414\n25\t0.414\n30\t0.547\n35\t0.547\n40\t0.547\n45\t0.547\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.708\n75\t0.708\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.753:
I0412 17:09:15.561776       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009914a0 ControlledValues:<nil>}:
I0412 17:09:15.561837       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:09:15.561852       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:09:15.561900       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:442016999]
I0412 17:09:15.561911       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:09:15.561919       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1638 memory:903627268]
I0412 17:09:15.561937       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:09:15.579237       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0009869f0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986a80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3776c875-1ced-4bad-9863-b8caa3e01f5e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2c00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214480 TLS:0xc0005220b0}
I0412 17:09:15.590744       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1bf0} GetBody:0x6d9b40 ContentLength:605 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1c80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1d203342-0636-417f-84ee-ae8d9f97b08d] Cache-Control:[no-cache, private] Content-Length:[1658] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0007c3800} ContentLength:1658 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d8c0 TLS:0xc0005220b0}
I0412 17:09:15.591121       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:09:15.591166       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:09:26.552874       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 13 items received
I0412 17:10:15.536754       1 recommender.go:166] Recommender Run
I0412 17:10:15.537279       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:10:15.537512       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:10:15.537804       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:10:15.538151       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-845tz}
I0412 17:10:15.563887       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cc90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[90a8216a-aa8c-423d-b34c-a6ff03cee29d 90a8216a-aa8c-423d-b34c-a6ff03cee29d] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff7a0 TLS:0xc0005220b0}
I0412 17:10:15.564847       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:10:15.564979       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:05 +0000 UTC Window:{Duration:10.791s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750577888 scale:-9} d:{Dec:<nil>} s:750577888n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:10:15.565001       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750577888 scale:-9} d:{Dec:<nil>} s:750577888n Format:DecimalSI}, 751
I0412 17:10:15.565048       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:07 +0000 UTC Window:{Duration:16.69s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750623786 scale:-9} d:{Dec:<nil>} s:750623786n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:10:15.565063       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750623786 scale:-9} d:{Dec:<nil>} s:750623786n Format:DecimalSI}, 751
I0412 17:10:15.565122       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:08 +0000 UTC Window:{Duration:16.91s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1578769 scale:-9} d:{Dec:<nil>} s:1578769n Format:DecimalSI} memory:{i:{value:32329728 scale:0} d:{Dec:<nil>} s:31572Ki Format:BinarySI}]}]}
I0412 17:10:15.565137       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1578769 scale:-9} d:{Dec:<nil>} s:1578769n Format:DecimalSI}, 2
I0412 17:10:15.565184       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:04 +0000 UTC Window:{Duration:15.492s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:6913568 scale:-9} d:{Dec:<nil>} s:6913568n Format:DecimalSI} memory:{i:{value:170041344 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:10:15.565195       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:6913568 scale:-9} d:{Dec:<nil>} s:6913568n Format:DecimalSI}, 7
I0412 17:10:15.565225       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:53 +0000 UTC Window:{Duration:16.469s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1769506 scale:-9} d:{Dec:<nil>} s:1769506n Format:DecimalSI} memory:{i:{value:14868480 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:10:15.565231       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1769506 scale:-9} d:{Dec:<nil>} s:1769506n Format:DecimalSI}, 2
I0412 17:10:15.565267       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:04 +0000 UTC Window:{Duration:11.467s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:10:15.565280       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:10:15.565287       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:10:15.565317       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:07 +0000 UTC Window:{Duration:13.743s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:724732 scale:-9} d:{Dec:<nil>} s:724732n Format:DecimalSI} memory:{i:{value:6938624 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:10:15.565323       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:724732 scale:-9} d:{Dec:<nil>} s:724732n Format:DecimalSI}, 1
I0412 17:10:15.565414       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:10 +0000 UTC Window:{Duration:19.474s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:319554 scale:-9} d:{Dec:<nil>} s:319554n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:10:15.565431       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:319554 scale:-9} d:{Dec:<nil>} s:319554n Format:DecimalSI}, 1
I0412 17:10:15.565480       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:06 +0000 UTC Window:{Duration:13.639s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:1401935 scale:-9} d:{Dec:<nil>} s:1401935n Format:DecimalSI} memory:{i:{value:19476480 scale:0} d:{Dec:<nil>} s:19020Ki Format:BinarySI}]}]}
I0412 17:10:15.565498       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1401935 scale:-9} d:{Dec:<nil>} s:1401935n Format:DecimalSI}, 2
I0412 17:10:15.565532       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:06 +0000 UTC Window:{Duration:12.182s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:218354 scale:-9} d:{Dec:<nil>} s:218354n Format:DecimalSI} memory:{i:{value:9646080 scale:0} d:{Dec:<nil>} s:9420Ki Format:BinarySI}]}]}
I0412 17:10:15.565541       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:218354 scale:-9} d:{Dec:<nil>} s:218354n Format:DecimalSI}, 1
I0412 17:10:15.565570       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:11 +0000 UTC Window:{Duration:16.207s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:734435 scale:-9} d:{Dec:<nil>} s:734435n Format:DecimalSI} memory:{i:{value:11632640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:10:15.565576       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:734435 scale:-9} d:{Dec:<nil>} s:734435n Format:DecimalSI}, 1
I0412 17:10:15.565615       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:04 +0000 UTC Window:{Duration:12.308s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:725869 scale:-9} d:{Dec:<nil>} s:725869n Format:DecimalSI} memory:{i:{value:11452416 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:10:15.565627       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:725869 scale:-9} d:{Dec:<nil>} s:725869n Format:DecimalSI}, 1
I0412 17:10:15.565658       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:09:53 +0000 UTC Window:{Duration:12.661s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:12005376 scale:0} d:{Dec:<nil>} s:11724Ki Format:BinarySI}]}]}
I0412 17:10:15.565666       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:10:15.565698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:03 +0000 UTC Window:{Duration:17.427s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1140586 scale:-9} d:{Dec:<nil>} s:1140586n Format:DecimalSI} memory:{i:{value:55390208 scale:0} d:{Dec:<nil>} s:54092Ki Format:BinarySI}]}]}
I0412 17:10:15.565705       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1140586 scale:-9} d:{Dec:<nil>} s:1140586n Format:DecimalSI}, 2
I0412 17:10:15.565871       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:10:15.565888       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:10:15.565949       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:10:15.565990       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:10:15.566064       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 31, totalWeight: 408479.389\n%-tile\tvalue\n0\t0.010\n5\t0.177\n10\t0.305\n15\t0.414\n20\t0.414\n25\t0.547\n30\t0.547\n35\t0.547\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.708\n65\t0.708\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.753:
I0412 17:10:15.566077       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0008411d0 ControlledValues:<nil>}:
I0412 17:10:15.566106       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:10:15.566115       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:10:15.566126       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:442017509]
I0412 17:10:15.566146       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:10:15.566156       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1638 memory:903352607]
I0412 17:10:15.566163       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:10:15.580262       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794330} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007943c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[14201f25-45ef-45f3-9124-784b890b416e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b7a0 TLS:0xc0005220b0}
I0412 17:10:15.596434       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728fc0} GetBody:0x6d9b40 ContentLength:604 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729050 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fb61a944-2c41-404e-bfd8-88e8a4ce364c] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b70e0 TLS:0xc0005220b0}
I0412 17:10:15.609443       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc0008825a0} GetBody:0x6d9b40 ContentLength:786 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882630 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a4075fb0-740d-4290-b1c9-414c5daba9a5] Cache-Control:[no-cache, private] Content-Length:[1656] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:1656 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364fc0 TLS:0xc0005220b0}
I0412 17:10:15.609785       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:10:15.609814       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:11:01.370886       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 6 items received
I0412 17:11:15.532751       1 recommender.go:166] Recommender Run
I0412 17:11:15.532917       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:11:15.536633       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:11:15.536952       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:11:15.564476       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005820f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bea597f4-91ed-4732-889e-caaf3982ab9a bea597f4-91ed-4732-889e-caaf3982ab9a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b78c0 TLS:0xc0005220b0}
I0412 17:11:15.565304       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:11:15.565442       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:04 +0000 UTC Window:{Duration:17.699s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750206565 scale:-9} d:{Dec:<nil>} s:750206565n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:11:15.565488       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750206565 scale:-9} d:{Dec:<nil>} s:750206565n Format:DecimalSI}, 751
I0412 17:11:15.565529       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:10 +0000 UTC Window:{Duration:14.441s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751347136 scale:-9} d:{Dec:<nil>} s:751347136n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:11:15.565537       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751347136 scale:-9} d:{Dec:<nil>} s:751347136n Format:DecimalSI}, 752
I0412 17:11:15.565579       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:08 +0000 UTC Window:{Duration:15.295s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1581170 scale:-9} d:{Dec:<nil>} s:1581170n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:11:15.565599       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1581170 scale:-9} d:{Dec:<nil>} s:1581170n Format:DecimalSI}, 2
I0412 17:11:15.565643       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:06 +0000 UTC Window:{Duration:11.502s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:8921926 scale:-9} d:{Dec:<nil>} s:8921926n Format:DecimalSI} memory:{i:{value:168828928 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:11:15.565682       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:8921926 scale:-9} d:{Dec:<nil>} s:8921926n Format:DecimalSI}, 9
I0412 17:11:15.565714       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:57 +0000 UTC Window:{Duration:10.408s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1388835 scale:-9} d:{Dec:<nil>} s:1388835n Format:DecimalSI} memory:{i:{value:14680064 scale:0} d:{Dec:<nil>} s:14Mi Format:BinarySI}]}]}
I0412 17:11:15.565720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1388835 scale:-9} d:{Dec:<nil>} s:1388835n Format:DecimalSI}, 2
I0412 17:11:15.565738       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:57 +0000 UTC Window:{Duration:14.226s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:11:15.565761       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:11:15.565787       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:11:15.565818       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:02 +0000 UTC Window:{Duration:11.785s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1297411 scale:-9} d:{Dec:<nil>} s:1297411n Format:DecimalSI} memory:{i:{value:7012352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:11:15.565824       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1297411 scale:-9} d:{Dec:<nil>} s:1297411n Format:DecimalSI}, 2
I0412 17:11:15.565839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:06 +0000 UTC Window:{Duration:18.561s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:395614 scale:-9} d:{Dec:<nil>} s:395614n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:11:15.565844       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:395614 scale:-9} d:{Dec:<nil>} s:395614n Format:DecimalSI}, 1
I0412 17:11:15.565880       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:05 +0000 UTC Window:{Duration:13.961s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:1939330 scale:-9} d:{Dec:<nil>} s:1939330n Format:DecimalSI} memory:{i:{value:19177472 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:11:15.565888       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1939330 scale:-9} d:{Dec:<nil>} s:1939330n Format:DecimalSI}, 2
I0412 17:11:15.565903       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:09 +0000 UTC Window:{Duration:13.773s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:317360 scale:-9} d:{Dec:<nil>} s:317360n Format:DecimalSI} memory:{i:{value:9646080 scale:0} d:{Dec:<nil>} s:9420Ki Format:BinarySI}]}]}
I0412 17:11:15.565908       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:317360 scale:-9} d:{Dec:<nil>} s:317360n Format:DecimalSI}, 1
I0412 17:11:15.565923       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:10:58 +0000 UTC Window:{Duration:19.072s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:56889 scale:-9} d:{Dec:<nil>} s:56889n Format:DecimalSI} memory:{i:{value:11644928 scale:0} d:{Dec:<nil>} s:11372Ki Format:BinarySI}]}]}
I0412 17:11:15.565957       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:56889 scale:-9} d:{Dec:<nil>} s:56889n Format:DecimalSI}, 1
I0412 17:11:15.566002       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:10 +0000 UTC Window:{Duration:16.798s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:127931 scale:-9} d:{Dec:<nil>} s:127931n Format:DecimalSI} memory:{i:{value:11452416 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:11:15.566059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:127931 scale:-9} d:{Dec:<nil>} s:127931n Format:DecimalSI}, 1
I0412 17:11:15.566084       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:12 +0000 UTC Window:{Duration:19.471s} Containers:[{Name:updater Usage:map[cpu:{i:{value:271891 scale:-9} d:{Dec:<nil>} s:271891n Format:DecimalSI} memory:{i:{value:12005376 scale:0} d:{Dec:<nil>} s:11724Ki Format:BinarySI}]}]}
I0412 17:11:15.566092       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:271891 scale:-9} d:{Dec:<nil>} s:271891n Format:DecimalSI}, 1
I0412 17:11:15.566131       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:06 +0000 UTC Window:{Duration:15.315s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:940189 scale:-9} d:{Dec:<nil>} s:940189n Format:DecimalSI} memory:{i:{value:54452224 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:11:15.566150       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:940189 scale:-9} d:{Dec:<nil>} s:940189n Format:DecimalSI}, 1
I0412 17:11:15.566219       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:11:15.566229       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:11:15.566251       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:11:15.566294       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:11:15.566319       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 31, totalWeight: 469687.698\n%-tile\tvalue\n0\t0.010\n5\t0.237\n10\t0.305\n15\t0.414\n20\t0.414\n25\t0.547\n30\t0.547\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.708\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.753:
I0412 17:11:15.566324       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990cf0 ControlledValues:<nil>}:
I0412 17:11:15.566345       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:11:15.566350       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:11:15.566356       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:442018025]
I0412 17:11:15.566378       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:11:15.566392       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1637 memory:903073878]
I0412 17:11:15.566396       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:11:15.583858       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007129f0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712a80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7d60db5a-6e67-4626-bf52-74a88708e9fa] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c360 TLS:0xc0005220b0}
I0412 17:11:15.614129       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007135c0} GetBody:0x6d9b40 ContentLength:603 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713650 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0ef1e7bd-43d1-48a4-95c8-6af09da60c59] Cache-Control:[no-cache, private] Content-Length:[1655] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:1655 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cb40 TLS:0xc0005220b0}
I0412 17:11:15.614301       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:11:15.614315       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:12:15.532726       1 recommender.go:166] Recommender Run
I0412 17:12:15.533042       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:12:15.533146       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:12:15.540719       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:12:15.565644       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882570 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[18467965-b55d-4b29-b272-1af5f6672771 18467965-b55d-4b29-b272-1af5f6672771] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364a20 TLS:0xc0005220b0}
I0412 17:12:15.567025       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:12:15.567138       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:02 +0000 UTC Window:{Duration:11.07s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752220325 scale:-9} d:{Dec:<nil>} s:752220325n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:12:15.567166       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752220325 scale:-9} d:{Dec:<nil>} s:752220325n Format:DecimalSI}, 753
I0412 17:12:15.567209       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:09 +0000 UTC Window:{Duration:14.8s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749921013 scale:-9} d:{Dec:<nil>} s:749921013n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567223       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749921013 scale:-9} d:{Dec:<nil>} s:749921013n Format:DecimalSI}, 750
I0412 17:12:15.567278       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:06 +0000 UTC Window:{Duration:10.764s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2110553 scale:-9} d:{Dec:<nil>} s:2110553n Format:DecimalSI} memory:{i:{value:32333824 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567291       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2110553 scale:-9} d:{Dec:<nil>} s:2110553n Format:DecimalSI}, 3
I0412 17:12:15.567346       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:07 +0000 UTC Window:{Duration:13.613s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11003893 scale:-9} d:{Dec:<nil>} s:11003893n Format:DecimalSI} memory:{i:{value:167624704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567357       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11003893 scale:-9} d:{Dec:<nil>} s:11003893n Format:DecimalSI}, 12
I0412 17:12:15.567391       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:57 +0000 UTC Window:{Duration:10.881s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1838250 scale:-9} d:{Dec:<nil>} s:1838250n Format:DecimalSI} memory:{i:{value:14954496 scale:0} d:{Dec:<nil>} s:14604Ki Format:BinarySI}]}]}
I0412 17:12:15.567397       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1838250 scale:-9} d:{Dec:<nil>} s:1838250n Format:DecimalSI}, 2
I0412 17:12:15.567445       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:49 +0000 UTC Window:{Duration:11.089s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:12:15.567454       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:12:15.567462       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:12:15.567495       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:07 +0000 UTC Window:{Duration:24.138s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:902767 scale:-9} d:{Dec:<nil>} s:902767n Format:DecimalSI} memory:{i:{value:7065600 scale:0} d:{Dec:<nil>} s:6900Ki Format:BinarySI}]}]}
I0412 17:12:15.567507       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:902767 scale:-9} d:{Dec:<nil>} s:902767n Format:DecimalSI}, 1
I0412 17:12:15.567538       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:07 +0000 UTC Window:{Duration:12.807s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:600765 scale:-9} d:{Dec:<nil>} s:600765n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567544       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:600765 scale:-9} d:{Dec:<nil>} s:600765n Format:DecimalSI}, 1
I0412 17:12:15.567584       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:02 +0000 UTC Window:{Duration:11.92s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3606711 scale:-9} d:{Dec:<nil>} s:3606711n Format:DecimalSI} memory:{i:{value:18714624 scale:0} d:{Dec:<nil>} s:18276Ki Format:BinarySI}]}]}
I0412 17:12:15.567601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3606711 scale:-9} d:{Dec:<nil>} s:3606711n Format:DecimalSI}, 4
I0412 17:12:15.567632       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:11 +0000 UTC Window:{Duration:18.55s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:319784 scale:-9} d:{Dec:<nil>} s:319784n Format:DecimalSI} memory:{i:{value:9707520 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567645       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:319784 scale:-9} d:{Dec:<nil>} s:319784n Format:DecimalSI}, 1
I0412 17:12:15.567691       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:11:57 +0000 UTC Window:{Duration:15.797s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:34057 scale:-9} d:{Dec:<nil>} s:34057n Format:DecimalSI} memory:{i:{value:11665408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567708       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:34057 scale:-9} d:{Dec:<nil>} s:34057n Format:DecimalSI}, 1
I0412 17:12:15.567742       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:00 +0000 UTC Window:{Duration:19.821s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:210080 scale:-9} d:{Dec:<nil>} s:210080n Format:DecimalSI} memory:{i:{value:11452416 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567749       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:210080 scale:-9} d:{Dec:<nil>} s:210080n Format:DecimalSI}, 1
I0412 17:12:15.567780       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:00 +0000 UTC Window:{Duration:27.696s} Containers:[{Name:updater Usage:map[cpu:{i:{value:232524 scale:-9} d:{Dec:<nil>} s:232524n Format:DecimalSI} memory:{i:{value:12005376 scale:0} d:{Dec:<nil>} s:11724Ki Format:BinarySI}]}]}
I0412 17:12:15.567811       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:232524 scale:-9} d:{Dec:<nil>} s:232524n Format:DecimalSI}, 1
I0412 17:12:15.567864       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:02 +0000 UTC Window:{Duration:16.5s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1086121 scale:-9} d:{Dec:<nil>} s:1086121n Format:DecimalSI} memory:{i:{value:54583296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:12:15.567878       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1086121 scale:-9} d:{Dec:<nil>} s:1086121n Format:DecimalSI}, 2
I0412 17:12:15.568062       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:12:15.568083       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:12:15.568145       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:12:15.568198       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:12:15.568273       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 539754.936\n%-tile\tvalue\n0\t0.010\n5\t0.237\n10\t0.305\n15\t0.414\n20\t0.547\n25\t0.547\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.708\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:12:15.568298       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840678 ControlledValues:<nil>}:
I0412 17:12:15.568335       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:12:15.568345       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:12:15.568357       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:811 memory:442018509]
I0412 17:12:15.568363       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:12:15.568373       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1743 memory:902813176]
I0412 17:12:15.568379       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:12:15.583038       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007958f0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795980 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b5ec9dae-0724-4a1c-b700-1cfaf4dca315] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d680 TLS:0xc0005220b0}
I0412 17:12:15.605204       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882ea0} GetBody:0x6d9b40 ContentLength:611 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882f30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[19a1602c-9797-4d3d-8910-08c2e2c32cb1] Cache-Control:[no-cache, private] Content-Length:[1673] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:1673 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003658c0 TLS:0xc0005220b0}
I0412 17:12:15.605677       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:12:15.605720       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:13:15.533052       1 recommender.go:166] Recommender Run
I0412 17:13:15.533312       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:13:15.533367       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:13:15.549191       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:13:15.573142       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089ce10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[546a7796-615b-4977-b55f-60782e5f0fd8 546a7796-615b-4977-b55f-60782e5f0fd8] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 17:13:15.574331       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:13:15.574433       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:00 +0000 UTC Window:{Duration:15.727s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748665734 scale:-9} d:{Dec:<nil>} s:748665734n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:13:15.574463       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748665734 scale:-9} d:{Dec:<nil>} s:748665734n Format:DecimalSI}, 749
I0412 17:13:15.574498       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-tp5vm GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:03 +0000 UTC Window:{Duration:11.889s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749446294 scale:-9} d:{Dec:<nil>} s:749446294n Format:DecimalSI} memory:{i:{value:398123008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:13:15.574504       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749446294 scale:-9} d:{Dec:<nil>} s:749446294n Format:DecimalSI}, 750
I0412 17:13:15.574553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:04 +0000 UTC Window:{Duration:12.984s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2504235 scale:-9} d:{Dec:<nil>} s:2504235n Format:DecimalSI} memory:{i:{value:32071680 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:13:15.574566       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2504235 scale:-9} d:{Dec:<nil>} s:2504235n Format:DecimalSI}, 3
I0412 17:13:15.574596       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:08 +0000 UTC Window:{Duration:12.616s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11406468 scale:-9} d:{Dec:<nil>} s:11406468n Format:DecimalSI} memory:{i:{value:167616512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:13:15.574601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11406468 scale:-9} d:{Dec:<nil>} s:11406468n Format:DecimalSI}, 12
I0412 17:13:15.574664       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:59 +0000 UTC Window:{Duration:10.287s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2227374 scale:-9} d:{Dec:<nil>} s:2227374n Format:DecimalSI} memory:{i:{value:14729216 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:13:15.574725       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2227374 scale:-9} d:{Dec:<nil>} s:2227374n Format:DecimalSI}, 3
I0412 17:13:15.574795       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:02 +0000 UTC Window:{Duration:12.577s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:13:15.574827       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:13:15.574840       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:13:15.574884       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:07 +0000 UTC Window:{Duration:12.387s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:655525 scale:-9} d:{Dec:<nil>} s:655525n Format:DecimalSI} memory:{i:{value:7008256 scale:0} d:{Dec:<nil>} s:6844Ki Format:BinarySI}]}]}
I0412 17:13:15.574896       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:655525 scale:-9} d:{Dec:<nil>} s:655525n Format:DecimalSI}, 1
I0412 17:13:15.574940       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:12:55 +0000 UTC Window:{Duration:15.186s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:928354 scale:-9} d:{Dec:<nil>} s:928354n Format:DecimalSI} memory:{i:{value:12972032 scale:0} d:{Dec:<nil>} s:12668Ki Format:BinarySI}]}]}
I0412 17:13:15.574946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:928354 scale:-9} d:{Dec:<nil>} s:928354n Format:DecimalSI}, 1
I0412 17:13:15.574973       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:07 +0000 UTC Window:{Duration:15.807s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2738976 scale:-9} d:{Dec:<nil>} s:2738976n Format:DecimalSI} memory:{i:{value:18714624 scale:0} d:{Dec:<nil>} s:18276Ki Format:BinarySI}]}]}
I0412 17:13:15.574978       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2738976 scale:-9} d:{Dec:<nil>} s:2738976n Format:DecimalSI}, 3
I0412 17:13:15.575002       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:11 +0000 UTC Window:{Duration:15.18s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:470816 scale:-9} d:{Dec:<nil>} s:470816n Format:DecimalSI} memory:{i:{value:9711616 scale:0} d:{Dec:<nil>} s:9484Ki Format:BinarySI}]}]}
I0412 17:13:15.575037       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:470816 scale:-9} d:{Dec:<nil>} s:470816n Format:DecimalSI}, 1
I0412 17:13:15.575118       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:06 +0000 UTC Window:{Duration:13.134s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:503273 scale:-9} d:{Dec:<nil>} s:503273n Format:DecimalSI} memory:{i:{value:11644928 scale:0} d:{Dec:<nil>} s:11372Ki Format:BinarySI}]}]}
I0412 17:13:15.575130       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:503273 scale:-9} d:{Dec:<nil>} s:503273n Format:DecimalSI}, 1
I0412 17:13:15.575156       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:05 +0000 UTC Window:{Duration:16.078s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:136335 scale:-9} d:{Dec:<nil>} s:136335n Format:DecimalSI} memory:{i:{value:11452416 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:13:15.575170       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:136335 scale:-9} d:{Dec:<nil>} s:136335n Format:DecimalSI}, 1
I0412 17:13:15.575194       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:09 +0000 UTC Window:{Duration:12.625s} Containers:[{Name:updater Usage:map[cpu:{i:{value:406653 scale:-9} d:{Dec:<nil>} s:406653n Format:DecimalSI} memory:{i:{value:12005376 scale:0} d:{Dec:<nil>} s:11724Ki Format:BinarySI}]}]}
I0412 17:13:15.575204       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:406653 scale:-9} d:{Dec:<nil>} s:406653n Format:DecimalSI}, 1
I0412 17:13:15.575229       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:07 +0000 UTC Window:{Duration:14.676s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1450054 scale:-9} d:{Dec:<nil>} s:1450054n Format:DecimalSI} memory:{i:{value:56623104 scale:0} d:{Dec:<nil>} s:54Mi Format:BinarySI}]}]}
I0412 17:13:15.575252       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1450054 scale:-9} d:{Dec:<nil>} s:1450054n Format:DecimalSI}, 2
I0412 17:13:15.575483       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:13:15.575516       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:13:15.575603       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:13:15.575643       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:13:15.575730       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 619498.506\n%-tile\tvalue\n0\t0.010\n5\t0.237\n10\t0.414\n15\t0.414\n20\t0.547\n25\t0.547\n30\t0.708\n35\t0.708\n40\t0.708\n45\t0.708\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:13:15.575749       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605398 ControlledValues:<nil>}:
I0412 17:13:15.575781       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:13:15.575789       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:13:15.575798       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442018950]
I0412 17:13:15.575803       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:13:15.575811       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1742 memory:902574847]
I0412 17:13:15.575817       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:13:15.591424       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582150} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005821e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1206142c-f330-4860-8a26-56217011a784] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076be60 TLS:0xc0005220b0}
I0412 17:13:15.604176       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746030} GetBody:0x6d9b40 ContentLength:608 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007460c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2e47ce4e-e7af-4018-b3ae-66d9e8b8e60f] Cache-Control:[no-cache, private] Content-Length:[1670] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:1670 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe360 TLS:0xc0005220b0}
I0412 17:13:15.604397       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:13:15.604416       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:13:17.511783       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 17:13:55.817567       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 12 items received
I0412 17:14:14.956845       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 18 items received
I0412 17:14:15.532684       1 recommender.go:166] Recommender Run
I0412 17:14:15.532721       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:14:15.532743       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:14:15.532795       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:14:15.532883       1 cluster_feeder.go:401] Deleting Pod {default workload-575b56bfd7-tp5vm}
I0412 17:14:15.561447       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089ce40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0f03e838-4ed7-4a03-ab6d-0f708e28c4e9 0f03e838-4ed7-4a03-ab6d-0f708e28c4e9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214a20 TLS:0xc0005220b0}
I0412 17:14:15.562102       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:14:15.562169       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:05 +0000 UTC Window:{Duration:18.134s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750834509 scale:-9} d:{Dec:<nil>} s:750834509n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:14:15.562181       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750834509 scale:-9} d:{Dec:<nil>} s:750834509n Format:DecimalSI}, 751
I0412 17:14:15.562208       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:10 +0000 UTC Window:{Duration:15.002s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749868684 scale:-9} d:{Dec:<nil>} s:749868684n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:14:15.562213       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749868684 scale:-9} d:{Dec:<nil>} s:749868684n Format:DecimalSI}, 750
I0412 17:14:15.562231       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:10 +0000 UTC Window:{Duration:21.371s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2548359 scale:-9} d:{Dec:<nil>} s:2548359n Format:DecimalSI} memory:{i:{value:32075776 scale:0} d:{Dec:<nil>} s:31324Ki Format:BinarySI}]}]}
I0412 17:14:15.562239       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2548359 scale:-9} d:{Dec:<nil>} s:2548359n Format:DecimalSI}, 3
I0412 17:14:15.562256       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:59 +0000 UTC Window:{Duration:19.245s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:7140348 scale:-9} d:{Dec:<nil>} s:7140348n Format:DecimalSI} memory:{i:{value:170115072 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:14:15.562308       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:7140348 scale:-9} d:{Dec:<nil>} s:7140348n Format:DecimalSI}, 8
I0412 17:14:15.562374       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:12 +0000 UTC Window:{Duration:30.019s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1514474 scale:-9} d:{Dec:<nil>} s:1514474n Format:DecimalSI} memory:{i:{value:14946304 scale:0} d:{Dec:<nil>} s:14596Ki Format:BinarySI}]}]}
I0412 17:14:15.562424       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1514474 scale:-9} d:{Dec:<nil>} s:1514474n Format:DecimalSI}, 2
I0412 17:14:15.562466       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:01 +0000 UTC Window:{Duration:17.604s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:14:15.562622       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:14:15.562681       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:14:15.562712       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:10 +0000 UTC Window:{Duration:25.061s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:827580 scale:-9} d:{Dec:<nil>} s:827580n Format:DecimalSI} memory:{i:{value:7012352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:14:15.562740       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:827580 scale:-9} d:{Dec:<nil>} s:827580n Format:DecimalSI}, 1
I0412 17:14:15.562766       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:08 +0000 UTC Window:{Duration:18.34s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:412540 scale:-9} d:{Dec:<nil>} s:412540n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:14:15.562770       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:412540 scale:-9} d:{Dec:<nil>} s:412540n Format:DecimalSI}, 1
I0412 17:14:15.562786       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:08 +0000 UTC Window:{Duration:17.459s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2134028 scale:-9} d:{Dec:<nil>} s:2134028n Format:DecimalSI} memory:{i:{value:19009536 scale:0} d:{Dec:<nil>} s:18564Ki Format:BinarySI}]}]}
I0412 17:14:15.562793       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2134028 scale:-9} d:{Dec:<nil>} s:2134028n Format:DecimalSI}, 3
I0412 17:14:15.562809       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:07 +0000 UTC Window:{Duration:19.339s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:369202 scale:-9} d:{Dec:<nil>} s:369202n Format:DecimalSI} memory:{i:{value:9773056 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:14:15.562812       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:369202 scale:-9} d:{Dec:<nil>} s:369202n Format:DecimalSI}, 1
I0412 17:14:15.562826       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:06 +0000 UTC Window:{Duration:14.018s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:253816 scale:-9} d:{Dec:<nil>} s:253816n Format:DecimalSI} memory:{i:{value:11653120 scale:0} d:{Dec:<nil>} s:11380Ki Format:BinarySI}]}]}
I0412 17:14:15.562833       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:253816 scale:-9} d:{Dec:<nil>} s:253816n Format:DecimalSI}, 1
I0412 17:14:15.562847       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:08 +0000 UTC Window:{Duration:12.038s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:404967 scale:-9} d:{Dec:<nil>} s:404967n Format:DecimalSI} memory:{i:{value:11452416 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:14:15.562851       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:404967 scale:-9} d:{Dec:<nil>} s:404967n Format:DecimalSI}, 1
I0412 17:14:15.562865       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:00 +0000 UTC Window:{Duration:14.207s} Containers:[{Name:updater Usage:map[cpu:{i:{value:238051 scale:-9} d:{Dec:<nil>} s:238051n Format:DecimalSI} memory:{i:{value:11927552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:14:15.562872       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:238051 scale:-9} d:{Dec:<nil>} s:238051n Format:DecimalSI}, 1
I0412 17:14:15.562889       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:13:52 +0000 UTC Window:{Duration:18.292s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:906461 scale:-9} d:{Dec:<nil>} s:906461n Format:DecimalSI} memory:{i:{value:56770560 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:14:15.562895       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:906461 scale:-9} d:{Dec:<nil>} s:906461n Format:DecimalSI}, 1
I0412 17:14:15.563013       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:14:15.563025       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:14:15.563063       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:14:15.563089       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:14:15.563130       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 712379.511\n%-tile\tvalue\n0\t0.010\n5\t0.305\n10\t0.414\n15\t0.547\n20\t0.547\n25\t0.708\n30\t0.708\n35\t0.708\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:14:15.563142       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990378 ControlledValues:<nil>}:
I0412 17:14:15.563162       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:14:15.563173       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:14:15.563179       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442019498]
I0412 17:14:15.563183       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:14:15.563188       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1636 memory:902279512]
I0412 17:14:15.563192       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:14:15.578404       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bfaa0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bfb30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[81de5441-2e35-44e8-a279-d4f74e7ff499] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d320 TLS:0xc0005220b0}
I0412 17:14:15.604471       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746a20} GetBody:0x6d9b40 ContentLength:604 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746b10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7ca1e1cd-c5ea-4bbf-b6ee-78cdc8f6cf1d] Cache-Control:[no-cache, private] Content-Length:[1666] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:1666 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 17:14:15.604679       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:14:15.604702       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:15:15.536976       1 recommender.go:166] Recommender Run
I0412 17:15:15.537142       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:15:15.537152       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:15:15.537399       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:15:15.562616       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1650 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[38446f03-6b50-4fdb-acb3-c6405252d721 38446f03-6b50-4fdb-acb3-c6405252d721] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c5a0 TLS:0xc0005220b0}
I0412 17:15:15.563440       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:15:15.563505       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:01 +0000 UTC Window:{Duration:18.601s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750061071 scale:-9} d:{Dec:<nil>} s:750061071n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:15:15.563519       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750061071 scale:-9} d:{Dec:<nil>} s:750061071n Format:DecimalSI}, 751
I0412 17:15:15.563545       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:10 +0000 UTC Window:{Duration:19.723s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750745931 scale:-9} d:{Dec:<nil>} s:750745931n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:15:15.563552       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750745931 scale:-9} d:{Dec:<nil>} s:750745931n Format:DecimalSI}, 751
I0412 17:15:15.563573       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:00 +0000 UTC Window:{Duration:13.178s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1984140 scale:-9} d:{Dec:<nil>} s:1984140n Format:DecimalSI} memory:{i:{value:32075776 scale:0} d:{Dec:<nil>} s:31324Ki Format:BinarySI}]}]}
I0412 17:15:15.563580       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1984140 scale:-9} d:{Dec:<nil>} s:1984140n Format:DecimalSI}, 2
I0412 17:15:15.563622       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:04 +0000 UTC Window:{Duration:10.057s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10373371 scale:-9} d:{Dec:<nil>} s:10373371n Format:DecimalSI} memory:{i:{value:169000960 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:15:15.563675       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10373371 scale:-9} d:{Dec:<nil>} s:10373371n Format:DecimalSI}, 11
I0412 17:15:15.563698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:56 +0000 UTC Window:{Duration:18.469s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1612160 scale:-9} d:{Dec:<nil>} s:1612160n Format:DecimalSI} memory:{i:{value:14942208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:15:15.563706       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1612160 scale:-9} d:{Dec:<nil>} s:1612160n Format:DecimalSI}, 2
I0412 17:15:15.563723       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:53 +0000 UTC Window:{Duration:13.997s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:15:15.563727       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:15:15.563731       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:15:15.563762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:04 +0000 UTC Window:{Duration:15.6s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1561346 scale:-9} d:{Dec:<nil>} s:1561346n Format:DecimalSI} memory:{i:{value:7176192 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:15:15.563770       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1561346 scale:-9} d:{Dec:<nil>} s:1561346n Format:DecimalSI}, 2
I0412 17:15:15.563796       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:05 +0000 UTC Window:{Duration:17.252s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:585671 scale:-9} d:{Dec:<nil>} s:585671n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:15:15.563799       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:585671 scale:-9} d:{Dec:<nil>} s:585671n Format:DecimalSI}, 1
I0412 17:15:15.563814       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:00 +0000 UTC Window:{Duration:18.159s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2525579 scale:-9} d:{Dec:<nil>} s:2525579n Format:DecimalSI} memory:{i:{value:18657280 scale:0} d:{Dec:<nil>} s:18220Ki Format:BinarySI}]}]}
I0412 17:15:15.563824       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2525579 scale:-9} d:{Dec:<nil>} s:2525579n Format:DecimalSI}, 3
I0412 17:15:15.563839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:07 +0000 UTC Window:{Duration:16.797s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:282729 scale:-9} d:{Dec:<nil>} s:282729n Format:DecimalSI} memory:{i:{value:9773056 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:15:15.563845       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:282729 scale:-9} d:{Dec:<nil>} s:282729n Format:DecimalSI}, 1
I0412 17:15:15.563859       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:04 +0000 UTC Window:{Duration:11.631s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:18657 scale:-9} d:{Dec:<nil>} s:18657n Format:DecimalSI} memory:{i:{value:11644928 scale:0} d:{Dec:<nil>} s:11372Ki Format:BinarySI}]}]}
I0412 17:15:15.563865       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:18657 scale:-9} d:{Dec:<nil>} s:18657n Format:DecimalSI}, 1
I0412 17:15:15.563885       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:10 +0000 UTC Window:{Duration:19.917s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:148918 scale:-9} d:{Dec:<nil>} s:148918n Format:DecimalSI} memory:{i:{value:11460608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:15:15.563902       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:148918 scale:-9} d:{Dec:<nil>} s:148918n Format:DecimalSI}, 1
I0412 17:15:15.563928       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:03 +0000 UTC Window:{Duration:12.515s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11943936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:15:15.563932       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:15:15.563957       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:14:58 +0000 UTC Window:{Duration:16.851s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1184202 scale:-9} d:{Dec:<nil>} s:1184202n Format:DecimalSI} memory:{i:{value:56774656 scale:0} d:{Dec:<nil>} s:55444Ki Format:BinarySI}]}]}
I0412 17:15:15.563963       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1184202 scale:-9} d:{Dec:<nil>} s:1184202n Format:DecimalSI}, 2
I0412 17:15:15.564083       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:15:15.564098       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:15:15.564134       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:15:15.564165       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:15:15.564226       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 818583.853\n%-tile\tvalue\n0\t0.010\n5\t0.305\n10\t0.414\n15\t0.547\n20\t0.708\n25\t0.708\n30\t0.708\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:15:15.564236       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990690 ControlledValues:<nil>}:
I0412 17:15:15.564268       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:15:15.564274       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:15:15.564280       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442019988]
I0412 17:15:15.564289       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:15:15.564293       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1635 memory:902015380]
I0412 17:15:15.564297       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:15:15.581671       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007946f0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794780 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8555504a-a7fa-48f5-82f1-0ad2f9b0d0e3] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0120 TLS:0xc0005220b0}
I0412 17:15:15.596664       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007950e0} GetBody:0x6d9b40 ContentLength:604 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795170 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[de6b948e-26ad-4cb8-a70a-9a4737c4f32a] Cache-Control:[no-cache, private] Content-Length:[1666] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:1666 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003646c0 TLS:0xc0005220b0}
I0412 17:15:15.597079       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:15:15.597107       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:15:22.296426       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 3 items received
I0412 17:15:26.091271       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 9 items received
I0412 17:16:03.556723       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 24 items received
I0412 17:16:15.560065       1 recommender.go:166] Recommender Run
I0412 17:16:15.560331       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:16:15.560408       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:16:15.560559       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:16:15.572689       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762b10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[28589d48-096a-4e57-86b2-027e5773f881 28589d48-096a-4e57-86b2-027e5773f881] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d8c0 TLS:0xc0005220b0}
I0412 17:16:15.573116       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:16:15.573176       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:02 +0000 UTC Window:{Duration:12.688s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750767023 scale:-9} d:{Dec:<nil>} s:750767023n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:16:15.573189       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750767023 scale:-9} d:{Dec:<nil>} s:750767023n Format:DecimalSI}, 751
I0412 17:16:15.573216       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:10 +0000 UTC Window:{Duration:30.117s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750756250 scale:-9} d:{Dec:<nil>} s:750756250n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:16:15.573221       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750756250 scale:-9} d:{Dec:<nil>} s:750756250n Format:DecimalSI}, 751
I0412 17:16:15.573242       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:57 +0000 UTC Window:{Duration:10.705s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3851564 scale:-9} d:{Dec:<nil>} s:3851564n Format:DecimalSI} memory:{i:{value:32075776 scale:0} d:{Dec:<nil>} s:31324Ki Format:BinarySI}]}]}
I0412 17:16:15.573247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3851564 scale:-9} d:{Dec:<nil>} s:3851564n Format:DecimalSI}, 4
I0412 17:16:15.573267       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:08 +0000 UTC Window:{Duration:13.985s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11113121 scale:-9} d:{Dec:<nil>} s:11113121n Format:DecimalSI} memory:{i:{value:169029632 scale:0} d:{Dec:<nil>} s:165068Ki Format:BinarySI}]}]}
I0412 17:16:15.573276       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11113121 scale:-9} d:{Dec:<nil>} s:11113121n Format:DecimalSI}, 12
I0412 17:16:15.573303       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:07 +0000 UTC Window:{Duration:13.981s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1817395 scale:-9} d:{Dec:<nil>} s:1817395n Format:DecimalSI} memory:{i:{value:14938112 scale:0} d:{Dec:<nil>} s:14588Ki Format:BinarySI}]}]}
I0412 17:16:15.573317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1817395 scale:-9} d:{Dec:<nil>} s:1817395n Format:DecimalSI}, 2
I0412 17:16:15.573340       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:43 +0000 UTC Window:{Duration:11.984s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:16:15.573347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:16:15.573351       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:16:15.573369       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:59 +0000 UTC Window:{Duration:19.726s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:744195 scale:-9} d:{Dec:<nil>} s:744195n Format:DecimalSI} memory:{i:{value:7184384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:16:15.573378       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:744195 scale:-9} d:{Dec:<nil>} s:744195n Format:DecimalSI}, 1
I0412 17:16:15.573393       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:08 +0000 UTC Window:{Duration:11.432s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:81875 scale:-9} d:{Dec:<nil>} s:81875n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:16:15.573405       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:81875 scale:-9} d:{Dec:<nil>} s:81875n Format:DecimalSI}, 1
I0412 17:16:15.573419       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:03 +0000 UTC Window:{Duration:13.648s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2138848 scale:-9} d:{Dec:<nil>} s:2138848n Format:DecimalSI} memory:{i:{value:18661376 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:16:15.573426       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2138848 scale:-9} d:{Dec:<nil>} s:2138848n Format:DecimalSI}, 3
I0412 17:16:15.573440       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:12 +0000 UTC Window:{Duration:17.397s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:243432 scale:-9} d:{Dec:<nil>} s:243432n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:16:15.573443       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:243432 scale:-9} d:{Dec:<nil>} s:243432n Format:DecimalSI}, 1
I0412 17:16:15.573462       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:09 +0000 UTC Window:{Duration:19.81s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:56991 scale:-9} d:{Dec:<nil>} s:56991n Format:DecimalSI} memory:{i:{value:11644928 scale:0} d:{Dec:<nil>} s:11372Ki Format:BinarySI}]}]}
I0412 17:16:15.573469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:56991 scale:-9} d:{Dec:<nil>} s:56991n Format:DecimalSI}, 1
I0412 17:16:15.573484       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:55 +0000 UTC Window:{Duration:19.854s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:81293 scale:-9} d:{Dec:<nil>} s:81293n Format:DecimalSI} memory:{i:{value:11460608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:16:15.573491       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:81293 scale:-9} d:{Dec:<nil>} s:81293n Format:DecimalSI}, 1
I0412 17:16:15.573505       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:15:57 +0000 UTC Window:{Duration:15.253s} Containers:[{Name:updater Usage:map[cpu:{i:{value:115256 scale:-9} d:{Dec:<nil>} s:115256n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:16:15.573510       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:115256 scale:-9} d:{Dec:<nil>} s:115256n Format:DecimalSI}, 1
I0412 17:16:15.573528       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:06 +0000 UTC Window:{Duration:11.073s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:415515 scale:-9} d:{Dec:<nil>} s:415515n Format:DecimalSI} memory:{i:{value:56778752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:16:15.573534       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:415515 scale:-9} d:{Dec:<nil>} s:415515n Format:DecimalSI}, 1
I0412 17:16:15.573577       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:16:15.573585       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:16:15.573614       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:16:15.573630       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:16:15.573653       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 940720.237\n%-tile\tvalue\n0\t0.010\n5\t0.305\n10\t0.414\n15\t0.547\n20\t0.708\n25\t0.708\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:16:15.573663       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006052a8 ControlledValues:<nil>}:
I0412 17:16:15.573680       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:16:15.573686       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:16:15.573690       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442020477]
I0412 17:16:15.573696       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:16:15.573701       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1635 memory:901751575]
I0412 17:16:15.573706       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:16:15.592816       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c7b0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c840 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[29fae582-ad15-4183-ac4e-0d488dcd6242] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cb40 TLS:0xc0005220b0}
I0412 17:16:15.614891       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d3e0} GetBody:0x6d9b40 ContentLength:603 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d470 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bfda9625-5474-4299-8c05-e550d6a85ba8] Cache-Control:[no-cache, private] Content-Length:[1665] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:1665 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d9e0 TLS:0xc0005220b0}
I0412 17:16:15.615007       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:16:15.615017       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:16:29.174454       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 4 items received
I0412 17:17:15.536795       1 recommender.go:166] Recommender Run
I0412 17:17:15.540820       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:17:15.544678       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:17:15.548841       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:17:15.567671       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746720 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5cffb018-e13d-40bd-83ce-618bc45f90d3 5cffb018-e13d-40bd-83ce-618bc45f90d3] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002146c0 TLS:0xc0005220b0}
I0412 17:17:15.568757       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:17:15.568853       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:04 +0000 UTC Window:{Duration:10.566s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748332954 scale:-9} d:{Dec:<nil>} s:748332954n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:17:15.568897       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748332954 scale:-9} d:{Dec:<nil>} s:748332954n Format:DecimalSI}, 749
I0412 17:17:15.568953       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:05 +0000 UTC Window:{Duration:14.179s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751320897 scale:-9} d:{Dec:<nil>} s:751320897n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:17:15.568961       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751320897 scale:-9} d:{Dec:<nil>} s:751320897n Format:DecimalSI}, 752
I0412 17:17:15.569048       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:00 +0000 UTC Window:{Duration:12.606s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1784229 scale:-9} d:{Dec:<nil>} s:1784229n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:17:15.569146       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1784229 scale:-9} d:{Dec:<nil>} s:1784229n Format:DecimalSI}, 2
I0412 17:17:15.569193       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:57 +0000 UTC Window:{Duration:19.333s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9928309 scale:-9} d:{Dec:<nil>} s:9928309n Format:DecimalSI} memory:{i:{value:168923136 scale:0} d:{Dec:<nil>} s:164964Ki Format:BinarySI}]}]}
I0412 17:17:15.569245       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9928309 scale:-9} d:{Dec:<nil>} s:9928309n Format:DecimalSI}, 10
I0412 17:17:15.569342       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:53 +0000 UTC Window:{Duration:17.916s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1795043 scale:-9} d:{Dec:<nil>} s:1795043n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:17:15.569355       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1795043 scale:-9} d:{Dec:<nil>} s:1795043n Format:DecimalSI}, 2
I0412 17:17:15.569397       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:59 +0000 UTC Window:{Duration:16.195s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:17:15.569408       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:17:15.569414       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:17:15.569442       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:11 +0000 UTC Window:{Duration:17.24s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1328190 scale:-9} d:{Dec:<nil>} s:1328190n Format:DecimalSI} memory:{i:{value:6823936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:17:15.569447       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1328190 scale:-9} d:{Dec:<nil>} s:1328190n Format:DecimalSI}, 2
I0412 17:17:15.569491       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:11 +0000 UTC Window:{Duration:29.271s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:255133 scale:-9} d:{Dec:<nil>} s:255133n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:17:15.569516       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:255133 scale:-9} d:{Dec:<nil>} s:255133n Format:DecimalSI}, 1
I0412 17:17:15.569578       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:02 +0000 UTC Window:{Duration:19.071s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2074143 scale:-9} d:{Dec:<nil>} s:2074143n Format:DecimalSI} memory:{i:{value:18866176 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:17:15.569600       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2074143 scale:-9} d:{Dec:<nil>} s:2074143n Format:DecimalSI}, 3
I0412 17:17:15.569632       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:57 +0000 UTC Window:{Duration:15.794s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:252627 scale:-9} d:{Dec:<nil>} s:252627n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:17:15.569642       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:252627 scale:-9} d:{Dec:<nil>} s:252627n Format:DecimalSI}, 1
I0412 17:17:15.569666       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:05 +0000 UTC Window:{Duration:10.244s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:153260 scale:-9} d:{Dec:<nil>} s:153260n Format:DecimalSI} memory:{i:{value:11644928 scale:0} d:{Dec:<nil>} s:11372Ki Format:BinarySI}]}]}
I0412 17:17:15.569680       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:153260 scale:-9} d:{Dec:<nil>} s:153260n Format:DecimalSI}, 1
I0412 17:17:15.569706       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:16:54 +0000 UTC Window:{Duration:25.093s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:189574 scale:-9} d:{Dec:<nil>} s:189574n Format:DecimalSI} memory:{i:{value:11460608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:17:15.569716       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:189574 scale:-9} d:{Dec:<nil>} s:189574n Format:DecimalSI}, 1
I0412 17:17:15.569740       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:00 +0000 UTC Window:{Duration:19.062s} Containers:[{Name:updater Usage:map[cpu:{i:{value:121655 scale:-9} d:{Dec:<nil>} s:121655n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:17:15.569751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:121655 scale:-9} d:{Dec:<nil>} s:121655n Format:DecimalSI}, 1
I0412 17:17:15.569786       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:03 +0000 UTC Window:{Duration:19.378s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1065228 scale:-9} d:{Dec:<nil>} s:1065228n Format:DecimalSI} memory:{i:{value:52854784 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:17:15.569792       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1065228 scale:-9} d:{Dec:<nil>} s:1065228n Format:DecimalSI}, 2
I0412 17:17:15.569979       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:17:15.570004       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:17:15.570085       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:17:15.570132       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:17:15.570202       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1080526.830\n%-tile\tvalue\n0\t0.010\n5\t0.305\n10\t0.547\n15\t0.708\n20\t0.708\n25\t0.708\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:17:15.570215       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605140 ControlledValues:<nil>}:
I0412 17:17:15.570281       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:17:15.570325       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:17:15.570360       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442020924]
I0412 17:17:15.570445       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:17:15.570463       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1634 memory:901510042]
I0412 17:17:15.570469       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:17:15.582548       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf7d0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf860 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f061b209-c4d7-4607-9559-02083e7c93d7] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 17:17:15.600087       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0330} GetBody:0x6d9b40 ContentLength:602 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e03c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8ca5aa80-abcb-4e73-9b45-782aaafffe04] Cache-Control:[no-cache, private] Content-Length:[1664] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:1664 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ad80 TLS:0xc0005220b0}
I0412 17:17:15.600563       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:17:15.600592       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:17:24.759431       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 19 items received
I0412 17:18:15.532859       1 recommender.go:166] Recommender Run
I0412 17:18:15.533167       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:18:15.536657       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:18:15.544893       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:18:15.564692       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747950 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[74389641-43c2-4be6-ac59-16a6a717050d 74389641-43c2-4be6-ac59-16a6a717050d] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214ea0 TLS:0xc0005220b0}
I0412 17:18:15.566650       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:18:15.566815       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:10 +0000 UTC Window:{Duration:19.165s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750620193 scale:-9} d:{Dec:<nil>} s:750620193n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:18:15.566894       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750620193 scale:-9} d:{Dec:<nil>} s:750620193n Format:DecimalSI}, 751
I0412 17:18:15.567005       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:17:53 +0000 UTC Window:{Duration:14.649s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751073110 scale:-9} d:{Dec:<nil>} s:751073110n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:18:15.567125       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751073110 scale:-9} d:{Dec:<nil>} s:751073110n Format:DecimalSI}, 752
I0412 17:18:15.567252       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:07 +0000 UTC Window:{Duration:16.08s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2315733 scale:-9} d:{Dec:<nil>} s:2315733n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:18:15.567322       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2315733 scale:-9} d:{Dec:<nil>} s:2315733n Format:DecimalSI}, 3
I0412 17:18:15.567416       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:09 +0000 UTC Window:{Duration:13.482s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10709316 scale:-9} d:{Dec:<nil>} s:10709316n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:18:15.567511       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10709316 scale:-9} d:{Dec:<nil>} s:10709316n Format:DecimalSI}, 11
I0412 17:18:15.567602       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:11 +0000 UTC Window:{Duration:21.22s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2013053 scale:-9} d:{Dec:<nil>} s:2013053n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:18:15.567668       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2013053 scale:-9} d:{Dec:<nil>} s:2013053n Format:DecimalSI}, 3
I0412 17:18:15.567799       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:01 +0000 UTC Window:{Duration:16.561s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:18:15.567889       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:18:15.567963       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:18:15.568063       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:04 +0000 UTC Window:{Duration:15.115s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1177770 scale:-9} d:{Dec:<nil>} s:1177770n Format:DecimalSI} memory:{i:{value:6823936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:18:15.568121       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1177770 scale:-9} d:{Dec:<nil>} s:1177770n Format:DecimalSI}, 2
I0412 17:18:15.568223       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:03 +0000 UTC Window:{Duration:18.865s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:789345 scale:-9} d:{Dec:<nil>} s:789345n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:18:15.568314       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:789345 scale:-9} d:{Dec:<nil>} s:789345n Format:DecimalSI}, 1
I0412 17:18:15.568391       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:06 +0000 UTC Window:{Duration:14.694s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2151966 scale:-9} d:{Dec:<nil>} s:2151966n Format:DecimalSI} memory:{i:{value:19017728 scale:0} d:{Dec:<nil>} s:18572Ki Format:BinarySI}]}]}
I0412 17:18:15.568410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2151966 scale:-9} d:{Dec:<nil>} s:2151966n Format:DecimalSI}, 3
I0412 17:18:15.568472       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:07 +0000 UTC Window:{Duration:19.183s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:244956 scale:-9} d:{Dec:<nil>} s:244956n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:18:15.568504       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:244956 scale:-9} d:{Dec:<nil>} s:244956n Format:DecimalSI}, 1
I0412 17:18:15.568585       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:03 +0000 UTC Window:{Duration:10.629s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:79875 scale:-9} d:{Dec:<nil>} s:79875n Format:DecimalSI} memory:{i:{value:11644928 scale:0} d:{Dec:<nil>} s:11372Ki Format:BinarySI}]}]}
I0412 17:18:15.568675       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:79875 scale:-9} d:{Dec:<nil>} s:79875n Format:DecimalSI}, 1
I0412 17:18:15.568745       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:06 +0000 UTC Window:{Duration:11.944s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:148359 scale:-9} d:{Dec:<nil>} s:148359n Format:DecimalSI} memory:{i:{value:11460608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:18:15.568785       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:148359 scale:-9} d:{Dec:<nil>} s:148359n Format:DecimalSI}, 1
I0412 17:18:15.568826       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:03 +0000 UTC Window:{Duration:16.653s} Containers:[{Name:updater Usage:map[cpu:{i:{value:38071 scale:-9} d:{Dec:<nil>} s:38071n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:18:15.568864       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:38071 scale:-9} d:{Dec:<nil>} s:38071n Format:DecimalSI}, 1
I0412 17:18:15.568919       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:18:08 +0000 UTC Window:{Duration:18.89s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1244997 scale:-9} d:{Dec:<nil>} s:1244997n Format:DecimalSI} memory:{i:{value:52977664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:18:15.568985       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1244997 scale:-9} d:{Dec:<nil>} s:1244997n Format:DecimalSI}, 2
I0412 17:18:15.569227       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:18:15.569281       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:18:15.569425       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:18:15.569498       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:18:15.569620       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1240043.769\n%-tile\tvalue\n0\t0.010\n5\t0.414\n10\t0.547\n15\t0.708\n20\t0.708\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:18:15.569671       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450258 ControlledValues:<nil>}:
I0412 17:18:15.569790       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:18:15.569840       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:18:15.569898       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442021453]
I0412 17:18:15.569924       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:18:15.569943       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1634 memory:901224946]
I0412 17:18:15.570004       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:18:15.587042       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882690} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882720 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e47e780d-0aa0-42a0-9e03-2f6ae28fc1c9] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff9e0 TLS:0xc0005220b0}
I0412 17:18:15.612300       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762a80} GetBody:0x6d9b40 ContentLength:602 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762b10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6d7c7fae-1c7f-4b53-a2c6-bd2ebc6a3e67] Cache-Control:[no-cache, private] Content-Length:[1664] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:1664 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffd40 TLS:0xc0005220b0}
I0412 17:18:15.612780       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:18:15.612802       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 17:18:15.612817       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:18:15.612822       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:18:15.612849       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:18:15.618426       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763b00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fe839715-ddbe-42ee-8a3d-5f2a2af65301] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364900 TLS:0xc0005220b0}
I0412 17:18:15.632888       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882b70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[60a0d4c3-6c55-4404-9721-4f9b74e48d5f] Cache-Control:[no-cache, private] Content-Length:[1817] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:1817 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c120 TLS:0xc0005220b0}
I0412 17:18:15.648816       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883260 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4dc88b9d-abf7-48cd-ad1c-19233defa36d] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 17:18:15.667679       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e08a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d8e69c3d-8407-47c2-9b63-dfafef7c22d1] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ad80 TLS:0xc0005220b0}
I0412 17:18:15.677179       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0ea0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[232596cb-5cb1-42a1-bb2b-9d2df7618c07] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b440 TLS:0xc0005220b0}
I0412 17:18:15.684119       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1470 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[96f1e7d4-890e-4f48-b749-67e57f2544fd] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b9e0 TLS:0xc0005220b0}
I0412 17:18:15.684231       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:18:43.374953       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 4 items received
I0412 17:19:15.468715       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: forcing resync
I0412 17:19:15.468745       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: forcing resync
I0412 17:19:15.532799       1 recommender.go:166] Recommender Run
I0412 17:19:15.533281       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:19:15.536649       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:19:15.540746       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:19:15.570166       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883b00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ff0eb47a-5fe5-4f1e-bf73-a0106f3d0592 ff0eb47a-5fe5-4f1e-bf73-a0106f3d0592] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cea0 TLS:0xc0005220b0}
I0412 17:19:15.570957       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:19:15.571036       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:03 +0000 UTC Window:{Duration:13.224s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749090366 scale:-9} d:{Dec:<nil>} s:749090366n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:19:15.571044       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749090366 scale:-9} d:{Dec:<nil>} s:749090366n Format:DecimalSI}, 750
I0412 17:19:15.571065       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:08 +0000 UTC Window:{Duration:19.821s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749091367 scale:-9} d:{Dec:<nil>} s:749091367n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:19:15.571073       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749091367 scale:-9} d:{Dec:<nil>} s:749091367n Format:DecimalSI}, 750
I0412 17:19:15.571121       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:02 +0000 UTC Window:{Duration:12.885s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4133954 scale:-9} d:{Dec:<nil>} s:4133954n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:19:15.571137       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4133954 scale:-9} d:{Dec:<nil>} s:4133954n Format:DecimalSI}, 5
I0412 17:19:15.571161       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:01 +0000 UTC Window:{Duration:15.054s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12486315 scale:-9} d:{Dec:<nil>} s:12486315n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 17:19:15.571165       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12486315 scale:-9} d:{Dec:<nil>} s:12486315n Format:DecimalSI}, 13
I0412 17:19:15.571181       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:08 +0000 UTC Window:{Duration:12.758s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2056043 scale:-9} d:{Dec:<nil>} s:2056043n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:19:15.571194       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2056043 scale:-9} d:{Dec:<nil>} s:2056043n Format:DecimalSI}, 3
I0412 17:19:15.571233       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:08 +0000 UTC Window:{Duration:20.209s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:19:15.571241       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:19:15.571245       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:19:15.571260       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:09 +0000 UTC Window:{Duration:14.903s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1236730 scale:-9} d:{Dec:<nil>} s:1236730n Format:DecimalSI} memory:{i:{value:6860800 scale:0} d:{Dec:<nil>} s:6700Ki Format:BinarySI}]}]}
I0412 17:19:15.571264       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1236730 scale:-9} d:{Dec:<nil>} s:1236730n Format:DecimalSI}, 2
I0412 17:19:15.571279       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:12 +0000 UTC Window:{Duration:27.324s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:377067 scale:-9} d:{Dec:<nil>} s:377067n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:19:15.571282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:377067 scale:-9} d:{Dec:<nil>} s:377067n Format:DecimalSI}, 1
I0412 17:19:15.571307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:06 +0000 UTC Window:{Duration:15.88s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2476070 scale:-9} d:{Dec:<nil>} s:2476070n Format:DecimalSI} memory:{i:{value:19308544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:19:15.571325       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2476070 scale:-9} d:{Dec:<nil>} s:2476070n Format:DecimalSI}, 3
I0412 17:19:15.571340       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:11 +0000 UTC Window:{Duration:29.57s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:281839 scale:-9} d:{Dec:<nil>} s:281839n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:19:15.571344       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:281839 scale:-9} d:{Dec:<nil>} s:281839n Format:DecimalSI}, 1
I0412 17:19:15.571382       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:05 +0000 UTC Window:{Duration:18.036s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:76624 scale:-9} d:{Dec:<nil>} s:76624n Format:DecimalSI} memory:{i:{value:11612160 scale:0} d:{Dec:<nil>} s:11340Ki Format:BinarySI}]}]}
I0412 17:19:15.571403       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:76624 scale:-9} d:{Dec:<nil>} s:76624n Format:DecimalSI}, 1
I0412 17:19:15.571418       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:00 +0000 UTC Window:{Duration:10.525s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:32494 scale:-9} d:{Dec:<nil>} s:32494n Format:DecimalSI} memory:{i:{value:11460608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:19:15.571421       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:32494 scale:-9} d:{Dec:<nil>} s:32494n Format:DecimalSI}, 1
I0412 17:19:15.571436       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:02 +0000 UTC Window:{Duration:19.602s} Containers:[{Name:updater Usage:map[cpu:{i:{value:130445 scale:-9} d:{Dec:<nil>} s:130445n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:19:15.571451       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:130445 scale:-9} d:{Dec:<nil>} s:130445n Format:DecimalSI}, 1
I0412 17:19:15.571466       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:03 +0000 UTC Window:{Duration:12.715s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1197325 scale:-9} d:{Dec:<nil>} s:1197325n Format:DecimalSI} memory:{i:{value:53014528 scale:0} d:{Dec:<nil>} s:51772Ki Format:BinarySI}]}]}
I0412 17:19:15.571469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1197325 scale:-9} d:{Dec:<nil>} s:1197325n Format:DecimalSI}, 2
I0412 17:19:15.571626       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:19:15.571647       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:19:15.571698       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:19:15.571734       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:19:15.571788       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1424949.358\n%-tile\tvalue\n0\t0.010\n5\t0.414\n10\t0.547\n15\t0.708\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:19:15.571799       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840138 ControlledValues:<nil>}:
I0412 17:19:15.571816       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:19:15.571822       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:19:15.571827       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442021924]
I0412 17:19:15.571831       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:19:15.571835       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1633 memory:900970876]
I0412 17:19:15.571840       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:19:15.648931       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cff0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d080 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[aefcd75e-c112-472c-819e-9632e57d8e2d] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473080} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6000 TLS:0xc0005220b0}
I0412 17:19:15.685948       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712870} GetBody:0x6d9b40 ContentLength:602 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712900 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1836f701-3db5-4561-8d27-96497db25448] Cache-Control:[no-cache, private] Content-Length:[1665] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:1665 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cea0 TLS:0xc0005220b0}
I0412 17:19:15.686224       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:19:15.686245       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:19:32.517403       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 7 items received
I0412 17:20:15.536807       1 recommender.go:166] Recommender Run
I0412 17:20:15.537126       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:20:15.537194       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:20:15.540720       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:20:15.561946       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be7e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ea5d6c9d-af7f-4981-b6f2-e836a35aa63c ea5d6c9d-af7f-4981-b6f2-e836a35aa63c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b77a0 TLS:0xc0005220b0}
I0412 17:20:15.562675       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:20:15.562757       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:05 +0000 UTC Window:{Duration:19.548s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749734397 scale:-9} d:{Dec:<nil>} s:749734397n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:20:15.562771       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749734397 scale:-9} d:{Dec:<nil>} s:749734397n Format:DecimalSI}, 750
I0412 17:20:15.562831       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:09 +0000 UTC Window:{Duration:27.602s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750185059 scale:-9} d:{Dec:<nil>} s:750185059n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:20:15.562843       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750185059 scale:-9} d:{Dec:<nil>} s:750185059n Format:DecimalSI}, 751
I0412 17:20:15.562890       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:53 +0000 UTC Window:{Duration:18.386s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3831284 scale:-9} d:{Dec:<nil>} s:3831284n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 17:20:15.562896       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3831284 scale:-9} d:{Dec:<nil>} s:3831284n Format:DecimalSI}, 4
I0412 17:20:15.562961       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:59 +0000 UTC Window:{Duration:14.174s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10199096 scale:-9} d:{Dec:<nil>} s:10199096n Format:DecimalSI} memory:{i:{value:167768064 scale:0} d:{Dec:<nil>} s:163836Ki Format:BinarySI}]}]}
I0412 17:20:15.562980       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10199096 scale:-9} d:{Dec:<nil>} s:10199096n Format:DecimalSI}, 11
I0412 17:20:15.563035       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:56 +0000 UTC Window:{Duration:19.722s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1913091 scale:-9} d:{Dec:<nil>} s:1913091n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:20:15.563059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1913091 scale:-9} d:{Dec:<nil>} s:1913091n Format:DecimalSI}, 2
I0412 17:20:15.563121       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:57 +0000 UTC Window:{Duration:12.736s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:20:15.563146       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:20:15.563153       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:20:15.563183       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:09 +0000 UTC Window:{Duration:19.83s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:999646 scale:-9} d:{Dec:<nil>} s:999646n Format:DecimalSI} memory:{i:{value:6860800 scale:0} d:{Dec:<nil>} s:6700Ki Format:BinarySI}]}]}
I0412 17:20:15.563188       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:999646 scale:-9} d:{Dec:<nil>} s:999646n Format:DecimalSI}, 1
I0412 17:20:15.563222       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:12 +0000 UTC Window:{Duration:22.48s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:329626 scale:-9} d:{Dec:<nil>} s:329626n Format:DecimalSI} memory:{i:{value:12967936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:20:15.563247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:329626 scale:-9} d:{Dec:<nil>} s:329626n Format:DecimalSI}, 1
I0412 17:20:15.563300       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:08 +0000 UTC Window:{Duration:18.785s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2137396 scale:-9} d:{Dec:<nil>} s:2137396n Format:DecimalSI} memory:{i:{value:19136512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:20:15.563312       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2137396 scale:-9} d:{Dec:<nil>} s:2137396n Format:DecimalSI}, 3
I0412 17:20:15.563362       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:04 +0000 UTC Window:{Duration:18.966s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:178055 scale:-9} d:{Dec:<nil>} s:178055n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:20:15.563375       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:178055 scale:-9} d:{Dec:<nil>} s:178055n Format:DecimalSI}, 1
I0412 17:20:15.563401       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:59 +0000 UTC Window:{Duration:17.701s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:27343 scale:-9} d:{Dec:<nil>} s:27343n Format:DecimalSI} memory:{i:{value:11612160 scale:0} d:{Dec:<nil>} s:11340Ki Format:BinarySI}]}]}
I0412 17:20:15.563412       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:27343 scale:-9} d:{Dec:<nil>} s:27343n Format:DecimalSI}, 1
I0412 17:20:15.563445       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:04 +0000 UTC Window:{Duration:13.281s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:84105 scale:-9} d:{Dec:<nil>} s:84105n Format:DecimalSI} memory:{i:{value:11460608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:20:15.563462       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:84105 scale:-9} d:{Dec:<nil>} s:84105n Format:DecimalSI}, 1
I0412 17:20:15.563488       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:59 +0000 UTC Window:{Duration:13.133s} Containers:[{Name:updater Usage:map[cpu:{i:{value:44239 scale:-9} d:{Dec:<nil>} s:44239n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:20:15.563498       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:44239 scale:-9} d:{Dec:<nil>} s:44239n Format:DecimalSI}, 1
I0412 17:20:15.563522       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:19:56 +0000 UTC Window:{Duration:19.888s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1566673 scale:-9} d:{Dec:<nil>} s:1566673n Format:DecimalSI} memory:{i:{value:53043200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:20:15.563527       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1566673 scale:-9} d:{Dec:<nil>} s:1566673n Format:DecimalSI}, 2
I0412 17:20:15.563613       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:20:15.563633       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:20:15.563689       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:20:15.563717       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:20:15.563777       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1638086.226\n%-tile\tvalue\n0\t0.010\n5\t0.414\n10\t0.708\n15\t0.708\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:20:15.563793       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000604480 ControlledValues:<nil>}:
I0412 17:20:15.563817       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:20:15.563825       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:20:15.563835       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442022419]
I0412 17:20:15.563844       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:20:15.563853       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1633 memory:900703992]
I0412 17:20:15.563858       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:20:15.577732       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0009875c0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987650 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e8290d54-af9d-4c3f-8473-97526984ea81] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f46c0 TLS:0xc0005220b0}
I0412 17:20:15.595417       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000987f20} GetBody:0x6d9b40 ContentLength:593 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d0e0 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[26a84163-12f6-413b-9635-ed9a749e4f03] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccf00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000172c60 TLS:0xc0005220b0}
I0412 17:20:15.615689       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc0007129f0} GetBody:0x6d9b40 ContentLength:775 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712a80 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2595a30c-6c37-4c24-9262-32869c394924] Cache-Control:[no-cache, private] Content-Length:[1646] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:1646 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c7e0 TLS:0xc0005220b0}
I0412 17:20:15.615939       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:20:15.615967       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:20:41.825028       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 17:21:15.532797       1 recommender.go:166] Recommender Run
I0412 17:21:15.536648       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:21:15.536745       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:21:15.537135       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:21:15.564995       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bed20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[50ce2cbc-0212-4022-b641-022f163a90e9 50ce2cbc-0212-4022-b641-022f163a90e9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0120 TLS:0xc0005220b0}
I0412 17:21:15.565590       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:21:15.565710       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:08 +0000 UTC Window:{Duration:15.133s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749698473 scale:-9} d:{Dec:<nil>} s:749698473n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:21:15.565720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749698473 scale:-9} d:{Dec:<nil>} s:749698473n Format:DecimalSI}, 750
I0412 17:21:15.565749       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:59 +0000 UTC Window:{Duration:12.627s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749750059 scale:-9} d:{Dec:<nil>} s:749750059n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.565753       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749750059 scale:-9} d:{Dec:<nil>} s:749750059n Format:DecimalSI}, 750
I0412 17:21:15.565776       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:20:57 +0000 UTC Window:{Duration:18.801s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1832189 scale:-9} d:{Dec:<nil>} s:1832189n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.565783       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1832189 scale:-9} d:{Dec:<nil>} s:1832189n Format:DecimalSI}, 2
I0412 17:21:15.565800       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:01 +0000 UTC Window:{Duration:13.329s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10407382 scale:-9} d:{Dec:<nil>} s:10407382n Format:DecimalSI} memory:{i:{value:167772160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.565804       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10407382 scale:-9} d:{Dec:<nil>} s:10407382n Format:DecimalSI}, 11
I0412 17:21:15.565824       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:00 +0000 UTC Window:{Duration:10.665s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2000937 scale:-9} d:{Dec:<nil>} s:2000937n Format:DecimalSI} memory:{i:{value:14950400 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.565856       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2000937 scale:-9} d:{Dec:<nil>} s:2000937n Format:DecimalSI}, 3
I0412 17:21:15.565886       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:05 +0000 UTC Window:{Duration:21.051s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:21:15.565894       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:21:15.565900       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:21:15.565925       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:03 +0000 UTC Window:{Duration:12.417s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1521462 scale:-9} d:{Dec:<nil>} s:1521462n Format:DecimalSI} memory:{i:{value:6959104 scale:0} d:{Dec:<nil>} s:6796Ki Format:BinarySI}]}]}
I0412 17:21:15.565953       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1521462 scale:-9} d:{Dec:<nil>} s:1521462n Format:DecimalSI}, 2
I0412 17:21:15.565979       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:04 +0000 UTC Window:{Duration:10.521s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:625510 scale:-9} d:{Dec:<nil>} s:625510n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.565985       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:625510 scale:-9} d:{Dec:<nil>} s:625510n Format:DecimalSI}, 1
I0412 17:21:15.566006       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:04 +0000 UTC Window:{Duration:12.153s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3075701 scale:-9} d:{Dec:<nil>} s:3075701n Format:DecimalSI} memory:{i:{value:18481152 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.566010       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3075701 scale:-9} d:{Dec:<nil>} s:3075701n Format:DecimalSI}, 4
I0412 17:21:15.566024       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:06 +0000 UTC Window:{Duration:13.921s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:172473 scale:-9} d:{Dec:<nil>} s:172473n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:21:15.566032       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:172473 scale:-9} d:{Dec:<nil>} s:172473n Format:DecimalSI}, 1
I0412 17:21:15.566061       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:06 +0000 UTC Window:{Duration:14.458s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:152856 scale:-9} d:{Dec:<nil>} s:152856n Format:DecimalSI} memory:{i:{value:11612160 scale:0} d:{Dec:<nil>} s:11340Ki Format:BinarySI}]}]}
I0412 17:21:15.566067       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:152856 scale:-9} d:{Dec:<nil>} s:152856n Format:DecimalSI}, 1
I0412 17:21:15.566082       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:06 +0000 UTC Window:{Duration:16.486s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:43309 scale:-9} d:{Dec:<nil>} s:43309n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:21:15.566091       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:43309 scale:-9} d:{Dec:<nil>} s:43309n Format:DecimalSI}, 1
I0412 17:21:15.566105       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:10 +0000 UTC Window:{Duration:29.793s} Containers:[{Name:updater Usage:map[cpu:{i:{value:96230 scale:-9} d:{Dec:<nil>} s:96230n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.566108       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:96230 scale:-9} d:{Dec:<nil>} s:96230n Format:DecimalSI}, 1
I0412 17:21:15.566122       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:05 +0000 UTC Window:{Duration:14.78s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1089918 scale:-9} d:{Dec:<nil>} s:1089918n Format:DecimalSI} memory:{i:{value:56836096 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:21:15.566129       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1089918 scale:-9} d:{Dec:<nil>} s:1089918n Format:DecimalSI}, 2
I0412 17:21:15.566252       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:21:15.566266       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:21:15.566312       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:21:15.566340       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:21:15.566393       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1880954.842\n%-tile\tvalue\n0\t0.010\n5\t0.414\n10\t0.708\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:21:15.566404       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0001162e8 ControlledValues:<nil>}:
I0412 17:21:15.566434       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:21:15.566458       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:21:15.566464       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442022897]
I0412 17:21:15.566468       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:21:15.566472       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1632 memory:900446178]
I0412 17:21:15.566475       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:21:15.586396       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883770} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883800 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[da49f653-3dc8-48dc-afd7-fccd5c342c33] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff560 TLS:0xc0005220b0}
I0412 17:21:15.602499       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf320} GetBody:0x6d9b40 ContentLength:593 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf3b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a37bf4d6-78e1-4eca-a8bb-bcb5b14aa102] Cache-Control:[no-cache, private] Content-Length:[1646] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:1646 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364480 TLS:0xc0005220b0}
I0412 17:21:15.602724       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:21:15.602748       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:21:36.300249       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 0 items received
I0412 17:21:53.562292       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 17:22:01.094898       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 5 items received
I0412 17:22:15.536760       1 recommender.go:166] Recommender Run
I0412 17:22:15.536936       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:22:15.540663       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:22:15.540908       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:22:15.559344       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[164fac5c-ea88-4a6e-9d93-ae81b0ff8f0b 164fac5c-ea88-4a6e-9d93-ae81b0ff8f0b] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364fc0 TLS:0xc0005220b0}
I0412 17:22:15.560506       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:22:15.560715       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:11 +0000 UTC Window:{Duration:17.594s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749584858 scale:-9} d:{Dec:<nil>} s:749584858n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:22:15.560733       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749584858 scale:-9} d:{Dec:<nil>} s:749584858n Format:DecimalSI}, 750
I0412 17:22:15.560779       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:09 +0000 UTC Window:{Duration:29.745s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750875911 scale:-9} d:{Dec:<nil>} s:750875911n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:22:15.560828       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750875911 scale:-9} d:{Dec:<nil>} s:750875911n Format:DecimalSI}, 751
I0412 17:22:15.560887       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:10 +0000 UTC Window:{Duration:19.984s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2793734 scale:-9} d:{Dec:<nil>} s:2793734n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:22:15.560894       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2793734 scale:-9} d:{Dec:<nil>} s:2793734n Format:DecimalSI}, 3
I0412 17:22:15.560924       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:05 +0000 UTC Window:{Duration:13.118s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10047949 scale:-9} d:{Dec:<nil>} s:10047949n Format:DecimalSI} memory:{i:{value:167768064 scale:0} d:{Dec:<nil>} s:163836Ki Format:BinarySI}]}]}
I0412 17:22:15.560935       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10047949 scale:-9} d:{Dec:<nil>} s:10047949n Format:DecimalSI}, 11
I0412 17:22:15.560960       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:09 +0000 UTC Window:{Duration:13.46s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1694502 scale:-9} d:{Dec:<nil>} s:1694502n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:22:15.561113       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1694502 scale:-9} d:{Dec:<nil>} s:1694502n Format:DecimalSI}, 2
I0412 17:22:15.561183       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:21:59 +0000 UTC Window:{Duration:16.428s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:22:15.561235       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:22:15.561272       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:22:15.561311       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:11 +0000 UTC Window:{Duration:15.726s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:987155 scale:-9} d:{Dec:<nil>} s:987155n Format:DecimalSI} memory:{i:{value:7032832 scale:0} d:{Dec:<nil>} s:6868Ki Format:BinarySI}]}]}
I0412 17:22:15.561324       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:987155 scale:-9} d:{Dec:<nil>} s:987155n Format:DecimalSI}, 1
I0412 17:22:15.561360       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:09 +0000 UTC Window:{Duration:18.636s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:360216 scale:-9} d:{Dec:<nil>} s:360216n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:22:15.561371       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:360216 scale:-9} d:{Dec:<nil>} s:360216n Format:DecimalSI}, 1
I0412 17:22:15.561398       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:08 +0000 UTC Window:{Duration:25.786s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:1786395 scale:-9} d:{Dec:<nil>} s:1786395n Format:DecimalSI} memory:{i:{value:18481152 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:22:15.561408       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1786395 scale:-9} d:{Dec:<nil>} s:1786395n Format:DecimalSI}, 2
I0412 17:22:15.561461       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:11 +0000 UTC Window:{Duration:14.295s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:206155 scale:-9} d:{Dec:<nil>} s:206155n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:22:15.561479       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:206155 scale:-9} d:{Dec:<nil>} s:206155n Format:DecimalSI}, 1
I0412 17:22:15.561505       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:04 +0000 UTC Window:{Duration:10.817s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:202736 scale:-9} d:{Dec:<nil>} s:202736n Format:DecimalSI} memory:{i:{value:11612160 scale:0} d:{Dec:<nil>} s:11340Ki Format:BinarySI}]}]}
I0412 17:22:15.561510       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:202736 scale:-9} d:{Dec:<nil>} s:202736n Format:DecimalSI}, 1
I0412 17:22:15.561534       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:00 +0000 UTC Window:{Duration:18.918s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:147637 scale:-9} d:{Dec:<nil>} s:147637n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:22:15.561545       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:147637 scale:-9} d:{Dec:<nil>} s:147637n Format:DecimalSI}, 1
I0412 17:22:15.561569       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:02 +0000 UTC Window:{Duration:16.559s} Containers:[{Name:updater Usage:map[cpu:{i:{value:22283 scale:-9} d:{Dec:<nil>} s:22283n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:22:15.561578       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:22283 scale:-9} d:{Dec:<nil>} s:22283n Format:DecimalSI}, 1
I0412 17:22:15.561602       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:12 +0000 UTC Window:{Duration:19.713s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1900421 scale:-9} d:{Dec:<nil>} s:1900421n Format:DecimalSI} memory:{i:{value:59047936 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:22:15.561621       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1900421 scale:-9} d:{Dec:<nil>} s:1900421n Format:DecimalSI}, 2
I0412 17:22:15.561815       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:22:15.561842       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:22:15.561913       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:22:15.561987       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:22:15.562069       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 2164144.507\n%-tile\tvalue\n0\t0.010\n5\t0.547\n10\t0.708\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:22:15.562086       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605410 ControlledValues:<nil>}:
I0412 17:22:15.562136       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:22:15.562148       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:22:15.562157       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442023406]
I0412 17:22:15.562163       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:22:15.562173       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1632 memory:900171230]
I0412 17:22:15.562183       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:22:15.578737       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1cb0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1d40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[61717d97-1669-4bb3-abb7-a324f4b9ec91] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214a20 TLS:0xc0005220b0}
I0412 17:22:15.594478       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cae0} GetBody:0x6d9b40 ContentLength:594 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cb70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3f763156-7123-470d-8813-c128cf237b4b] Cache-Control:[no-cache, private] Content-Length:[1647] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd680} ContentLength:1647 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003659e0 TLS:0xc0005220b0}
I0412 17:22:15.595559       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:22:15.595605       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:23:15.532870       1 recommender.go:166] Recommender Run
I0412 17:23:15.540839       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:23:15.541170       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:23:15.541903       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:23:15.568726       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007129c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0a009c7c-6d22-4ac7-a6ce-91b51032fafc 0a009c7c-6d22-4ac7-a6ce-91b51032fafc] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 17:23:15.570045       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:23:15.570252       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:03 +0000 UTC Window:{Duration:13.767s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751809835 scale:-9} d:{Dec:<nil>} s:751809835n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:23:15.570279       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751809835 scale:-9} d:{Dec:<nil>} s:751809835n Format:DecimalSI}, 752
I0412 17:23:15.570375       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:59 +0000 UTC Window:{Duration:19.608s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749495155 scale:-9} d:{Dec:<nil>} s:749495155n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570403       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749495155 scale:-9} d:{Dec:<nil>} s:749495155n Format:DecimalSI}, 750
I0412 17:23:15.570466       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:57 +0000 UTC Window:{Duration:10.437s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2218645 scale:-9} d:{Dec:<nil>} s:2218645n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570482       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2218645 scale:-9} d:{Dec:<nil>} s:2218645n Format:DecimalSI}, 3
I0412 17:23:15.570521       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:07 +0000 UTC Window:{Duration:15.728s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10516467 scale:-9} d:{Dec:<nil>} s:10516467n Format:DecimalSI} memory:{i:{value:167661568 scale:0} d:{Dec:<nil>} s:163732Ki Format:BinarySI}]}]}
I0412 17:23:15.570535       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10516467 scale:-9} d:{Dec:<nil>} s:10516467n Format:DecimalSI}, 11
I0412 17:23:15.570562       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:03 +0000 UTC Window:{Duration:15.181s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1732428 scale:-9} d:{Dec:<nil>} s:1732428n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570574       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1732428 scale:-9} d:{Dec:<nil>} s:1732428n Format:DecimalSI}, 2
I0412 17:23:15.570604       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:22:54 +0000 UTC Window:{Duration:16.52s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:23:15.570624       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:23:15.570630       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:23:15.570674       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:10 +0000 UTC Window:{Duration:13.411s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:955931 scale:-9} d:{Dec:<nil>} s:955931n Format:DecimalSI} memory:{i:{value:6848512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570684       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:955931 scale:-9} d:{Dec:<nil>} s:955931n Format:DecimalSI}, 1
I0412 17:23:15.570730       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:00 +0000 UTC Window:{Duration:19.382s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:564544 scale:-9} d:{Dec:<nil>} s:564544n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570740       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:564544 scale:-9} d:{Dec:<nil>} s:564544n Format:DecimalSI}, 1
I0412 17:23:15.570766       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:06 +0000 UTC Window:{Duration:16.353s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2312480 scale:-9} d:{Dec:<nil>} s:2312480n Format:DecimalSI} memory:{i:{value:19038208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570772       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2312480 scale:-9} d:{Dec:<nil>} s:2312480n Format:DecimalSI}, 3
I0412 17:23:15.570796       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:06 +0000 UTC Window:{Duration:15.521s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:393402 scale:-9} d:{Dec:<nil>} s:393402n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:23:15.570806       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:393402 scale:-9} d:{Dec:<nil>} s:393402n Format:DecimalSI}, 1
I0412 17:23:15.570829       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:10 +0000 UTC Window:{Duration:26.417s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:44630 scale:-9} d:{Dec:<nil>} s:44630n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570834       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:44630 scale:-9} d:{Dec:<nil>} s:44630n Format:DecimalSI}, 1
I0412 17:23:15.570873       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:07 +0000 UTC Window:{Duration:18.336s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:82406 scale:-9} d:{Dec:<nil>} s:82406n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:23:15.570884       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:82406 scale:-9} d:{Dec:<nil>} s:82406n Format:DecimalSI}, 1
I0412 17:23:15.570910       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:04 +0000 UTC Window:{Duration:10.428s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:23:15.570915       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:23:15.570963       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:05 +0000 UTC Window:{Duration:17.944s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1359786 scale:-9} d:{Dec:<nil>} s:1359786n Format:DecimalSI} memory:{i:{value:59052032 scale:0} d:{Dec:<nil>} s:57668Ki Format:BinarySI}]}]}
I0412 17:23:15.570978       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1359786 scale:-9} d:{Dec:<nil>} s:1359786n Format:DecimalSI}, 2
I0412 17:23:15.571176       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:23:15.571208       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:23:15.571269       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:23:15.571326       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:23:15.571411       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 2482751.993\n%-tile\tvalue\n0\t0.010\n5\t0.547\n10\t0.708\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:23:15.571434       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451680 ControlledValues:<nil>}:
I0412 17:23:15.571466       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:23:15.571478       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:23:15.571488       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442023826]
I0412 17:23:15.571498       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:23:15.571507       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1631 memory:899944557]
I0412 17:23:15.571517       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:23:15.652802       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747230} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007472c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a0076859-b8e8-40a5-a907-0b25a96e46c0] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d7a0 TLS:0xc0005220b0}
I0412 17:23:15.670910       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713410} GetBody:0x6d9b40 ContentLength:593 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007134a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fe0341a6-715d-464a-a8b0-f2b16fd7adbe] Cache-Control:[no-cache, private] Content-Length:[1646] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1646 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffe60 TLS:0xc0005220b0}
I0412 17:23:15.671713       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:23:15.671737       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:23:37.178315       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 17:23:39.962497       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 0 items received
I0412 17:24:15.532853       1 recommender.go:166] Recommender Run
I0412 17:24:15.533525       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:24:15.533749       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:24:15.534616       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:24:15.576521       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007626c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6b75d1bf-504d-4d43-81e0-5bab2f408aec 6b75d1bf-504d-4d43-81e0-5bab2f408aec] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214c60 TLS:0xc0005220b0}
I0412 17:24:15.577892       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:24:15.578083       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:08 +0000 UTC Window:{Duration:14.336s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752607003 scale:-9} d:{Dec:<nil>} s:752607003n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:24:15.578116       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752607003 scale:-9} d:{Dec:<nil>} s:752607003n Format:DecimalSI}, 753
I0412 17:24:15.578175       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:11 +0000 UTC Window:{Duration:24.979s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750693422 scale:-9} d:{Dec:<nil>} s:750693422n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:24:15.578185       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750693422 scale:-9} d:{Dec:<nil>} s:750693422n Format:DecimalSI}, 751
I0412 17:24:15.578248       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:11 +0000 UTC Window:{Duration:16.164s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1720984 scale:-9} d:{Dec:<nil>} s:1720984n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:24:15.578281       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1720984 scale:-9} d:{Dec:<nil>} s:1720984n Format:DecimalSI}, 2
I0412 17:24:15.578342       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:56 +0000 UTC Window:{Duration:17.847s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11126463 scale:-9} d:{Dec:<nil>} s:11126463n Format:DecimalSI} memory:{i:{value:167682048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:24:15.578380       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11126463 scale:-9} d:{Dec:<nil>} s:11126463n Format:DecimalSI}, 12
I0412 17:24:15.578430       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:02 +0000 UTC Window:{Duration:17.97s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2192821 scale:-9} d:{Dec:<nil>} s:2192821n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 17:24:15.578442       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2192821 scale:-9} d:{Dec:<nil>} s:2192821n Format:DecimalSI}, 3
I0412 17:24:15.578511       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:51 +0000 UTC Window:{Duration:19.574s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:24:15.578536       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:24:15.578546       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:24:15.578636       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:58 +0000 UTC Window:{Duration:13.354s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1055114 scale:-9} d:{Dec:<nil>} s:1055114n Format:DecimalSI} memory:{i:{value:6852608 scale:0} d:{Dec:<nil>} s:6692Ki Format:BinarySI}]}]}
I0412 17:24:15.578654       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1055114 scale:-9} d:{Dec:<nil>} s:1055114n Format:DecimalSI}, 2
I0412 17:24:15.578689       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:04 +0000 UTC Window:{Duration:10.994s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1285610 scale:-9} d:{Dec:<nil>} s:1285610n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:24:15.578694       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1285610 scale:-9} d:{Dec:<nil>} s:1285610n Format:DecimalSI}, 2
I0412 17:24:15.578729       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:07 +0000 UTC Window:{Duration:17.626s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2476455 scale:-9} d:{Dec:<nil>} s:2476455n Format:DecimalSI} memory:{i:{value:19259392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:24:15.578761       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2476455 scale:-9} d:{Dec:<nil>} s:2476455n Format:DecimalSI}, 3
I0412 17:24:15.578808       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:57 +0000 UTC Window:{Duration:19.443s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:720927 scale:-9} d:{Dec:<nil>} s:720927n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:24:15.578823       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:720927 scale:-9} d:{Dec:<nil>} s:720927n Format:DecimalSI}, 1
I0412 17:24:15.578872       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:59 +0000 UTC Window:{Duration:12.311s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:230444 scale:-9} d:{Dec:<nil>} s:230444n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:24:15.578892       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:230444 scale:-9} d:{Dec:<nil>} s:230444n Format:DecimalSI}, 1
I0412 17:24:15.578928       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:23:55 +0000 UTC Window:{Duration:28.651s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:190220 scale:-9} d:{Dec:<nil>} s:190220n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:24:15.578933       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:190220 scale:-9} d:{Dec:<nil>} s:190220n Format:DecimalSI}, 1
I0412 17:24:15.578957       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:01 +0000 UTC Window:{Duration:19.901s} Containers:[{Name:updater Usage:map[cpu:{i:{value:262449 scale:-9} d:{Dec:<nil>} s:262449n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:24:15.578980       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:262449 scale:-9} d:{Dec:<nil>} s:262449n Format:DecimalSI}, 1
I0412 17:24:15.579046       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:02 +0000 UTC Window:{Duration:19.716s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1616605 scale:-9} d:{Dec:<nil>} s:1616605n Format:DecimalSI} memory:{i:{value:59060224 scale:0} d:{Dec:<nil>} s:57676Ki Format:BinarySI}]}]}
I0412 17:24:15.579064       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1616605 scale:-9} d:{Dec:<nil>} s:1616605n Format:DecimalSI}, 2
I0412 17:24:15.579274       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:24:15.579305       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:24:15.579354       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:24:15.579410       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:24:15.579493       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 2855992.809\n%-tile\tvalue\n0\t0.010\n5\t0.547\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:24:15.579515       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841170 ControlledValues:<nil>}:
I0412 17:24:15.579556       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:24:15.579577       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:24:15.579587       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442024375]
I0412 17:24:15.579593       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:24:15.579601       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1737 memory:899648505]
I0412 17:24:15.579607       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:24:15.592407       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005beab0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005beb40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cb4e0e42-3632-4fb5-8454-a7035ca52b7c] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6000 TLS:0xc0005220b0}
I0412 17:24:15.605811       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf410} GetBody:0x6d9b40 ContentLength:590 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf4a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[98af52fb-b858-4afd-836a-4db3356b8e2b] Cache-Control:[no-cache, private] Content-Length:[1643] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:1643 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7320 TLS:0xc0005220b0}
I0412 17:24:15.607732       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:24:15.607753       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:25:15.532884       1 recommender.go:166] Recommender Run
I0412 17:25:15.536690       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:25:15.536931       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:25:15.537177       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:25:15.564346       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be9f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a1bc4a4d-6aa9-4e77-b97b-69e11818d510 a1bc4a4d-6aa9-4e77-b97b-69e11818d510] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b65a0 TLS:0xc0005220b0}
I0412 17:25:15.565044       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:25:15.565123       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:57 +0000 UTC Window:{Duration:11.449s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752014149 scale:-9} d:{Dec:<nil>} s:752014149n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:25:15.565137       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752014149 scale:-9} d:{Dec:<nil>} s:752014149n Format:DecimalSI}, 753
I0412 17:25:15.565167       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:00 +0000 UTC Window:{Duration:17.244s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752090350 scale:-9} d:{Dec:<nil>} s:752090350n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565171       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752090350 scale:-9} d:{Dec:<nil>} s:752090350n Format:DecimalSI}, 753
I0412 17:25:15.565191       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:10 +0000 UTC Window:{Duration:27.901s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1868176 scale:-9} d:{Dec:<nil>} s:1868176n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565200       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1868176 scale:-9} d:{Dec:<nil>} s:1868176n Format:DecimalSI}, 2
I0412 17:25:15.565218       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:04 +0000 UTC Window:{Duration:18.828s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10940461 scale:-9} d:{Dec:<nil>} s:10940461n Format:DecimalSI} memory:{i:{value:167682048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565222       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10940461 scale:-9} d:{Dec:<nil>} s:10940461n Format:DecimalSI}, 11
I0412 17:25:15.565237       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:06 +0000 UTC Window:{Duration:18.038s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1800088 scale:-9} d:{Dec:<nil>} s:1800088n Format:DecimalSI} memory:{i:{value:15204352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565249       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1800088 scale:-9} d:{Dec:<nil>} s:1800088n Format:DecimalSI}, 2
I0412 17:25:15.565272       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:00 +0000 UTC Window:{Duration:16.947s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2263 scale:-9} d:{Dec:<nil>} s:2263n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:25:15.565289       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:25:15.565297       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2263 scale:-9} d:{Dec:<nil>} s:2263n Format:DecimalSI}, 1
I0412 17:25:15.565314       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:11 +0000 UTC Window:{Duration:27.203s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1296143 scale:-9} d:{Dec:<nil>} s:1296143n Format:DecimalSI} memory:{i:{value:6934528 scale:0} d:{Dec:<nil>} s:6772Ki Format:BinarySI}]}]}
I0412 17:25:15.565327       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1296143 scale:-9} d:{Dec:<nil>} s:1296143n Format:DecimalSI}, 2
I0412 17:25:15.565343       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:07 +0000 UTC Window:{Duration:12.875s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:743611 scale:-9} d:{Dec:<nil>} s:743611n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565350       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:743611 scale:-9} d:{Dec:<nil>} s:743611n Format:DecimalSI}, 1
I0412 17:25:15.565364       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:57 +0000 UTC Window:{Duration:16.652s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:1948414 scale:-9} d:{Dec:<nil>} s:1948414n Format:DecimalSI} memory:{i:{value:19267584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565367       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1948414 scale:-9} d:{Dec:<nil>} s:1948414n Format:DecimalSI}, 2
I0412 17:25:15.565380       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:24:58 +0000 UTC Window:{Duration:10.124s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:161102 scale:-9} d:{Dec:<nil>} s:161102n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:25:15.565383       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:161102 scale:-9} d:{Dec:<nil>} s:161102n Format:DecimalSI}, 1
I0412 17:25:15.565403       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:09 +0000 UTC Window:{Duration:19.568s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:102565 scale:-9} d:{Dec:<nil>} s:102565n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565406       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:102565 scale:-9} d:{Dec:<nil>} s:102565n Format:DecimalSI}, 1
I0412 17:25:15.565424       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:09 +0000 UTC Window:{Duration:24.97s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:72246 scale:-9} d:{Dec:<nil>} s:72246n Format:DecimalSI} memory:{i:{value:11362304 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565428       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:72246 scale:-9} d:{Dec:<nil>} s:72246n Format:DecimalSI}, 1
I0412 17:25:15.565442       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:11 +0000 UTC Window:{Duration:17.406s} Containers:[{Name:updater Usage:map[cpu:{i:{value:100252 scale:-9} d:{Dec:<nil>} s:100252n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565446       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:100252 scale:-9} d:{Dec:<nil>} s:100252n Format:DecimalSI}, 1
I0412 17:25:15.565460       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:06 +0000 UTC Window:{Duration:19.538s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1196284 scale:-9} d:{Dec:<nil>} s:1196284n Format:DecimalSI} memory:{i:{value:58269696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:25:15.565471       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1196284 scale:-9} d:{Dec:<nil>} s:1196284n Format:DecimalSI}, 2
I0412 17:25:15.565537       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:25:15.565552       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:25:15.565586       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:25:15.565604       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:25:15.565653       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 3273974.601\n%-tile\tvalue\n0\t0.010\n5\t0.708\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.801\n90\t0.801\n95\t0.801\n100\t0.801:
I0412 17:25:15.565678       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000604120 ControlledValues:<nil>}:
I0412 17:25:15.565735       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:25:15.565758       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:25:15.565769       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442024770]
I0412 17:25:15.565776       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:25:15.565783       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1736 memory:899435430]
I0412 17:25:15.565789       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:25:15.589321       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582210} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005822a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[15ee8cff-b95c-4cc8-a585-75c0e0837451] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c480 TLS:0xc0005220b0}
I0412 17:25:15.628888       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763530} GetBody:0x6d9b40 ContentLength:591 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763800 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[56982c6b-5800-492f-8e76-e029d19aed90] Cache-Control:[no-cache, private] Content-Length:[1644] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:1644 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214c60 TLS:0xc0005220b0}
I0412 17:25:15.636750       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:25:15.636776       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:25:34.764106       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 18 items received
I0412 17:26:06.832891       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 17:26:15.532745       1 recommender.go:166] Recommender Run
I0412 17:26:15.532925       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:26:15.536662       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:26:15.537163       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:26:15.563311       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089ce10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d845bf7b-95de-4f5a-8418-962366dae5b0 d845bf7b-95de-4f5a-8418-962366dae5b0] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9e00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003647e0 TLS:0xc0005220b0}
I0412 17:26:15.564350       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:26:15.564484       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:06 +0000 UTC Window:{Duration:16.082s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750993097 scale:-9} d:{Dec:<nil>} s:750993097n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:26:15.564498       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750993097 scale:-9} d:{Dec:<nil>} s:750993097n Format:DecimalSI}, 751
I0412 17:26:15.564637       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:09 +0000 UTC Window:{Duration:14.542s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748436803 scale:-9} d:{Dec:<nil>} s:748436803n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.564655       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748436803 scale:-9} d:{Dec:<nil>} s:748436803n Format:DecimalSI}, 749
I0412 17:26:15.564719       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:06 +0000 UTC Window:{Duration:10.906s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2018613 scale:-9} d:{Dec:<nil>} s:2018613n Format:DecimalSI} memory:{i:{value:32342016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.564736       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2018613 scale:-9} d:{Dec:<nil>} s:2018613n Format:DecimalSI}, 3
I0412 17:26:15.564790       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:02 +0000 UTC Window:{Duration:10.29s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9867541 scale:-9} d:{Dec:<nil>} s:9867541n Format:DecimalSI} memory:{i:{value:167723008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.564798       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9867541 scale:-9} d:{Dec:<nil>} s:9867541n Format:DecimalSI}, 10
I0412 17:26:15.564839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:02 +0000 UTC Window:{Duration:13.214s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1827001 scale:-9} d:{Dec:<nil>} s:1827001n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.564852       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1827001 scale:-9} d:{Dec:<nil>} s:1827001n Format:DecimalSI}, 2
I0412 17:26:15.564898       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:25:49 +0000 UTC Window:{Duration:14.282s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:26:15.564917       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:26:15.564925       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:26:15.564956       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:05 +0000 UTC Window:{Duration:15.886s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:990117 scale:-9} d:{Dec:<nil>} s:990117n Format:DecimalSI} memory:{i:{value:6950912 scale:0} d:{Dec:<nil>} s:6788Ki Format:BinarySI}]}]}
I0412 17:26:15.564968       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:990117 scale:-9} d:{Dec:<nil>} s:990117n Format:DecimalSI}, 1
I0412 17:26:15.565016       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:03 +0000 UTC Window:{Duration:15.784s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:335909 scale:-9} d:{Dec:<nil>} s:335909n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.565055       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:335909 scale:-9} d:{Dec:<nil>} s:335909n Format:DecimalSI}, 1
I0412 17:26:15.565092       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:06 +0000 UTC Window:{Duration:19.173s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3431074 scale:-9} d:{Dec:<nil>} s:3431074n Format:DecimalSI} memory:{i:{value:19283968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.565099       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3431074 scale:-9} d:{Dec:<nil>} s:3431074n Format:DecimalSI}, 4
I0412 17:26:15.565146       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:10 +0000 UTC Window:{Duration:26.182s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:161179 scale:-9} d:{Dec:<nil>} s:161179n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:26:15.565161       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:161179 scale:-9} d:{Dec:<nil>} s:161179n Format:DecimalSI}, 1
I0412 17:26:15.565201       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:11 +0000 UTC Window:{Duration:15.428s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:253629 scale:-9} d:{Dec:<nil>} s:253629n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.565207       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:253629 scale:-9} d:{Dec:<nil>} s:253629n Format:DecimalSI}, 1
I0412 17:26:15.565236       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:02 +0000 UTC Window:{Duration:17.349s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:62770 scale:-9} d:{Dec:<nil>} s:62770n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:26:15.565246       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:62770 scale:-9} d:{Dec:<nil>} s:62770n Format:DecimalSI}, 1
I0412 17:26:15.565291       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:09 +0000 UTC Window:{Duration:15.545s} Containers:[{Name:updater Usage:map[cpu:{i:{value:42843 scale:-9} d:{Dec:<nil>} s:42843n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:26:15.565302       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:42843 scale:-9} d:{Dec:<nil>} s:42843n Format:DecimalSI}, 1
I0412 17:26:15.565364       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:02 +0000 UTC Window:{Duration:11.193s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1282855 scale:-9} d:{Dec:<nil>} s:1282855n Format:DecimalSI} memory:{i:{value:58273792 scale:0} d:{Dec:<nil>} s:56908Ki Format:BinarySI}]}]}
I0412 17:26:15.565376       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1282855 scale:-9} d:{Dec:<nil>} s:1282855n Format:DecimalSI}, 2
I0412 17:26:15.565591       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:26:15.565616       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:26:15.565688       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:26:15.565735       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:26:15.565827       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 3764198.254\n%-tile\tvalue\n0\t0.010\n5\t0.708\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.801\n90\t0.801\n95\t0.801\n100\t0.801:
I0412 17:26:15.565847       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009910e0 ControlledValues:<nil>}:
I0412 17:26:15.565884       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:26:15.565894       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:26:15.565905       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442025326]
I0412 17:26:15.565911       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:26:15.565921       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1736 memory:899135748]
I0412 17:26:15.565928       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:26:15.603554       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883bc0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883d70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2fb0829b-9500-4ca2-a0e1-caeb42d990f2] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004559e0 TLS:0xc0005220b0}
I0412 17:26:15.628908       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0ba0} GetBody:0x6d9b40 ContentLength:591 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0c30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[81d56a05-14f4-458c-aa50-16037d4786f5] Cache-Control:[no-cache, private] Content-Length:[1644] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:1644 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c120 TLS:0xc0005220b0}
I0412 17:26:15.641068       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:26:15.648659       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:27:07.525012       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 5 items received
I0412 17:27:15.532782       1 recommender.go:166] Recommender Run
I0412 17:27:15.533187       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:27:15.536691       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:27:15.537070       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:27:15.566180       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1140 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4eb028d1-1749-427a-aa20-b987b7e7e894 4eb028d1-1749-427a-aa20-b987b7e7e894] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cea0 TLS:0xc0005220b0}
I0412 17:27:15.567314       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:27:15.567445       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:56 +0000 UTC Window:{Duration:19.869s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749535054 scale:-9} d:{Dec:<nil>} s:749535054n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:27:15.567457       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749535054 scale:-9} d:{Dec:<nil>} s:749535054n Format:DecimalSI}, 750
I0412 17:27:15.567522       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:11 +0000 UTC Window:{Duration:26.092s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750129388 scale:-9} d:{Dec:<nil>} s:750129388n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.567534       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750129388 scale:-9} d:{Dec:<nil>} s:750129388n Format:DecimalSI}, 751
I0412 17:27:15.567573       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:06 +0000 UTC Window:{Duration:16.44s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1921411 scale:-9} d:{Dec:<nil>} s:1921411n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.567579       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1921411 scale:-9} d:{Dec:<nil>} s:1921411n Format:DecimalSI}, 2
I0412 17:27:15.567609       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:00 +0000 UTC Window:{Duration:16.87s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10617664 scale:-9} d:{Dec:<nil>} s:10617664n Format:DecimalSI} memory:{i:{value:167723008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.567619       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10617664 scale:-9} d:{Dec:<nil>} s:10617664n Format:DecimalSI}, 11
I0412 17:27:15.567645       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:01 +0000 UTC Window:{Duration:14.593s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2068868 scale:-9} d:{Dec:<nil>} s:2068868n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.567658       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2068868 scale:-9} d:{Dec:<nil>} s:2068868n Format:DecimalSI}, 3
I0412 17:27:15.567688       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:08 +0000 UTC Window:{Duration:21.949s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:27:15.567698       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:27:15.567704       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:27:15.567743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:08 +0000 UTC Window:{Duration:17.7s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1095988 scale:-9} d:{Dec:<nil>} s:1095988n Format:DecimalSI} memory:{i:{value:6975488 scale:0} d:{Dec:<nil>} s:6812Ki Format:BinarySI}]}]}
I0412 17:27:15.567757       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1095988 scale:-9} d:{Dec:<nil>} s:1095988n Format:DecimalSI}, 2
I0412 17:27:15.567790       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:01 +0000 UTC Window:{Duration:16.62s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:733874 scale:-9} d:{Dec:<nil>} s:733874n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.567803       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:733874 scale:-9} d:{Dec:<nil>} s:733874n Format:DecimalSI}, 1
I0412 17:27:15.567847       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:11 +0000 UTC Window:{Duration:24.701s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3559005 scale:-9} d:{Dec:<nil>} s:3559005n Format:DecimalSI} memory:{i:{value:18718720 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.567854       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3559005 scale:-9} d:{Dec:<nil>} s:3559005n Format:DecimalSI}, 4
I0412 17:27:15.567880       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:26:58 +0000 UTC Window:{Duration:15.704s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:206189 scale:-9} d:{Dec:<nil>} s:206189n Format:DecimalSI} memory:{i:{value:9777152 scale:0} d:{Dec:<nil>} s:9548Ki Format:BinarySI}]}]}
I0412 17:27:15.567885       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:206189 scale:-9} d:{Dec:<nil>} s:206189n Format:DecimalSI}, 1
I0412 17:27:15.567921       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:03 +0000 UTC Window:{Duration:13.537s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:190071 scale:-9} d:{Dec:<nil>} s:190071n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.567934       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:190071 scale:-9} d:{Dec:<nil>} s:190071n Format:DecimalSI}, 1
I0412 17:27:15.567977       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:11 +0000 UTC Window:{Duration:18.307s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:284645 scale:-9} d:{Dec:<nil>} s:284645n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:27:15.567982       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:284645 scale:-9} d:{Dec:<nil>} s:284645n Format:DecimalSI}, 1
I0412 17:27:15.568027       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:04 +0000 UTC Window:{Duration:10.213s} Containers:[{Name:updater Usage:map[cpu:{i:{value:52482 scale:-9} d:{Dec:<nil>} s:52482n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:27:15.568090       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:52482 scale:-9} d:{Dec:<nil>} s:52482n Format:DecimalSI}, 1
I0412 17:27:15.568129       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:02 +0000 UTC Window:{Duration:16.577s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1106171 scale:-9} d:{Dec:<nil>} s:1106171n Format:DecimalSI} memory:{i:{value:55848960 scale:0} d:{Dec:<nil>} s:54540Ki Format:BinarySI}]}]}
I0412 17:27:15.568148       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1106171 scale:-9} d:{Dec:<nil>} s:1106171n Format:DecimalSI}, 2
I0412 17:27:15.568436       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:27:15.568472       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:27:15.568530       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:27:15.568653       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:27:15.568793       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 4322217.428\n%-tile\tvalue\n0\t0.010\n5\t0.708\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.801\n95\t0.801\n100\t0.801:
I0412 17:27:15.568812       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841c08 ControlledValues:<nil>}:
I0412 17:27:15.568858       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:27:15.568870       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:27:15.568879       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442025824]
I0412 17:27:15.568885       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:27:15.568901       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1735 memory:898866832]
I0412 17:27:15.568909       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:27:15.584833       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747920} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007479b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d0ccaa25-5c3d-49f2-89a0-b20deb60e08e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cb40 TLS:0xc0005220b0}
I0412 17:27:15.604039       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be420} GetBody:0x6d9b40 ContentLength:583 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be4b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[eac76fff-6e19-45b2-8140-d24799997287] Cache-Control:[no-cache, private] Content-Length:[1627] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:1627 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d320 TLS:0xc0005220b0}
I0412 17:27:15.604443       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:27:15.604473       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:27:52.378295       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 2 items received
I0412 17:27:54.567556       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 17:28:15.536986       1 recommender.go:166] Recommender Run
I0412 17:28:15.537449       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:28:15.537541       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:28:15.545253       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:28:15.564180       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729440 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8d8aa8cb-aeec-4de1-b5aa-089c65bb476c 8d8aa8cb-aeec-4de1-b5aa-089c65bb476c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b79e0 TLS:0xc0005220b0}
I0412 17:28:15.565597       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:28:15.565840       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:08 +0000 UTC Window:{Duration:28.124s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749253057 scale:-9} d:{Dec:<nil>} s:749253057n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:28:15.565914       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749253057 scale:-9} d:{Dec:<nil>} s:749253057n Format:DecimalSI}, 750
I0412 17:28:15.566048       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:05 +0000 UTC Window:{Duration:18.969s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748673678 scale:-9} d:{Dec:<nil>} s:748673678n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.566125       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748673678 scale:-9} d:{Dec:<nil>} s:748673678n Format:DecimalSI}, 749
I0412 17:28:15.566245       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:06 +0000 UTC Window:{Duration:13.535s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1969338 scale:-9} d:{Dec:<nil>} s:1969338n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.566317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1969338 scale:-9} d:{Dec:<nil>} s:1969338n Format:DecimalSI}, 2
I0412 17:28:15.566422       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:07 +0000 UTC Window:{Duration:19.857s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10768746 scale:-9} d:{Dec:<nil>} s:10768746n Format:DecimalSI} memory:{i:{value:167763968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.566479       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10768746 scale:-9} d:{Dec:<nil>} s:10768746n Format:DecimalSI}, 11
I0412 17:28:15.566584       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:05 +0000 UTC Window:{Duration:12.602s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1716552 scale:-9} d:{Dec:<nil>} s:1716552n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.566651       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1716552 scale:-9} d:{Dec:<nil>} s:1716552n Format:DecimalSI}, 2
I0412 17:28:15.566777       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:58 +0000 UTC Window:{Duration:15.09s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:28:15.566854       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:28:15.566883       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:28:15.566997       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:03 +0000 UTC Window:{Duration:13.94s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1232065 scale:-9} d:{Dec:<nil>} s:1232065n Format:DecimalSI} memory:{i:{value:7004160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.567065       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1232065 scale:-9} d:{Dec:<nil>} s:1232065n Format:DecimalSI}, 2
I0412 17:28:15.567190       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:07 +0000 UTC Window:{Duration:17.765s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:632648 scale:-9} d:{Dec:<nil>} s:632648n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.567261       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:632648 scale:-9} d:{Dec:<nil>} s:632648n Format:DecimalSI}, 1
I0412 17:28:15.567381       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:27:58 +0000 UTC Window:{Duration:17.24s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:1893561 scale:-9} d:{Dec:<nil>} s:1893561n Format:DecimalSI} memory:{i:{value:18718720 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.567455       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1893561 scale:-9} d:{Dec:<nil>} s:1893561n Format:DecimalSI}, 2
I0412 17:28:15.567553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:01 +0000 UTC Window:{Duration:17.755s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:219712 scale:-9} d:{Dec:<nil>} s:219712n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.567595       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:219712 scale:-9} d:{Dec:<nil>} s:219712n Format:DecimalSI}, 1
I0412 17:28:15.567707       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:05 +0000 UTC Window:{Duration:15.309s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:93474 scale:-9} d:{Dec:<nil>} s:93474n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.567766       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:93474 scale:-9} d:{Dec:<nil>} s:93474n Format:DecimalSI}, 1
I0412 17:28:15.567880       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:10 +0000 UTC Window:{Duration:15.439s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:77336 scale:-9} d:{Dec:<nil>} s:77336n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:28:15.567948       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:77336 scale:-9} d:{Dec:<nil>} s:77336n Format:DecimalSI}, 1
I0412 17:28:15.568045       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:00 +0000 UTC Window:{Duration:19.085s} Containers:[{Name:updater Usage:map[cpu:{i:{value:27403 scale:-9} d:{Dec:<nil>} s:27403n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.568135       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:27403 scale:-9} d:{Dec:<nil>} s:27403n Format:DecimalSI}, 1
I0412 17:28:15.568252       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:04 +0000 UTC Window:{Duration:15.424s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1145682 scale:-9} d:{Dec:<nil>} s:1145682n Format:DecimalSI} memory:{i:{value:55853056 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:28:15.568353       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1145682 scale:-9} d:{Dec:<nil>} s:1145682n Format:DecimalSI}, 2
I0412 17:28:15.568668       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:28:15.568705       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:28:15.568759       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:28:15.568819       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:28:15.568909       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 4967578.591\n%-tile\tvalue\n0\t0.010\n5\t0.708\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.801\n95\t0.801\n100\t0.801:
I0412 17:28:15.568928       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006044f8 ControlledValues:<nil>}:
I0412 17:28:15.568971       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:28:15.568986       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:28:15.569007       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442026282]
I0412 17:28:15.569033       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:28:15.569042       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1735 memory:898619903]
I0412 17:28:15.569048       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:28:15.585881       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00051de00} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c030 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e3557bcb-80cf-4c06-88b3-0caa5a621d4b] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214480 TLS:0xc0005220b0}
I0412 17:28:15.609406       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cf00} GetBody:0x6d9b40 ContentLength:581 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cf90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dcc34999-e4eb-4206-8a2f-962fbc1eaf46] Cache-Control:[no-cache, private] Content-Length:[1625] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccd80} ContentLength:1625 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214fc0 TLS:0xc0005220b0}
I0412 17:28:15.609650       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:28:15.609704       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 17:28:15.609744       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:28:15.609750       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:28:15.609821       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:28:15.617317       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf620 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4d18e3b2-58c5-4596-abb2-1528976f5d4b] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363980} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dc20 TLS:0xc0005220b0}
I0412 17:28:15.628788       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d8f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[13a946e6-26c6-48b8-ae8f-b4d482c4652d] Cache-Control:[no-cache, private] Content-Length:[1778] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd800} ContentLength:1778 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365560 TLS:0xc0005220b0}
I0412 17:28:15.656704       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882060 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[734a2f40-ed47-4b6c-afca-2e8618e7ee6e] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cdb00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365c20 TLS:0xc0005220b0}
I0412 17:28:15.664582       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882630 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[790476e1-34ef-4bdd-9869-b39455c89695] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cdc80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000172b40 TLS:0xc0005220b0}
I0412 17:28:15.676352       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882a80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[612ea1d0-b06f-40ea-9793-9a93dceb0d1c] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cde00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004559e0 TLS:0xc0005220b0}
I0412 17:28:15.682626       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883050 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0ae99510-87e1-4dfd-b9a7-f0daf6a88367] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0b40 TLS:0xc0005220b0}
I0412 17:28:15.682797       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:29:15.532661       1 recommender.go:166] Recommender Run
I0412 17:29:15.532767       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:29:15.532791       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:29:15.532866       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:29:15.564871       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be900 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2bc5cb69-3433-4466-8f9d-190ee81a99c4 2bc5cb69-3433-4466-8f9d-190ee81a99c4] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c360 TLS:0xc0005220b0}
I0412 17:29:15.565339       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:29:15.565403       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:11 +0000 UTC Window:{Duration:16.124s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751871806 scale:-9} d:{Dec:<nil>} s:751871806n Format:DecimalSI} memory:{i:{value:398135296 scale:0} d:{Dec:<nil>} s:388804Ki Format:BinarySI}]}]}
I0412 17:29:15.565417       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751871806 scale:-9} d:{Dec:<nil>} s:751871806n Format:DecimalSI}, 752
I0412 17:29:15.565438       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:10 +0000 UTC Window:{Duration:15.5s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749955354 scale:-9} d:{Dec:<nil>} s:749955354n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565448       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749955354 scale:-9} d:{Dec:<nil>} s:749955354n Format:DecimalSI}, 750
I0412 17:29:15.565465       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:00 +0000 UTC Window:{Duration:12.373s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1656590 scale:-9} d:{Dec:<nil>} s:1656590n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565468       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1656590 scale:-9} d:{Dec:<nil>} s:1656590n Format:DecimalSI}, 2
I0412 17:29:15.565485       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:56 +0000 UTC Window:{Duration:18.98s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9254636 scale:-9} d:{Dec:<nil>} s:9254636n Format:DecimalSI} memory:{i:{value:167763968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565494       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9254636 scale:-9} d:{Dec:<nil>} s:9254636n Format:DecimalSI}, 10
I0412 17:29:15.565517       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:05 +0000 UTC Window:{Duration:10.579s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1692976 scale:-9} d:{Dec:<nil>} s:1692976n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:29:15.565530       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1692976 scale:-9} d:{Dec:<nil>} s:1692976n Format:DecimalSI}, 2
I0412 17:29:15.565552       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:46 +0000 UTC Window:{Duration:18.286s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:29:15.565561       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:29:15.565565       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:29:15.565581       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:54 +0000 UTC Window:{Duration:24.712s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:991663 scale:-9} d:{Dec:<nil>} s:991663n Format:DecimalSI} memory:{i:{value:7004160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565588       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:991663 scale:-9} d:{Dec:<nil>} s:991663n Format:DecimalSI}, 1
I0412 17:29:15.565604       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:02 +0000 UTC Window:{Duration:16.716s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:490308 scale:-9} d:{Dec:<nil>} s:490308n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565606       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:490308 scale:-9} d:{Dec:<nil>} s:490308n Format:DecimalSI}, 1
I0412 17:29:15.565621       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:02 +0000 UTC Window:{Duration:13.252s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2023543 scale:-9} d:{Dec:<nil>} s:2023543n Format:DecimalSI} memory:{i:{value:19034112 scale:0} d:{Dec:<nil>} s:18588Ki Format:BinarySI}]}]}
I0412 17:29:15.565627       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2023543 scale:-9} d:{Dec:<nil>} s:2023543n Format:DecimalSI}, 3
I0412 17:29:15.565647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:10 +0000 UTC Window:{Duration:16.826s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:201057 scale:-9} d:{Dec:<nil>} s:201057n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565654       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:201057 scale:-9} d:{Dec:<nil>} s:201057n Format:DecimalSI}, 1
I0412 17:29:15.565673       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:28:59 +0000 UTC Window:{Duration:12.634s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:55168 scale:-9} d:{Dec:<nil>} s:55168n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565679       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:55168 scale:-9} d:{Dec:<nil>} s:55168n Format:DecimalSI}, 1
I0412 17:29:15.565693       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:09 +0000 UTC Window:{Duration:19.464s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:38327 scale:-9} d:{Dec:<nil>} s:38327n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:29:15.565698       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:38327 scale:-9} d:{Dec:<nil>} s:38327n Format:DecimalSI}, 1
I0412 17:29:15.565713       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:04 +0000 UTC Window:{Duration:15.729s} Containers:[{Name:updater Usage:map[cpu:{i:{value:91550 scale:-9} d:{Dec:<nil>} s:91550n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:29:15.565715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:91550 scale:-9} d:{Dec:<nil>} s:91550n Format:DecimalSI}, 1
I0412 17:29:15.565729       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:06 +0000 UTC Window:{Duration:17.709s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:924275 scale:-9} d:{Dec:<nil>} s:924275n Format:DecimalSI} memory:{i:{value:54784000 scale:0} d:{Dec:<nil>} s:53500Ki Format:BinarySI}]}]}
I0412 17:29:15.565735       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:924275 scale:-9} d:{Dec:<nil>} s:924275n Format:DecimalSI}, 1
I0412 17:29:15.565789       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:29:15.565797       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:29:15.565833       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:29:15.565852       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:29:15.565880       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 5715782.962\n%-tile\tvalue\n0\t0.010\n5\t0.753\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.801\n95\t0.801\n100\t0.801:
I0412 17:29:15.565894       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605ec0 ControlledValues:<nil>}:
I0412 17:29:15.565916       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:29:15.565925       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:29:15.565931       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442026788]
I0412 17:29:15.565934       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:29:15.565939       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1734 memory:898347318]
I0412 17:29:15.565946       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:29:15.576901       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008836b0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883740 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8cc8591b-6475-4d48-8c06-3c02e5467249] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0a20 TLS:0xc0005220b0}
I0412 17:29:15.594706       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712360} GetBody:0x6d9b40 ContentLength:582 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712780 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8a285b6f-7a1d-4fe6-977f-fbcd9418eaaf] Cache-Control:[no-cache, private] Content-Length:[1627] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:1627 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff680 TLS:0xc0005220b0}
I0412 17:29:15.594929       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:29:15.594957       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:29:57.306338       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 7 items received
I0412 17:30:15.536784       1 recommender.go:166] Recommender Run
I0412 17:30:15.537136       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:30:15.537232       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:30:15.537463       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:30:15.556913       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bfad0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2657a937-d943-46ef-9bb1-f244f8c42459 2657a937-d943-46ef-9bb1-f244f8c42459] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cd80 TLS:0xc0005220b0}
I0412 17:30:15.558348       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:30:15.558486       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:08 +0000 UTC Window:{Duration:17.747s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50430326 scale:-9} d:{Dec:<nil>} s:50430326n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:30:15.558514       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50430326 scale:-9} d:{Dec:<nil>} s:50430326n Format:DecimalSI}, 51
I0412 17:30:15.558560       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:06 +0000 UTC Window:{Duration:17.365s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747546904 scale:-9} d:{Dec:<nil>} s:747546904n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.558573       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747546904 scale:-9} d:{Dec:<nil>} s:747546904n Format:DecimalSI}, 748
I0412 17:30:15.558625       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:01 +0000 UTC Window:{Duration:11.153s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3699991 scale:-9} d:{Dec:<nil>} s:3699991n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.558639       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3699991 scale:-9} d:{Dec:<nil>} s:3699991n Format:DecimalSI}, 4
I0412 17:30:15.558692       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:04 +0000 UTC Window:{Duration:18.081s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11586250 scale:-9} d:{Dec:<nil>} s:11586250n Format:DecimalSI} memory:{i:{value:167763968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.558714       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11586250 scale:-9} d:{Dec:<nil>} s:11586250n Format:DecimalSI}, 12
I0412 17:30:15.558746       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:02 +0000 UTC Window:{Duration:19.98s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1969819 scale:-9} d:{Dec:<nil>} s:1969819n Format:DecimalSI} memory:{i:{value:15204352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.558756       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1969819 scale:-9} d:{Dec:<nil>} s:1969819n Format:DecimalSI}, 2
I0412 17:30:15.558791       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:29:59 +0000 UTC Window:{Duration:28.368s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:30:15.558816       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:30:15.558825       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:30:15.558858       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:01 +0000 UTC Window:{Duration:18.483s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:845317 scale:-9} d:{Dec:<nil>} s:845317n Format:DecimalSI} memory:{i:{value:7655424 scale:0} d:{Dec:<nil>} s:7476Ki Format:BinarySI}]}]}
I0412 17:30:15.558869       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:845317 scale:-9} d:{Dec:<nil>} s:845317n Format:DecimalSI}, 1
I0412 17:30:15.558916       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:09 +0000 UTC Window:{Duration:28.496s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:374578 scale:-9} d:{Dec:<nil>} s:374578n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.558934       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:374578 scale:-9} d:{Dec:<nil>} s:374578n Format:DecimalSI}, 1
I0412 17:30:15.558967       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:11 +0000 UTC Window:{Duration:15.377s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2718670 scale:-9} d:{Dec:<nil>} s:2718670n Format:DecimalSI} memory:{i:{value:18739200 scale:0} d:{Dec:<nil>} s:18300Ki Format:BinarySI}]}]}
I0412 17:30:15.559006       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2718670 scale:-9} d:{Dec:<nil>} s:2718670n Format:DecimalSI}, 3
I0412 17:30:15.559045       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:11 +0000 UTC Window:{Duration:17.58s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:336120 scale:-9} d:{Dec:<nil>} s:336120n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.559056       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:336120 scale:-9} d:{Dec:<nil>} s:336120n Format:DecimalSI}, 1
I0412 17:30:15.559086       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:06 +0000 UTC Window:{Duration:16.71s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:119868 scale:-9} d:{Dec:<nil>} s:119868n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.559097       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:119868 scale:-9} d:{Dec:<nil>} s:119868n Format:DecimalSI}, 1
I0412 17:30:15.559129       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:09 +0000 UTC Window:{Duration:12.773s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:269239 scale:-9} d:{Dec:<nil>} s:269239n Format:DecimalSI} memory:{i:{value:11358208 scale:0} d:{Dec:<nil>} s:11092Ki Format:BinarySI}]}]}
I0412 17:30:15.559141       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:269239 scale:-9} d:{Dec:<nil>} s:269239n Format:DecimalSI}, 1
I0412 17:30:15.559171       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:07 +0000 UTC Window:{Duration:15.593s} Containers:[{Name:updater Usage:map[cpu:{i:{value:86449 scale:-9} d:{Dec:<nil>} s:86449n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.559183       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:86449 scale:-9} d:{Dec:<nil>} s:86449n Format:DecimalSI}, 1
I0412 17:30:15.559271       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:02 +0000 UTC Window:{Duration:11.531s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1970600 scale:-9} d:{Dec:<nil>} s:1970600n Format:DecimalSI} memory:{i:{value:54796288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:30:15.559287       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1970600 scale:-9} d:{Dec:<nil>} s:1970600n Format:DecimalSI}, 2
I0412 17:30:15.559518       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:30:15.559547       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:30:15.559636       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:30:15.559684       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:30:15.559792       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 6568323.606\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.708\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:30:15.559812       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009914e8 ControlledValues:<nil>}:
I0412 17:30:15.559879       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:30:15.559898       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:30:15.559911       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442027244]
I0412 17:30:15.559917       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:30:15.559927       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1734 memory:898100997]
I0412 17:30:15.559934       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:30:15.575269       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763020} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007630e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a9a4171f-5d5c-4657-939f-7423405a10e4] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 17:30:15.588134       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763f20} GetBody:0x6d9b40 ContentLength:583 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582030 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6182f222-7994-4602-a396-6c5c0cbd4fa6] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 17:30:15.611486       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000582e40} GetBody:0x6d9b40 ContentLength:765 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582ed0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7be1b971-f4ba-4ff6-b99e-803c70e5fa8c] Cache-Control:[no-cache, private] Content-Length:[1627] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363c80} ContentLength:1627 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d4360 TLS:0xc0005220b0}
I0412 17:30:15.612045       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:30:15.612080       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:30:23.097680       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 3 items received
I0412 17:30:41.182735       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 8 items received
I0412 17:31:08.967399       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 4 items received
I0412 17:31:15.532823       1 recommender.go:166] Recommender Run
I0412 17:31:15.538524       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:31:15.538779       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:31:15.539003       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:31:15.558823       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2c79ad90-bbb3-49e0-9a3c-dda2bfb3a595 2c79ad90-bbb3-49e0-9a3c-dda2bfb3a595] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b66c0 TLS:0xc0005220b0}
I0412 17:31:15.560370       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:31:15.560548       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:00 +0000 UTC Window:{Duration:14.275s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50416952 scale:-9} d:{Dec:<nil>} s:50416952n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:31:15.560585       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50416952 scale:-9} d:{Dec:<nil>} s:50416952n Format:DecimalSI}, 51
I0412 17:31:15.560670       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:07 +0000 UTC Window:{Duration:10.306s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749312730 scale:-9} d:{Dec:<nil>} s:749312730n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.560685       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749312730 scale:-9} d:{Dec:<nil>} s:749312730n Format:DecimalSI}, 750
I0412 17:31:15.560734       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:09 +0000 UTC Window:{Duration:16.577s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2142305 scale:-9} d:{Dec:<nil>} s:2142305n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.560751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2142305 scale:-9} d:{Dec:<nil>} s:2142305n Format:DecimalSI}, 3
I0412 17:31:15.560789       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:10 +0000 UTC Window:{Duration:19.068s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11869729 scale:-9} d:{Dec:<nil>} s:11869729n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 17:31:15.560811       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11869729 scale:-9} d:{Dec:<nil>} s:11869729n Format:DecimalSI}, 12
I0412 17:31:15.560844       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:00 +0000 UTC Window:{Duration:13.579s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2041976 scale:-9} d:{Dec:<nil>} s:2041976n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:31:15.560850       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2041976 scale:-9} d:{Dec:<nil>} s:2041976n Format:DecimalSI}, 3
I0412 17:31:15.560889       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:56 +0000 UTC Window:{Duration:17.738s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:31:15.560903       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:31:15.560921       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:31:15.560963       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:12 +0000 UTC Window:{Duration:17.233s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:818719 scale:-9} d:{Dec:<nil>} s:818719n Format:DecimalSI} memory:{i:{value:6905856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.560979       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:818719 scale:-9} d:{Dec:<nil>} s:818719n Format:DecimalSI}, 1
I0412 17:31:15.561075       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:59 +0000 UTC Window:{Duration:15.988s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1392544 scale:-9} d:{Dec:<nil>} s:1392544n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:31:15.561089       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1392544 scale:-9} d:{Dec:<nil>} s:1392544n Format:DecimalSI}, 2
I0412 17:31:15.561132       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:03 +0000 UTC Window:{Duration:16.282s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3086475 scale:-9} d:{Dec:<nil>} s:3086475n Format:DecimalSI} memory:{i:{value:18739200 scale:0} d:{Dec:<nil>} s:18300Ki Format:BinarySI}]}]}
I0412 17:31:15.561198       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3086475 scale:-9} d:{Dec:<nil>} s:3086475n Format:DecimalSI}, 4
I0412 17:31:15.561271       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:30:55 +0000 UTC Window:{Duration:18.675s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:419544 scale:-9} d:{Dec:<nil>} s:419544n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.561286       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:419544 scale:-9} d:{Dec:<nil>} s:419544n Format:DecimalSI}, 1
I0412 17:31:15.561318       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:02 +0000 UTC Window:{Duration:19.601s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:121371 scale:-9} d:{Dec:<nil>} s:121371n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.561360       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:121371 scale:-9} d:{Dec:<nil>} s:121371n Format:DecimalSI}, 1
I0412 17:31:15.561471       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:11 +0000 UTC Window:{Duration:30.437s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:253080 scale:-9} d:{Dec:<nil>} s:253080n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.561486       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:253080 scale:-9} d:{Dec:<nil>} s:253080n Format:DecimalSI}, 1
I0412 17:31:15.561521       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:05 +0000 UTC Window:{Duration:17.995s} Containers:[{Name:updater Usage:map[cpu:{i:{value:107418 scale:-9} d:{Dec:<nil>} s:107418n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.561553       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:107418 scale:-9} d:{Dec:<nil>} s:107418n Format:DecimalSI}, 1
I0412 17:31:15.561587       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:00 +0000 UTC Window:{Duration:10.893s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:2024878 scale:-9} d:{Dec:<nil>} s:2024878n Format:DecimalSI} memory:{i:{value:55328768 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:31:15.561601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2024878 scale:-9} d:{Dec:<nil>} s:2024878n Format:DecimalSI}, 3
I0412 17:31:15.561855       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:31:15.561896       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:31:15.561966       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:31:15.562031       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:31:15.562128       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 7539777.327\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.708\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:31:15.562144       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991878 ControlledValues:<nil>}:
I0412 17:31:15.562197       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:31:15.562208       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:31:15.562219       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442027716]
I0412 17:31:15.562226       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:31:15.562236       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1733 memory:897846335]
I0412 17:31:15.562242       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:31:15.588319       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729ce0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729d70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ddb4643a-95bb-481f-9b70-987f5270e520] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c120 TLS:0xc0005220b0}
I0412 17:31:15.614246       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008826f0} GetBody:0x6d9b40 ContentLength:582 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882780 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[90b97b08-b995-4aed-9f15-a6ec1349fa62] Cache-Control:[no-cache, private] Content-Length:[1626] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:1626 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086ca20 TLS:0xc0005220b0}
I0412 17:31:15.614622       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:31:15.614653       1 cluster.go:364] Garbage collection of AggregateCollectionStates triggered
I0412 17:31:15.614698       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:32:15.532829       1 recommender.go:166] Recommender Run
I0412 17:32:15.533075       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:32:15.533094       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:32:15.533387       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:32:15.551136       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883110 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d751417e-0465-41d3-a4b4-56e77ff56970 d751417e-0465-41d3-a4b4-56e77ff56970] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9e00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cfc0 TLS:0xc0005220b0}
I0412 17:32:15.553376       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:32:15.553610       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:03 +0000 UTC Window:{Duration:14.312s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49880799 scale:-9} d:{Dec:<nil>} s:49880799n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:32:15.553652       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49880799 scale:-9} d:{Dec:<nil>} s:49880799n Format:DecimalSI}, 50
I0412 17:32:15.553762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:59 +0000 UTC Window:{Duration:13.05s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747132337 scale:-9} d:{Dec:<nil>} s:747132337n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:32:15.553796       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747132337 scale:-9} d:{Dec:<nil>} s:747132337n Format:DecimalSI}, 748
I0412 17:32:15.553901       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:11 +0000 UTC Window:{Duration:19.004s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3321037 scale:-9} d:{Dec:<nil>} s:3321037n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:32:15.553921       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3321037 scale:-9} d:{Dec:<nil>} s:3321037n Format:DecimalSI}, 4
I0412 17:32:15.554067       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:57 +0000 UTC Window:{Duration:15.996s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12092523 scale:-9} d:{Dec:<nil>} s:12092523n Format:DecimalSI} memory:{i:{value:167743488 scale:0} d:{Dec:<nil>} s:163812Ki Format:BinarySI}]}]}
I0412 17:32:15.554085       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12092523 scale:-9} d:{Dec:<nil>} s:12092523n Format:DecimalSI}, 13
I0412 17:32:15.554149       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:58 +0000 UTC Window:{Duration:18.849s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1895909 scale:-9} d:{Dec:<nil>} s:1895909n Format:DecimalSI} memory:{i:{value:14913536 scale:0} d:{Dec:<nil>} s:14564Ki Format:BinarySI}]}]}
I0412 17:32:15.554172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1895909 scale:-9} d:{Dec:<nil>} s:1895909n Format:DecimalSI}, 2
I0412 17:32:15.554246       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:49 +0000 UTC Window:{Duration:18.645s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:32:15.554259       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:32:15.554282       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:32:15.554344       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:05 +0000 UTC Window:{Duration:12.486s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1556142 scale:-9} d:{Dec:<nil>} s:1556142n Format:DecimalSI} memory:{i:{value:6901760 scale:0} d:{Dec:<nil>} s:6740Ki Format:BinarySI}]}]}
I0412 17:32:15.554408       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1556142 scale:-9} d:{Dec:<nil>} s:1556142n Format:DecimalSI}, 2
I0412 17:32:15.554479       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:10 +0000 UTC Window:{Duration:19.237s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:933929 scale:-9} d:{Dec:<nil>} s:933929n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:32:15.554501       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:933929 scale:-9} d:{Dec:<nil>} s:933929n Format:DecimalSI}, 1
I0412 17:32:15.554589       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:02 +0000 UTC Window:{Duration:19.64s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2970672 scale:-9} d:{Dec:<nil>} s:2970672n Format:DecimalSI} memory:{i:{value:19005440 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:32:15.554681       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2970672 scale:-9} d:{Dec:<nil>} s:2970672n Format:DecimalSI}, 3
I0412 17:32:15.554804       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:31:53 +0000 UTC Window:{Duration:12.062s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1057618 scale:-9} d:{Dec:<nil>} s:1057618n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:32:15.554828       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1057618 scale:-9} d:{Dec:<nil>} s:1057618n Format:DecimalSI}, 2
I0412 17:32:15.554897       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:02 +0000 UTC Window:{Duration:13.295s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:227679 scale:-9} d:{Dec:<nil>} s:227679n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:32:15.554931       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:227679 scale:-9} d:{Dec:<nil>} s:227679n Format:DecimalSI}, 1
I0412 17:32:15.554992       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:01 +0000 UTC Window:{Duration:17.784s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:53025 scale:-9} d:{Dec:<nil>} s:53025n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:32:15.555019       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:53025 scale:-9} d:{Dec:<nil>} s:53025n Format:DecimalSI}, 1
I0412 17:32:15.555112       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:07 +0000 UTC Window:{Duration:19.957s} Containers:[{Name:updater Usage:map[cpu:{i:{value:431277 scale:-9} d:{Dec:<nil>} s:431277n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:32:15.555134       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:431277 scale:-9} d:{Dec:<nil>} s:431277n Format:DecimalSI}, 1
I0412 17:32:15.555194       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:04 +0000 UTC Window:{Duration:14.366s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1548795 scale:-9} d:{Dec:<nil>} s:1548795n Format:DecimalSI} memory:{i:{value:55332864 scale:0} d:{Dec:<nil>} s:54036Ki Format:BinarySI}]}]}
I0412 17:32:15.555224       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1548795 scale:-9} d:{Dec:<nil>} s:1548795n Format:DecimalSI}, 2
I0412 17:32:15.555642       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:32:15.555702       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:32:15.555811       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:32:15.555911       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:32:15.556070       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 8649233.034\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.708\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:32:15.556105       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605b78 ControlledValues:<nil>}:
I0412 17:32:15.556208       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:32:15.556237       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:32:15.556258       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442028164]
I0412 17:32:15.556271       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:32:15.556290       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1733 memory:897604907]
I0412 17:32:15.556309       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:32:15.576012       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e06c0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e07e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cf3c1829-eab6-4a1e-8df3-9695ef934bf2] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 17:32:15.601126       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e12f0} GetBody:0x6d9b40 ContentLength:583 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1380 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[964bcef3-bb1c-4dac-899b-d31db8077291] Cache-Control:[no-cache, private] Content-Length:[1627] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:1627 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 17:32:15.601484       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:32:15.601514       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:33:13.845377       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 17:33:15.532694       1 recommender.go:166] Recommender Run
I0412 17:33:15.532885       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:33:15.532989       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:33:15.533127       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:33:15.550033       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e07e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d6d85d2b-a57a-46e5-8ea2-7b07def976cd d6d85d2b-a57a-46e5-8ea2-7b07def976cd] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 17:33:15.551058       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:33:15.551166       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:07 +0000 UTC Window:{Duration:12.733s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50235372 scale:-9} d:{Dec:<nil>} s:50235372n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:33:15.551245       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50235372 scale:-9} d:{Dec:<nil>} s:50235372n Format:DecimalSI}, 51
I0412 17:33:15.551354       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:57 +0000 UTC Window:{Duration:12.288s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750500976 scale:-9} d:{Dec:<nil>} s:750500976n Format:DecimalSI} memory:{i:{value:398139392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.551417       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750500976 scale:-9} d:{Dec:<nil>} s:750500976n Format:DecimalSI}, 751
I0412 17:33:15.551495       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:09 +0000 UTC Window:{Duration:26.37s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2216837 scale:-9} d:{Dec:<nil>} s:2216837n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.551512       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2216837 scale:-9} d:{Dec:<nil>} s:2216837n Format:DecimalSI}, 3
I0412 17:33:15.551551       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:58 +0000 UTC Window:{Duration:14.72s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11587907 scale:-9} d:{Dec:<nil>} s:11587907n Format:DecimalSI} memory:{i:{value:167743488 scale:0} d:{Dec:<nil>} s:163812Ki Format:BinarySI}]}]}
I0412 17:33:15.551604       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11587907 scale:-9} d:{Dec:<nil>} s:11587907n Format:DecimalSI}, 12
I0412 17:33:15.551669       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:56 +0000 UTC Window:{Duration:21.944s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2019504 scale:-9} d:{Dec:<nil>} s:2019504n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.551683       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2019504 scale:-9} d:{Dec:<nil>} s:2019504n Format:DecimalSI}, 3
I0412 17:33:15.551722       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:03 +0000 UTC Window:{Duration:10.668s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:33:15.551762       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:33:15.551795       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:33:15.551855       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:02 +0000 UTC Window:{Duration:15.113s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1764705 scale:-9} d:{Dec:<nil>} s:1764705n Format:DecimalSI} memory:{i:{value:6959104 scale:0} d:{Dec:<nil>} s:6796Ki Format:BinarySI}]}]}
I0412 17:33:15.551870       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1764705 scale:-9} d:{Dec:<nil>} s:1764705n Format:DecimalSI}, 2
I0412 17:33:15.551905       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:08 +0000 UTC Window:{Duration:18.399s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1333115 scale:-9} d:{Dec:<nil>} s:1333115n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.551911       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1333115 scale:-9} d:{Dec:<nil>} s:1333115n Format:DecimalSI}, 2
I0412 17:33:15.551952       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:07 +0000 UTC Window:{Duration:17.575s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3051322 scale:-9} d:{Dec:<nil>} s:3051322n Format:DecimalSI} memory:{i:{value:18415616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.551959       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3051322 scale:-9} d:{Dec:<nil>} s:3051322n Format:DecimalSI}, 4
I0412 17:33:15.551990       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:10 +0000 UTC Window:{Duration:17.064s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:298757 scale:-9} d:{Dec:<nil>} s:298757n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.552004       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:298757 scale:-9} d:{Dec:<nil>} s:298757n Format:DecimalSI}, 1
I0412 17:33:15.552045       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:08 +0000 UTC Window:{Duration:17.784s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:76135 scale:-9} d:{Dec:<nil>} s:76135n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.552061       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:76135 scale:-9} d:{Dec:<nil>} s:76135n Format:DecimalSI}, 1
I0412 17:33:15.552094       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:01 +0000 UTC Window:{Duration:18.184s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:48504 scale:-9} d:{Dec:<nil>} s:48504n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.552109       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:48504 scale:-9} d:{Dec:<nil>} s:48504n Format:DecimalSI}, 1
I0412 17:33:15.552140       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:33:02 +0000 UTC Window:{Duration:14.643s} Containers:[{Name:updater Usage:map[cpu:{i:{value:32575 scale:-9} d:{Dec:<nil>} s:32575n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:33:15.552153       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:32575 scale:-9} d:{Dec:<nil>} s:32575n Format:DecimalSI}, 1
I0412 17:33:15.552183       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:32:59 +0000 UTC Window:{Duration:10.938s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1262022 scale:-9} d:{Dec:<nil>} s:1262022n Format:DecimalSI} memory:{i:{value:55357440 scale:0} d:{Dec:<nil>} s:54060Ki Format:BinarySI}]}]}
I0412 17:33:15.552190       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1262022 scale:-9} d:{Dec:<nil>} s:1262022n Format:DecimalSI}, 2
I0412 17:33:15.552281       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:33:15.552298       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:33:15.552348       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:33:15.552380       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:33:15.552421       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 9926682.544\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:33:15.552430       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009913c8 ControlledValues:<nil>}:
I0412 17:33:15.552459       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:33:15.552470       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:33:15.552482       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442028675]
I0412 17:33:15.552489       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:33:15.552499       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1732 memory:897329327]
I0412 17:33:15.552506       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:33:15.569443       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747b00} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747b90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a7476c1f-e6e7-4169-b55e-2137c6453aaa] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d4900 TLS:0xc0005220b0}
I0412 17:33:15.584814       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713020} GetBody:0x6d9b40 ContentLength:581 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007130b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[49e87378-6fee-4ca4-9d21-cdbf501acd42] Cache-Control:[no-cache, private] Content-Length:[1625] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1625 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffe60 TLS:0xc0005220b0}
I0412 17:33:15.585172       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:33:15.585201       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:33:22.549928       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 17:33:40.770298       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 18 items received
I0412 17:34:15.532138       1 recommender.go:166] Recommender Run
I0412 17:34:15.532203       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:34:15.532231       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:34:15.532487       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:34:15.548366       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882780 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a065ed80-b881-42e7-81f1-4057cb5c3742 a065ed80-b881-42e7-81f1-4057cb5c3742] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cea0 TLS:0xc0005220b0}
I0412 17:34:15.549134       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:34:15.549203       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:10 +0000 UTC Window:{Duration:31.157s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50167185 scale:-9} d:{Dec:<nil>} s:50167185n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:34:15.549218       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50167185 scale:-9} d:{Dec:<nil>} s:50167185n Format:DecimalSI}, 51
I0412 17:34:15.549253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:00 +0000 UTC Window:{Duration:14.384s} Containers:[{Name:workload Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:47886336 scale:0} d:{Dec:<nil>} s:46764Ki Format:BinarySI}]}]}
I0412 17:34:15.549264       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:34:15.549307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:10 +0000 UTC Window:{Duration:25.758s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3354608 scale:-9} d:{Dec:<nil>} s:3354608n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549319       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3354608 scale:-9} d:{Dec:<nil>} s:3354608n Format:DecimalSI}, 4
I0412 17:34:15.549344       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:09 +0000 UTC Window:{Duration:25.131s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13038717 scale:-9} d:{Dec:<nil>} s:13038717n Format:DecimalSI} memory:{i:{value:167788544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549355       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13038717 scale:-9} d:{Dec:<nil>} s:13038717n Format:DecimalSI}, 14
I0412 17:34:15.549376       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:11 +0000 UTC Window:{Duration:19.296s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2097636 scale:-9} d:{Dec:<nil>} s:2097636n Format:DecimalSI} memory:{i:{value:14692352 scale:0} d:{Dec:<nil>} s:14348Ki Format:BinarySI}]}]}
I0412 17:34:15.549384       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2097636 scale:-9} d:{Dec:<nil>} s:2097636n Format:DecimalSI}, 3
I0412 17:34:15.549427       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:03 +0000 UTC Window:{Duration:16.928s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:34:15.549437       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:34:15.549442       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:34:15.549471       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:12 +0000 UTC Window:{Duration:24.289s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1333319 scale:-9} d:{Dec:<nil>} s:1333319n Format:DecimalSI} memory:{i:{value:6959104 scale:0} d:{Dec:<nil>} s:6796Ki Format:BinarySI}]}]}
I0412 17:34:15.549479       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1333319 scale:-9} d:{Dec:<nil>} s:1333319n Format:DecimalSI}, 2
I0412 17:34:15.549500       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:08 +0000 UTC Window:{Duration:25.624s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:354862 scale:-9} d:{Dec:<nil>} s:354862n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549504       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:354862 scale:-9} d:{Dec:<nil>} s:354862n Format:DecimalSI}, 1
I0412 17:34:15.549536       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:02 +0000 UTC Window:{Duration:13.334s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2755137 scale:-9} d:{Dec:<nil>} s:2755137n Format:DecimalSI} memory:{i:{value:18436096 scale:0} d:{Dec:<nil>} s:18004Ki Format:BinarySI}]}]}
I0412 17:34:15.549543       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2755137 scale:-9} d:{Dec:<nil>} s:2755137n Format:DecimalSI}, 3
I0412 17:34:15.549563       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:02 +0000 UTC Window:{Duration:19.421s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:925287 scale:-9} d:{Dec:<nil>} s:925287n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549569       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:925287 scale:-9} d:{Dec:<nil>} s:925287n Format:DecimalSI}, 1
I0412 17:34:15.549594       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:11 +0000 UTC Window:{Duration:18.435s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:154054 scale:-9} d:{Dec:<nil>} s:154054n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549602       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:154054 scale:-9} d:{Dec:<nil>} s:154054n Format:DecimalSI}, 1
I0412 17:34:15.549622       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:11 +0000 UTC Window:{Duration:19.016s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:113115 scale:-9} d:{Dec:<nil>} s:113115n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549626       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:113115 scale:-9} d:{Dec:<nil>} s:113115n Format:DecimalSI}, 1
I0412 17:34:15.549645       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:08 +0000 UTC Window:{Duration:19.108s} Containers:[{Name:updater Usage:map[cpu:{i:{value:937094 scale:-9} d:{Dec:<nil>} s:937094n Format:DecimalSI} memory:{i:{value:12148736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549655       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:937094 scale:-9} d:{Dec:<nil>} s:937094n Format:DecimalSI}, 1
I0412 17:34:15.549674       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:11 +0000 UTC Window:{Duration:30.122s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1526293 scale:-9} d:{Dec:<nil>} s:1526293n Format:DecimalSI} memory:{i:{value:57606144 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:34:15.549682       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1526293 scale:-9} d:{Dec:<nil>} s:1526293n Format:DecimalSI}, 2
I0412 17:34:15.549838       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:34:15.549861       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:34:15.549911       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:34:15.549936       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:34:15.549994       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 11404293.297\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:34:15.550006       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009911e8 ControlledValues:<nil>}:
I0412 17:34:15.550041       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:34:15.550057       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:34:15.550064       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442029177]
I0412 17:34:15.550069       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:34:15.550075       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1732 memory:897058406]
I0412 17:34:15.550079       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:34:15.570173       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bfe30} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bfef0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6bdc5070-acb3-4eae-9ea2-c2594961f8d5] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473080} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 17:34:15.589326       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729350} GetBody:0x6d9b40 ContentLength:584 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007293e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ed3332bd-9936-4a3e-b2ec-08fd197563e9] Cache-Control:[no-cache, private] Content-Length:[1628] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:1628 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364480 TLS:0xc0005220b0}
I0412 17:34:15.589545       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:34:15.589562       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:35:15.532660       1 recommender.go:166] Recommender Run
I0412 17:35:15.532732       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:35:15.532741       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:35:15.532780       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:35:15.549307       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cc00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8f43ab08-7bbd-4a4f-a576-4f14eebdba30 8f43ab08-7bbd-4a4f-a576-4f14eebdba30] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364900 TLS:0xc0005220b0}
I0412 17:35:15.550062       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:35:15.550148       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:03 +0000 UTC Window:{Duration:10.993s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49590921 scale:-9} d:{Dec:<nil>} s:49590921n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:35:15.550184       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49590921 scale:-9} d:{Dec:<nil>} s:49590921n Format:DecimalSI}, 50
I0412 17:35:15.550229       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:06 +0000 UTC Window:{Duration:16.831s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49991682 scale:-9} d:{Dec:<nil>} s:49991682n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550236       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49991682 scale:-9} d:{Dec:<nil>} s:49991682n Format:DecimalSI}, 50
I0412 17:35:15.550281       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:11 +0000 UTC Window:{Duration:26.571s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2300854 scale:-9} d:{Dec:<nil>} s:2300854n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 17:35:15.550299       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2300854 scale:-9} d:{Dec:<nil>} s:2300854n Format:DecimalSI}, 3
I0412 17:35:15.550335       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:11 +0000 UTC Window:{Duration:19.159s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12581397 scale:-9} d:{Dec:<nil>} s:12581397n Format:DecimalSI} memory:{i:{value:167669760 scale:0} d:{Dec:<nil>} s:163740Ki Format:BinarySI}]}]}
I0412 17:35:15.550342       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12581397 scale:-9} d:{Dec:<nil>} s:12581397n Format:DecimalSI}, 13
I0412 17:35:15.550371       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:58 +0000 UTC Window:{Duration:17.836s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1740749 scale:-9} d:{Dec:<nil>} s:1740749n Format:DecimalSI} memory:{i:{value:14831616 scale:0} d:{Dec:<nil>} s:14484Ki Format:BinarySI}]}]}
I0412 17:35:15.550384       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1740749 scale:-9} d:{Dec:<nil>} s:1740749n Format:DecimalSI}, 2
I0412 17:35:15.550432       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:34:52 +0000 UTC Window:{Duration:12.163s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:35:15.550453       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:35:15.550460       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:35:15.550501       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:01 +0000 UTC Window:{Duration:10.579s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1650155 scale:-9} d:{Dec:<nil>} s:1650155n Format:DecimalSI} memory:{i:{value:6963200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550508       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1650155 scale:-9} d:{Dec:<nil>} s:1650155n Format:DecimalSI}, 2
I0412 17:35:15.550539       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:06 +0000 UTC Window:{Duration:13.703s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1706633 scale:-9} d:{Dec:<nil>} s:1706633n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550550       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1706633 scale:-9} d:{Dec:<nil>} s:1706633n Format:DecimalSI}, 2
I0412 17:35:15.550583       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:04 +0000 UTC Window:{Duration:11.023s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3085276 scale:-9} d:{Dec:<nil>} s:3085276n Format:DecimalSI} memory:{i:{value:18817024 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550594       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3085276 scale:-9} d:{Dec:<nil>} s:3085276n Format:DecimalSI}, 4
I0412 17:35:15.550625       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:04 +0000 UTC Window:{Duration:10.733s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:291344 scale:-9} d:{Dec:<nil>} s:291344n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550655       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:291344 scale:-9} d:{Dec:<nil>} s:291344n Format:DecimalSI}, 1
I0412 17:35:15.550688       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:07 +0000 UTC Window:{Duration:19.03s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:88807 scale:-9} d:{Dec:<nil>} s:88807n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550703       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:88807 scale:-9} d:{Dec:<nil>} s:88807n Format:DecimalSI}, 1
I0412 17:35:15.550744       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:05 +0000 UTC Window:{Duration:10.993s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:44937 scale:-9} d:{Dec:<nil>} s:44937n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:44937 scale:-9} d:{Dec:<nil>} s:44937n Format:DecimalSI}, 1
I0412 17:35:15.550782       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:07 +0000 UTC Window:{Duration:11.931s} Containers:[{Name:updater Usage:map[cpu:{i:{value:142066 scale:-9} d:{Dec:<nil>} s:142066n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550796       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:142066 scale:-9} d:{Dec:<nil>} s:142066n Format:DecimalSI}, 1
I0412 17:35:15.550828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:05 +0000 UTC Window:{Duration:11.72s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1250853 scale:-9} d:{Dec:<nil>} s:1250853n Format:DecimalSI} memory:{i:{value:57745408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:35:15.550844       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1250853 scale:-9} d:{Dec:<nil>} s:1250853n Format:DecimalSI}, 2
I0412 17:35:15.550922       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:35:15.550940       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:35:15.551001       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:35:15.551065       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:35:15.551121       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 13099559.696\n%-tile\tvalue\n0\t0.010\n5\t0.010\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:35:15.551135       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009915d8 ControlledValues:<nil>}:
I0412 17:35:15.551172       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:35:15.551186       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:35:15.551197       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442029623]
I0412 17:35:15.551208       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:35:15.551217       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1626 memory:896817879]
I0412 17:35:15.551224       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:35:15.577146       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007633e0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763560 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[92c857e4-cb4c-43f0-9733-c23b4edfbb36] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214900 TLS:0xc0005220b0}
I0412 17:35:15.593410       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e05a0} GetBody:0x6d9b40 ContentLength:585 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0720 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4fd43791-389e-4d35-89b0-4366d3f8f0b4] Cache-Control:[no-cache, private] Content-Length:[1629] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:1629 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215320 TLS:0xc0005220b0}
I0412 17:35:15.593684       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:35:15.593716       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:35:47.382098       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 0 items received
I0412 17:35:59.313149       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 1 items received
I0412 17:36:10.191230       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 3 items received
I0412 17:36:11.101231       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 17:36:15.532687       1 recommender.go:166] Recommender Run
I0412 17:36:15.532768       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:36:15.532782       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:36:15.532816       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:36:15.542895       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089dce0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a814b6a6-4477-4216-ac76-b6e370fc2efc a814b6a6-4477-4216-ac76-b6e370fc2efc] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003658c0 TLS:0xc0005220b0}
I0412 17:36:15.543296       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:36:15.543358       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:59 +0000 UTC Window:{Duration:18.784s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50016237 scale:-9} d:{Dec:<nil>} s:50016237n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:36:15.543373       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50016237 scale:-9} d:{Dec:<nil>} s:50016237n Format:DecimalSI}, 51
I0412 17:36:15.543398       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:02 +0000 UTC Window:{Duration:12.341s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49790535 scale:-9} d:{Dec:<nil>} s:49790535n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543405       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49790535 scale:-9} d:{Dec:<nil>} s:49790535n Format:DecimalSI}, 50
I0412 17:36:15.543427       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:59 +0000 UTC Window:{Duration:17.695s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3305283 scale:-9} d:{Dec:<nil>} s:3305283n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543434       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3305283 scale:-9} d:{Dec:<nil>} s:3305283n Format:DecimalSI}, 4
I0412 17:36:15.543454       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:58 +0000 UTC Window:{Duration:15.904s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13291058 scale:-9} d:{Dec:<nil>} s:13291058n Format:DecimalSI} memory:{i:{value:167735296 scale:0} d:{Dec:<nil>} s:163804Ki Format:BinarySI}]}]}
I0412 17:36:15.543461       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13291058 scale:-9} d:{Dec:<nil>} s:13291058n Format:DecimalSI}, 14
I0412 17:36:15.543479       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:08 +0000 UTC Window:{Duration:11.765s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1692052 scale:-9} d:{Dec:<nil>} s:1692052n Format:DecimalSI} memory:{i:{value:15134720 scale:0} d:{Dec:<nil>} s:14780Ki Format:BinarySI}]}]}
I0412 17:36:15.543485       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1692052 scale:-9} d:{Dec:<nil>} s:1692052n Format:DecimalSI}, 2
I0412 17:36:15.543505       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:54 +0000 UTC Window:{Duration:14.987s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:36:15.543512       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:36:15.543516       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:36:15.543533       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:03 +0000 UTC Window:{Duration:15.273s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1443462 scale:-9} d:{Dec:<nil>} s:1443462n Format:DecimalSI} memory:{i:{value:6963200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543537       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1443462 scale:-9} d:{Dec:<nil>} s:1443462n Format:DecimalSI}, 2
I0412 17:36:15.543554       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:02 +0000 UTC Window:{Duration:15.253s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:807382 scale:-9} d:{Dec:<nil>} s:807382n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543564       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:807382 scale:-9} d:{Dec:<nil>} s:807382n Format:DecimalSI}, 1
I0412 17:36:15.543594       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:04 +0000 UTC Window:{Duration:12.696s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2784026 scale:-9} d:{Dec:<nil>} s:2784026n Format:DecimalSI} memory:{i:{value:18296832 scale:0} d:{Dec:<nil>} s:17868Ki Format:BinarySI}]}]}
I0412 17:36:15.543603       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2784026 scale:-9} d:{Dec:<nil>} s:2784026n Format:DecimalSI}, 3
I0412 17:36:15.543622       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:02 +0000 UTC Window:{Duration:13.736s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:253130 scale:-9} d:{Dec:<nil>} s:253130n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543625       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:253130 scale:-9} d:{Dec:<nil>} s:253130n Format:DecimalSI}, 1
I0412 17:36:15.543642       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:04 +0000 UTC Window:{Duration:14.992s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:101120 scale:-9} d:{Dec:<nil>} s:101120n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543650       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:101120 scale:-9} d:{Dec:<nil>} s:101120n Format:DecimalSI}, 1
I0412 17:36:15.543668       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:11 +0000 UTC Window:{Duration:27.283s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:229923 scale:-9} d:{Dec:<nil>} s:229923n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543673       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:229923 scale:-9} d:{Dec:<nil>} s:229923n Format:DecimalSI}, 1
I0412 17:36:15.543690       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:00 +0000 UTC Window:{Duration:15.316s} Containers:[{Name:updater Usage:map[cpu:{i:{value:153107 scale:-9} d:{Dec:<nil>} s:153107n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543694       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:153107 scale:-9} d:{Dec:<nil>} s:153107n Format:DecimalSI}, 1
I0412 17:36:15.543712       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:35:57 +0000 UTC Window:{Duration:18.15s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1376033 scale:-9} d:{Dec:<nil>} s:1376033n Format:DecimalSI} memory:{i:{value:57794560 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:36:15.543722       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1376033 scale:-9} d:{Dec:<nil>} s:1376033n Format:DecimalSI}, 2
I0412 17:36:15.543784       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:36:15.543797       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:36:15.543832       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:36:15.543853       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:36:15.543889       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 15028994.996\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:36:15.543901       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840e40 ControlledValues:<nil>}:
I0412 17:36:15.543920       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:36:15.543928       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:36:15.543935       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442030068]
I0412 17:36:15.543946       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:36:15.543952       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1625 memory:896577627]
I0412 17:36:15.543956       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:36:15.558425       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883b90} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883d40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[402c5367-0037-48c8-ba83-83baac8f717e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363200} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c000 TLS:0xc0005220b0}
I0412 17:36:15.578904       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bea80} GetBody:0x6d9b40 ContentLength:585 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005beb10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6096ce21-90e6-4b42-bc4b-7d63509a06ea] Cache-Control:[no-cache, private] Content-Length:[1629] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363980} ContentLength:1629 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cc60 TLS:0xc0005220b0}
I0412 17:36:15.579100       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:36:15.579123       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:37:15.532803       1 recommender.go:166] Recommender Run
I0412 17:37:15.532938       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:37:15.532963       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:37:15.533128       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:37:15.558022       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582db0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2476f006-3a5b-4341-8024-a2cf525eb952 2476f006-3a5b-4341-8024-a2cf525eb952] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c5a0 TLS:0xc0005220b0}
I0412 17:37:15.558567       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:37:15.558650       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:58 +0000 UTC Window:{Duration:10.379s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49928027 scale:-9} d:{Dec:<nil>} s:49928027n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:37:15.558663       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49928027 scale:-9} d:{Dec:<nil>} s:49928027n Format:DecimalSI}, 50
I0412 17:37:15.558688       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:11 +0000 UTC Window:{Duration:23.646s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49856254 scale:-9} d:{Dec:<nil>} s:49856254n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558703       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49856254 scale:-9} d:{Dec:<nil>} s:49856254n Format:DecimalSI}, 50
I0412 17:37:15.558737       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:54 +0000 UTC Window:{Duration:15.252s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1848151 scale:-9} d:{Dec:<nil>} s:1848151n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558741       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1848151 scale:-9} d:{Dec:<nil>} s:1848151n Format:DecimalSI}, 2
I0412 17:37:15.558762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:04 +0000 UTC Window:{Duration:14.841s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13355771 scale:-9} d:{Dec:<nil>} s:13355771n Format:DecimalSI} memory:{i:{value:167731200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558766       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13355771 scale:-9} d:{Dec:<nil>} s:13355771n Format:DecimalSI}, 14
I0412 17:37:15.558784       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:11 +0000 UTC Window:{Duration:22.867s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1875584 scale:-9} d:{Dec:<nil>} s:1875584n Format:DecimalSI} memory:{i:{value:14725120 scale:0} d:{Dec:<nil>} s:14380Ki Format:BinarySI}]}]}
I0412 17:37:15.558788       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1875584 scale:-9} d:{Dec:<nil>} s:1875584n Format:DecimalSI}, 2
I0412 17:37:15.558814       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:08 +0000 UTC Window:{Duration:28.592s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:3324 scale:-9} d:{Dec:<nil>} s:3324n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:37:15.558824       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:37:15.558829       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3324 scale:-9} d:{Dec:<nil>} s:3324n Format:DecimalSI}, 1
I0412 17:37:15.558848       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:04 +0000 UTC Window:{Duration:19.743s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1240237 scale:-9} d:{Dec:<nil>} s:1240237n Format:DecimalSI} memory:{i:{value:6987776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558852       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1240237 scale:-9} d:{Dec:<nil>} s:1240237n Format:DecimalSI}, 2
I0412 17:37:15.558871       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:06 +0000 UTC Window:{Duration:15.434s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1608073 scale:-9} d:{Dec:<nil>} s:1608073n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:37:15.558875       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1608073 scale:-9} d:{Dec:<nil>} s:1608073n Format:DecimalSI}, 2
I0412 17:37:15.558897       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:57 +0000 UTC Window:{Duration:11.516s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3468825 scale:-9} d:{Dec:<nil>} s:3468825n Format:DecimalSI} memory:{i:{value:18595840 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558914       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3468825 scale:-9} d:{Dec:<nil>} s:3468825n Format:DecimalSI}, 4
I0412 17:37:15.558932       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:03 +0000 UTC Window:{Duration:12.955s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:266229 scale:-9} d:{Dec:<nil>} s:266229n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558937       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:266229 scale:-9} d:{Dec:<nil>} s:266229n Format:DecimalSI}, 1
I0412 17:37:15.558954       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:00 +0000 UTC Window:{Duration:15.227s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:106127 scale:-9} d:{Dec:<nil>} s:106127n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558957       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:106127 scale:-9} d:{Dec:<nil>} s:106127n Format:DecimalSI}, 1
I0412 17:37:15.558981       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:36:56 +0000 UTC Window:{Duration:17.21s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:696339 scale:-9} d:{Dec:<nil>} s:696339n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.558993       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:696339 scale:-9} d:{Dec:<nil>} s:696339n Format:DecimalSI}, 1
I0412 17:37:15.559011       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:09 +0000 UTC Window:{Duration:21.242s} Containers:[{Name:updater Usage:map[cpu:{i:{value:159871 scale:-9} d:{Dec:<nil>} s:159871n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:37:15.559021       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:159871 scale:-9} d:{Dec:<nil>} s:159871n Format:DecimalSI}, 1
I0412 17:37:15.559038       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:06 +0000 UTC Window:{Duration:18.736s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1199669 scale:-9} d:{Dec:<nil>} s:1199669n Format:DecimalSI} memory:{i:{value:56373248 scale:0} d:{Dec:<nil>} s:55052Ki Format:BinarySI}]}]}
I0412 17:37:15.559045       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1199669 scale:-9} d:{Dec:<nil>} s:1199669n Format:DecimalSI}, 2
I0412 17:37:15.559159       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:37:15.559173       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:37:15.559201       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:37:15.559221       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:37:15.559302       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 17266151.253\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.305\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:37:15.559370       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009917a0 ControlledValues:<nil>}:
I0412 17:37:15.559414       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:37:15.559449       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:37:15.559459       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442030616]
I0412 17:37:15.559464       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:37:15.559469       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1625 memory:896281981]
I0412 17:37:15.559473       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:37:15.579089       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728cf0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728db0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ec3cabce-e7ff-4907-9585-b8d16bf3fa93] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086dd40 TLS:0xc0005220b0}
I0412 17:37:15.600556       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be9c0} GetBody:0x6d9b40 ContentLength:583 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bea50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[57ad8cab-1483-47c2-842b-ce3f2d5716dc] Cache-Control:[no-cache, private] Content-Length:[1627] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:1627 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 17:37:15.600862       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:37:15.600887       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:37:37.571842       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 5 items received
I0412 17:38:02.972422       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 0 items received
I0412 17:38:15.532699       1 recommender.go:166] Recommender Run
I0412 17:38:15.532811       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:38:15.532825       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:38:15.532922       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:38:15.549555       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c7e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[199ee928-6407-4232-a10e-f6984695af04 199ee928-6407-4232-a10e-f6984695af04] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002146c0 TLS:0xc0005220b0}
I0412 17:38:15.550245       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:38:15.550307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:09 +0000 UTC Window:{Duration:27.506s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50194939 scale:-9} d:{Dec:<nil>} s:50194939n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:38:15.550325       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50194939 scale:-9} d:{Dec:<nil>} s:50194939n Format:DecimalSI}, 51
I0412 17:38:15.550352       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:07 +0000 UTC Window:{Duration:11.727s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49944487 scale:-9} d:{Dec:<nil>} s:49944487n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:38:15.550362       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49944487 scale:-9} d:{Dec:<nil>} s:49944487n Format:DecimalSI}, 50
I0412 17:38:15.550384       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:01 +0000 UTC Window:{Duration:12.914s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4205513 scale:-9} d:{Dec:<nil>} s:4205513n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:38:15.550393       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4205513 scale:-9} d:{Dec:<nil>} s:4205513n Format:DecimalSI}, 5
I0412 17:38:15.550414       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:06 +0000 UTC Window:{Duration:13.584s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11801310 scale:-9} d:{Dec:<nil>} s:11801310n Format:DecimalSI} memory:{i:{value:167768064 scale:0} d:{Dec:<nil>} s:163836Ki Format:BinarySI}]}]}
I0412 17:38:15.550421       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11801310 scale:-9} d:{Dec:<nil>} s:11801310n Format:DecimalSI}, 12
I0412 17:38:15.550439       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:03 +0000 UTC Window:{Duration:16.286s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1703119 scale:-9} d:{Dec:<nil>} s:1703119n Format:DecimalSI} memory:{i:{value:14741504 scale:0} d:{Dec:<nil>} s:14396Ki Format:BinarySI}]}]}
I0412 17:38:15.550444       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1703119 scale:-9} d:{Dec:<nil>} s:1703119n Format:DecimalSI}, 2
I0412 17:38:15.550488       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:50 +0000 UTC Window:{Duration:11.328s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:38:15.550496       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:38:15.550501       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:38:15.550519       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:59 +0000 UTC Window:{Duration:18.01s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:865796 scale:-9} d:{Dec:<nil>} s:865796n Format:DecimalSI} memory:{i:{value:6987776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:38:15.550534       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:865796 scale:-9} d:{Dec:<nil>} s:865796n Format:DecimalSI}, 1
I0412 17:38:15.550553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:09 +0000 UTC Window:{Duration:15.078s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:502453 scale:-9} d:{Dec:<nil>} s:502453n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:38:15.550557       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:502453 scale:-9} d:{Dec:<nil>} s:502453n Format:DecimalSI}, 1
I0412 17:38:15.550584       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:11 +0000 UTC Window:{Duration:31.272s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2438219 scale:-9} d:{Dec:<nil>} s:2438219n Format:DecimalSI} memory:{i:{value:18780160 scale:0} d:{Dec:<nil>} s:18340Ki Format:BinarySI}]}]}
I0412 17:38:15.550594       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2438219 scale:-9} d:{Dec:<nil>} s:2438219n Format:DecimalSI}, 3
I0412 17:38:15.550613       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:59 +0000 UTC Window:{Duration:10.847s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:258965 scale:-9} d:{Dec:<nil>} s:258965n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:38:15.550622       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:258965 scale:-9} d:{Dec:<nil>} s:258965n Format:DecimalSI}, 1
I0412 17:38:15.550639       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:09 +0000 UTC Window:{Duration:18.609s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:211026 scale:-9} d:{Dec:<nil>} s:211026n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:38:15.550646       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:211026 scale:-9} d:{Dec:<nil>} s:211026n Format:DecimalSI}, 1
I0412 17:38:15.550663       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:00 +0000 UTC Window:{Duration:11.193s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:9738 scale:-9} d:{Dec:<nil>} s:9738n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:38:15.550677       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9738 scale:-9} d:{Dec:<nil>} s:9738n Format:DecimalSI}, 1
I0412 17:38:15.550701       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:09 +0000 UTC Window:{Duration:18.637s} Containers:[{Name:updater Usage:map[cpu:{i:{value:335193 scale:-9} d:{Dec:<nil>} s:335193n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:38:15.550712       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:335193 scale:-9} d:{Dec:<nil>} s:335193n Format:DecimalSI}, 1
I0412 17:38:15.550745       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:37:55 +0000 UTC Window:{Duration:18.927s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1529772 scale:-9} d:{Dec:<nil>} s:1529772n Format:DecimalSI} memory:{i:{value:56389632 scale:0} d:{Dec:<nil>} s:55068Ki Format:BinarySI}]}]}
I0412 17:38:15.550753       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1529772 scale:-9} d:{Dec:<nil>} s:1529772n Format:DecimalSI}, 2
I0412 17:38:15.550840       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:38:15.550854       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:38:15.550911       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:38:15.550950       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:38:15.550980       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 19856549.390\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:38:15.550986       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991158 ControlledValues:<nil>}:
I0412 17:38:15.551011       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:38:15.551018       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:38:15.551024       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442031077]
I0412 17:38:15.551033       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:38:15.551039       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1624 memory:896033787]
I0412 17:38:15.551043       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:38:15.566023       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883770} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008838f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b5020f67-7141-4c69-b0ac-358cc4043347] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003658c0 TLS:0xc0005220b0}
I0412 17:38:15.583569       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d410} GetBody:0x6d9b40 ContentLength:582 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d530 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[29310a64-6da1-42c4-93cc-41ab1280d311] Cache-Control:[no-cache, private] Content-Length:[1626] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1626 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215200 TLS:0xc0005220b0}
I0412 17:38:15.583743       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:38:15.583760       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:39:06.856134       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 7 items received
I0412 17:39:15.531866       1 recommender.go:166] Recommender Run
I0412 17:39:15.531912       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:39:15.531923       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:39:15.532017       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:39:15.545551       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be9f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f1669402-6b06-4ef8-a8c4-83ec6b4c41a8 f1669402-6b06-4ef8-a8c4-83ec6b4c41a8] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365560 TLS:0xc0005220b0}
I0412 17:39:15.546729       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:39:15.546863       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:08 +0000 UTC Window:{Duration:11.843s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49797855 scale:-9} d:{Dec:<nil>} s:49797855n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:39:15.546893       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49797855 scale:-9} d:{Dec:<nil>} s:49797855n Format:DecimalSI}, 50
I0412 17:39:15.546972       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:02 +0000 UTC Window:{Duration:10.039s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50358302 scale:-9} d:{Dec:<nil>} s:50358302n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.546995       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50358302 scale:-9} d:{Dec:<nil>} s:50358302n Format:DecimalSI}, 51
I0412 17:39:15.547058       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:08 +0000 UTC Window:{Duration:22.635s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1820145 scale:-9} d:{Dec:<nil>} s:1820145n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.547095       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1820145 scale:-9} d:{Dec:<nil>} s:1820145n Format:DecimalSI}, 2
I0412 17:39:15.547163       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:09 +0000 UTC Window:{Duration:13.203s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9318639 scale:-9} d:{Dec:<nil>} s:9318639n Format:DecimalSI} memory:{i:{value:167645184 scale:0} d:{Dec:<nil>} s:163716Ki Format:BinarySI}]}]}
I0412 17:39:15.547172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9318639 scale:-9} d:{Dec:<nil>} s:9318639n Format:DecimalSI}, 10
I0412 17:39:15.547207       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:03 +0000 UTC Window:{Duration:10.397s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1428873 scale:-9} d:{Dec:<nil>} s:1428873n Format:DecimalSI} memory:{i:{value:14737408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.547217       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1428873 scale:-9} d:{Dec:<nil>} s:1428873n Format:DecimalSI}, 2
I0412 17:39:15.547260       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:53 +0000 UTC Window:{Duration:19.808s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:39:15.547275       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:39:15.547284       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:39:15.547320       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:04 +0000 UTC Window:{Duration:18.083s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:936404 scale:-9} d:{Dec:<nil>} s:936404n Format:DecimalSI} memory:{i:{value:6991872 scale:0} d:{Dec:<nil>} s:6828Ki Format:BinarySI}]}]}
I0412 17:39:15.547334       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:936404 scale:-9} d:{Dec:<nil>} s:936404n Format:DecimalSI}, 1
I0412 17:39:15.547372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:05 +0000 UTC Window:{Duration:11.947s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:808654 scale:-9} d:{Dec:<nil>} s:808654n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.547381       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:808654 scale:-9} d:{Dec:<nil>} s:808654n Format:DecimalSI}, 1
I0412 17:39:15.547413       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:02 +0000 UTC Window:{Duration:16.203s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3108930 scale:-9} d:{Dec:<nil>} s:3108930n Format:DecimalSI} memory:{i:{value:18829312 scale:0} d:{Dec:<nil>} s:18388Ki Format:BinarySI}]}]}
I0412 17:39:15.547422       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3108930 scale:-9} d:{Dec:<nil>} s:3108930n Format:DecimalSI}, 4
I0412 17:39:15.547457       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:59 +0000 UTC Window:{Duration:11.254s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:184290 scale:-9} d:{Dec:<nil>} s:184290n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.547470       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:184290 scale:-9} d:{Dec:<nil>} s:184290n Format:DecimalSI}, 1
I0412 17:39:15.547504       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:05 +0000 UTC Window:{Duration:17.788s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:51158 scale:-9} d:{Dec:<nil>} s:51158n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.547515       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:51158 scale:-9} d:{Dec:<nil>} s:51158n Format:DecimalSI}, 1
I0412 17:39:15.547553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:38:57 +0000 UTC Window:{Duration:15.097s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:521163 scale:-9} d:{Dec:<nil>} s:521163n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.547564       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:521163 scale:-9} d:{Dec:<nil>} s:521163n Format:DecimalSI}, 1
I0412 17:39:15.547596       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:03 +0000 UTC Window:{Duration:13.066s} Containers:[{Name:updater Usage:map[cpu:{i:{value:28470 scale:-9} d:{Dec:<nil>} s:28470n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:39:15.547609       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:28470 scale:-9} d:{Dec:<nil>} s:28470n Format:DecimalSI}, 1
I0412 17:39:15.547642       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:09 +0000 UTC Window:{Duration:30.239s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1048612 scale:-9} d:{Dec:<nil>} s:1048612n Format:DecimalSI} memory:{i:{value:56750080 scale:0} d:{Dec:<nil>} s:55420Ki Format:BinarySI}]}]}
I0412 17:39:15.547655       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1048612 scale:-9} d:{Dec:<nil>} s:1048612n Format:DecimalSI}, 2
I0412 17:39:15.547736       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:39:15.547750       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:39:15.547787       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:39:15.547812       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:39:15.547852       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 22811644.695\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:39:15.547868       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000117200 ControlledValues:<nil>}:
I0412 17:39:15.547898       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:39:15.547912       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:39:15.547922       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442031544]
I0412 17:39:15.547928       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:39:15.547937       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1624 memory:895781616]
I0412 17:39:15.547947       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:39:15.568404       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007622d0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762360 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fc33977a-5a89-4017-87be-b3b2ac50daf4] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d560 TLS:0xc0005220b0}
I0412 17:39:15.587990       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0840} GetBody:0x6d9b40 ContentLength:580 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0900 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0905db89-bf73-4646-827c-28152bd8bbfe] Cache-Control:[no-cache, private] Content-Length:[1625] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:1625 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 17:39:15.588456       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:39:15.588487       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 17:39:15.588523       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:39:15.588535       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:39:15.588711       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:39:15.608041       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e12f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[aafc38d5-8aa5-4ced-b312-5c187037cb99] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214ea0 TLS:0xc0005220b0}
I0412 17:39:15.618362       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1cb0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[26323e3d-5e5b-4b83-b3cf-5d2b1a5642db] Cache-Control:[no-cache, private] Content-Length:[1778] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd680} ContentLength:1778 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c120 TLS:0xc0005220b0}
I0412 17:39:15.624725       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005824b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7e705bfe-8452-4f4b-86f1-018ecffb4e93] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd980} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c900 TLS:0xc0005220b0}
I0412 17:39:15.633301       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746420 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4043cc0a-d805-4df6-81c6-c4a0676542e2] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b67e0 TLS:0xc0005220b0}
I0412 17:39:15.643231       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007469f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[900bbec9-4c0a-4577-8dc8-292997e31345] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b78c0 TLS:0xc0005220b0}
I0412 17:39:15.650337       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746fc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[368f1b08-93a3-499b-8e3d-0ed0e722fb41] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7e60 TLS:0xc0005220b0}
I0412 17:39:15.650468       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:39:35.775879       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 13 items received
I0412 17:40:15.532372       1 recommender.go:166] Recommender Run
I0412 17:40:15.532665       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:40:15.532872       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:40:15.533125       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:40:15.570142       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763bc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b47b5bd2-638f-411b-bdfb-ec5606f6d414 b47b5bd2-638f-411b-bdfb-ec5606f6d414] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363980} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0120 TLS:0xc0005220b0}
I0412 17:40:15.572225       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:40:15.572385       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:02 +0000 UTC Window:{Duration:13.734s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50572447 scale:-9} d:{Dec:<nil>} s:50572447n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:40:15.572420       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50572447 scale:-9} d:{Dec:<nil>} s:50572447n Format:DecimalSI}, 51
I0412 17:40:15.572501       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:11 +0000 UTC Window:{Duration:26.129s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49933790 scale:-9} d:{Dec:<nil>} s:49933790n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.572524       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49933790 scale:-9} d:{Dec:<nil>} s:49933790n Format:DecimalSI}, 50
I0412 17:40:15.572653       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:02 +0000 UTC Window:{Duration:19.012s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2321744 scale:-9} d:{Dec:<nil>} s:2321744n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.572675       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2321744 scale:-9} d:{Dec:<nil>} s:2321744n Format:DecimalSI}, 3
I0412 17:40:15.572769       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:00 +0000 UTC Window:{Duration:16.749s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11323959 scale:-9} d:{Dec:<nil>} s:11323959n Format:DecimalSI} memory:{i:{value:167677952 scale:0} d:{Dec:<nil>} s:163748Ki Format:BinarySI}]}]}
I0412 17:40:15.572792       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11323959 scale:-9} d:{Dec:<nil>} s:11323959n Format:DecimalSI}, 12
I0412 17:40:15.572947       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:07 +0000 UTC Window:{Duration:11.812s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1897053 scale:-9} d:{Dec:<nil>} s:1897053n Format:DecimalSI} memory:{i:{value:14733312 scale:0} d:{Dec:<nil>} s:14388Ki Format:BinarySI}]}]}
I0412 17:40:15.572972       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1897053 scale:-9} d:{Dec:<nil>} s:1897053n Format:DecimalSI}, 2
I0412 17:40:15.573084       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:39:59 +0000 UTC Window:{Duration:23.672s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:40:15.573114       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:40:15.573128       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:40:15.573195       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:06 +0000 UTC Window:{Duration:10.866s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:651849 scale:-9} d:{Dec:<nil>} s:651849n Format:DecimalSI} memory:{i:{value:6995968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.573220       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:651849 scale:-9} d:{Dec:<nil>} s:651849n Format:DecimalSI}, 1
I0412 17:40:15.573304       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:06 +0000 UTC Window:{Duration:18.111s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:803047 scale:-9} d:{Dec:<nil>} s:803047n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.573348       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:803047 scale:-9} d:{Dec:<nil>} s:803047n Format:DecimalSI}, 1
I0412 17:40:15.573440       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:07 +0000 UTC Window:{Duration:11.985s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3737588 scale:-9} d:{Dec:<nil>} s:3737588n Format:DecimalSI} memory:{i:{value:18997248 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.573462       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3737588 scale:-9} d:{Dec:<nil>} s:3737588n Format:DecimalSI}, 4
I0412 17:40:15.573541       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:03 +0000 UTC Window:{Duration:13.717s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:250564 scale:-9} d:{Dec:<nil>} s:250564n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.573563       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:250564 scale:-9} d:{Dec:<nil>} s:250564n Format:DecimalSI}, 1
I0412 17:40:15.573631       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:11 +0000 UTC Window:{Duration:17.217s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:84335 scale:-9} d:{Dec:<nil>} s:84335n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.573646       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:84335 scale:-9} d:{Dec:<nil>} s:84335n Format:DecimalSI}, 1
I0412 17:40:15.573755       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:00 +0000 UTC Window:{Duration:12.811s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:123955 scale:-9} d:{Dec:<nil>} s:123955n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.573780       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:123955 scale:-9} d:{Dec:<nil>} s:123955n Format:DecimalSI}, 1
I0412 17:40:15.573907       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:02 +0000 UTC Window:{Duration:17.084s} Containers:[{Name:updater Usage:map[cpu:{i:{value:53500 scale:-9} d:{Dec:<nil>} s:53500n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.573926       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:53500 scale:-9} d:{Dec:<nil>} s:53500n Format:DecimalSI}, 1
I0412 17:40:15.573995       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:04 +0000 UTC Window:{Duration:17.532s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1648585 scale:-9} d:{Dec:<nil>} s:1648585n Format:DecimalSI} memory:{i:{value:56926208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:40:15.574007       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1648585 scale:-9} d:{Dec:<nil>} s:1648585n Format:DecimalSI}, 2
I0412 17:40:15.574368       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:40:15.574410       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:40:15.574517       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:40:15.574623       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:40:15.574761       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 26218044.991\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:40:15.574793       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0008412f0 ControlledValues:<nil>}:
I0412 17:40:15.574867       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:40:15.574887       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:40:15.574907       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442032043]
I0412 17:40:15.574926       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:40:15.574944       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1623 memory:895512683]
I0412 17:40:15.574957       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:40:15.592321       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713950} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007139e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5a05d4b3-1693-400f-a8da-0ebc58f7029f] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076afc0 TLS:0xc0005220b0}
I0412 17:40:15.611670       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882900} GetBody:0x6d9b40 ContentLength:581 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882990 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ae731dc3-51b5-4be4-bdec-62e0280a283c] Cache-Control:[no-cache, private] Content-Length:[1626] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:1626 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b9e0 TLS:0xc0005220b0}
I0412 17:40:15.611932       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:40:15.611950       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:40:39.553547       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 7 items received
I0412 17:41:15.534736       1 recommender.go:166] Recommender Run
I0412 17:41:15.534808       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:41:15.534820       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:41:15.534928       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:41:15.546720       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882780 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[33bf374e-e0b4-4237-b52e-225760188f95 33bf374e-e0b4-4237-b52e-225760188f95] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ab40 TLS:0xc0005220b0}
I0412 17:41:15.547452       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:41:15.547541       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:10 +0000 UTC Window:{Duration:27.695s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50009387 scale:-9} d:{Dec:<nil>} s:50009387n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:41:15.547574       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50009387 scale:-9} d:{Dec:<nil>} s:50009387n Format:DecimalSI}, 51
I0412 17:41:15.547629       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:08 +0000 UTC Window:{Duration:13.776s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49630153 scale:-9} d:{Dec:<nil>} s:49630153n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.547637       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49630153 scale:-9} d:{Dec:<nil>} s:49630153n Format:DecimalSI}, 50
I0412 17:41:15.547687       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:10 +0000 UTC Window:{Duration:23.021s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1922548 scale:-9} d:{Dec:<nil>} s:1922548n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.547695       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1922548 scale:-9} d:{Dec:<nil>} s:1922548n Format:DecimalSI}, 2
I0412 17:41:15.547733       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:01 +0000 UTC Window:{Duration:15.616s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12713178 scale:-9} d:{Dec:<nil>} s:12713178n Format:DecimalSI} memory:{i:{value:167682048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.547739       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12713178 scale:-9} d:{Dec:<nil>} s:12713178n Format:DecimalSI}, 13
I0412 17:41:15.547772       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:02 +0000 UTC Window:{Duration:17.652s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1762123 scale:-9} d:{Dec:<nil>} s:1762123n Format:DecimalSI} memory:{i:{value:15253504 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.547778       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1762123 scale:-9} d:{Dec:<nil>} s:1762123n Format:DecimalSI}, 2
I0412 17:41:15.547825       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:52 +0000 UTC Window:{Duration:10.735s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:41:15.547841       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:41:15.547850       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:41:15.547884       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:10 +0000 UTC Window:{Duration:17.212s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1399604 scale:-9} d:{Dec:<nil>} s:1399604n Format:DecimalSI} memory:{i:{value:7045120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.547891       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1399604 scale:-9} d:{Dec:<nil>} s:1399604n Format:DecimalSI}, 2
I0412 17:41:15.547925       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:10 +0000 UTC Window:{Duration:15.787s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1775321 scale:-9} d:{Dec:<nil>} s:1775321n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.547938       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1775321 scale:-9} d:{Dec:<nil>} s:1775321n Format:DecimalSI}, 2
I0412 17:41:15.547981       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:06 +0000 UTC Window:{Duration:12.345s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2763385 scale:-9} d:{Dec:<nil>} s:2763385n Format:DecimalSI} memory:{i:{value:19271680 scale:0} d:{Dec:<nil>} s:18820Ki Format:BinarySI}]}]}
I0412 17:41:15.547996       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2763385 scale:-9} d:{Dec:<nil>} s:2763385n Format:DecimalSI}, 3
I0412 17:41:15.548031       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:06 +0000 UTC Window:{Duration:18.564s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:316849 scale:-9} d:{Dec:<nil>} s:316849n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.548037       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:316849 scale:-9} d:{Dec:<nil>} s:316849n Format:DecimalSI}, 1
I0412 17:41:15.548069       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:40:56 +0000 UTC Window:{Duration:29.836s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:825010 scale:-9} d:{Dec:<nil>} s:825010n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.548081       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:825010 scale:-9} d:{Dec:<nil>} s:825010n Format:DecimalSI}, 1
I0412 17:41:15.548113       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:05 +0000 UTC Window:{Duration:11.881s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:88713 scale:-9} d:{Dec:<nil>} s:88713n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.548125       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:88713 scale:-9} d:{Dec:<nil>} s:88713n Format:DecimalSI}, 1
I0412 17:41:15.548171       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:04 +0000 UTC Window:{Duration:19.772s} Containers:[{Name:updater Usage:map[cpu:{i:{value:155270 scale:-9} d:{Dec:<nil>} s:155270n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.548194       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:155270 scale:-9} d:{Dec:<nil>} s:155270n Format:DecimalSI}, 1
I0412 17:41:15.548231       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:07 +0000 UTC Window:{Duration:17.614s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1514760 scale:-9} d:{Dec:<nil>} s:1514760n Format:DecimalSI} memory:{i:{value:57040896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:41:15.548237       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1514760 scale:-9} d:{Dec:<nil>} s:1514760n Format:DecimalSI}, 2
I0412 17:41:15.548321       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:41:15.548341       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:41:15.548406       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:41:15.548450       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:41:15.548500       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 30153436.550\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.708\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:41:15.548526       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000604768 ControlledValues:<nil>}:
I0412 17:41:15.548560       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:41:15.548686       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:41:15.548717       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442032509]
I0412 17:41:15.548726       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:41:15.548740       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1623 memory:895261137]
I0412 17:41:15.548747       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:41:15.570320       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005beb10} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005beba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1abeea54-c428-4feb-ae53-77758bc5ad31] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d7a0 TLS:0xc0005220b0}
I0412 17:41:15.577869       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf4a0} GetBody:0x6d9b40 ContentLength:579 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf530 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6a9174b8-4a45-4b7e-8229-9c14a958df22] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe360 TLS:0xc0005220b0}
I0412 17:41:15.599757       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc00089c6c0} GetBody:0x6d9b40 ContentLength:761 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c750 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4d61588b-9dc0-43ef-903f-fdeb66da1917] Cache-Control:[no-cache, private] Content-Length:[1623] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:1623 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364fc0 TLS:0xc0005220b0}
I0412 17:41:15.600074       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:41:15.600102       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:41:35.104932       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 3 items received
I0412 17:41:50.195788       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 17:42:15.531713       1 recommender.go:166] Recommender Run
I0412 17:42:15.531741       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:42:15.531748       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:42:15.531789       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:42:15.544785       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008839b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c3544350-bd10-4631-b306-0323a45fb385 c3544350-bd10-4631-b306-0323a45fb385] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076bb00 TLS:0xc0005220b0}
I0412 17:42:15.546099       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:42:15.546238       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:04 +0000 UTC Window:{Duration:10.256s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49998732 scale:-9} d:{Dec:<nil>} s:49998732n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:42:15.546273       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49998732 scale:-9} d:{Dec:<nil>} s:49998732n Format:DecimalSI}, 50
I0412 17:42:15.546354       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:01 +0000 UTC Window:{Duration:13.404s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49974559 scale:-9} d:{Dec:<nil>} s:49974559n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.546380       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49974559 scale:-9} d:{Dec:<nil>} s:49974559n Format:DecimalSI}, 50
I0412 17:42:15.546460       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:03 +0000 UTC Window:{Duration:18.447s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2846641 scale:-9} d:{Dec:<nil>} s:2846641n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.546488       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2846641 scale:-9} d:{Dec:<nil>} s:2846641n Format:DecimalSI}, 3
I0412 17:42:15.546591       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:01 +0000 UTC Window:{Duration:13.058s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11704778 scale:-9} d:{Dec:<nil>} s:11704778n Format:DecimalSI} memory:{i:{value:168476672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.546635       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11704778 scale:-9} d:{Dec:<nil>} s:11704778n Format:DecimalSI}, 12
I0412 17:42:15.546707       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:11 +0000 UTC Window:{Duration:24.009s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1669457 scale:-9} d:{Dec:<nil>} s:1669457n Format:DecimalSI} memory:{i:{value:15265792 scale:0} d:{Dec:<nil>} s:14908Ki Format:BinarySI}]}]}
I0412 17:42:15.546734       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1669457 scale:-9} d:{Dec:<nil>} s:1669457n Format:DecimalSI}, 2
I0412 17:42:15.546810       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:51 +0000 UTC Window:{Duration:17.867s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:42:15.546838       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:42:15.546852       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:42:15.546935       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:09 +0000 UTC Window:{Duration:16.842s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1548865 scale:-9} d:{Dec:<nil>} s:1548865n Format:DecimalSI} memory:{i:{value:7151616 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.546961       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1548865 scale:-9} d:{Dec:<nil>} s:1548865n Format:DecimalSI}, 2
I0412 17:42:15.547027       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:59 +0000 UTC Window:{Duration:18.44s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:690184 scale:-9} d:{Dec:<nil>} s:690184n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:42:15.547043       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:690184 scale:-9} d:{Dec:<nil>} s:690184n Format:DecimalSI}, 1
I0412 17:42:15.547107       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:41:58 +0000 UTC Window:{Duration:18.884s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2420196 scale:-9} d:{Dec:<nil>} s:2420196n Format:DecimalSI} memory:{i:{value:19292160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.547143       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2420196 scale:-9} d:{Dec:<nil>} s:2420196n Format:DecimalSI}, 3
I0412 17:42:15.547216       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:05 +0000 UTC Window:{Duration:17.583s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:196041 scale:-9} d:{Dec:<nil>} s:196041n Format:DecimalSI} memory:{i:{value:9687040 scale:0} d:{Dec:<nil>} s:9460Ki Format:BinarySI}]}]}
I0412 17:42:15.547246       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:196041 scale:-9} d:{Dec:<nil>} s:196041n Format:DecimalSI}, 1
I0412 17:42:15.547317       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:01 +0000 UTC Window:{Duration:17.619s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:148419 scale:-9} d:{Dec:<nil>} s:148419n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.547357       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:148419 scale:-9} d:{Dec:<nil>} s:148419n Format:DecimalSI}, 1
I0412 17:42:15.547426       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:03 +0000 UTC Window:{Duration:13.563s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:153579 scale:-9} d:{Dec:<nil>} s:153579n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.547448       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:153579 scale:-9} d:{Dec:<nil>} s:153579n Format:DecimalSI}, 1
I0412 17:42:15.547512       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:06 +0000 UTC Window:{Duration:16.858s} Containers:[{Name:updater Usage:map[cpu:{i:{value:83283 scale:-9} d:{Dec:<nil>} s:83283n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.547533       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:83283 scale:-9} d:{Dec:<nil>} s:83283n Format:DecimalSI}, 1
I0412 17:42:15.547600       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:07 +0000 UTC Window:{Duration:19.434s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1220850 scale:-9} d:{Dec:<nil>} s:1220850n Format:DecimalSI} memory:{i:{value:57040896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:42:15.547631       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1220850 scale:-9} d:{Dec:<nil>} s:1220850n Format:DecimalSI}, 2
I0412 17:42:15.547790       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:42:15.547821       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:42:15.547904       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:42:15.547959       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:42:15.548045       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 34606645.584\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:42:15.548063       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006058a8 ControlledValues:<nil>}:
I0412 17:42:15.548143       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:42:15.548162       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:42:15.548181       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442032935]
I0412 17:42:15.548200       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:42:15.548218       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1623 memory:895031173]
I0412 17:42:15.548245       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:42:15.563131       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728150} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007281e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e24b8802-bf39-4862-85ef-fccdccecd237] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214fc0 TLS:0xc0005220b0}
I0412 17:42:15.580860       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089ced0} GetBody:0x6d9b40 ContentLength:579 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cf60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[22a84ac2-2648-4daa-a2c4-16b326982eca] Cache-Control:[no-cache, private] Content-Length:[1623] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:1623 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365c20 TLS:0xc0005220b0}
I0412 17:42:15.581197       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:42:15.581228       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:42:51.318239       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 0 items received
I0412 17:43:04.392480       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 7 items received
I0412 17:43:15.532972       1 recommender.go:166] Recommender Run
I0412 17:43:15.533035       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:43:15.533074       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:43:15.533121       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:43:15.547421       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007287b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[87a06fb6-4af6-4501-88eb-a3b82814d9bf 87a06fb6-4af6-4501-88eb-a3b82814d9bf] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214480 TLS:0xc0005220b0}
I0412 17:43:15.548514       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:43:15.548685       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:57 +0000 UTC Window:{Duration:18.578s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50064377 scale:-9} d:{Dec:<nil>} s:50064377n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:43:15.548708       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50064377 scale:-9} d:{Dec:<nil>} s:50064377n Format:DecimalSI}, 51
I0412 17:43:15.548789       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:02 +0000 UTC Window:{Duration:14.949s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49977791 scale:-9} d:{Dec:<nil>} s:49977791n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:43:15.548804       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49977791 scale:-9} d:{Dec:<nil>} s:49977791n Format:DecimalSI}, 50
I0412 17:43:15.548881       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:05 +0000 UTC Window:{Duration:11.501s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2282323 scale:-9} d:{Dec:<nil>} s:2282323n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:43:15.548896       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2282323 scale:-9} d:{Dec:<nil>} s:2282323n Format:DecimalSI}, 3
I0412 17:43:15.548973       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:04 +0000 UTC Window:{Duration:13.314s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:14006158 scale:-9} d:{Dec:<nil>} s:14006158n Format:DecimalSI} memory:{i:{value:167710720 scale:0} d:{Dec:<nil>} s:163780Ki Format:BinarySI}]}]}
I0412 17:43:15.548992       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:14006158 scale:-9} d:{Dec:<nil>} s:14006158n Format:DecimalSI}, 15
I0412 17:43:15.549097       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:07 +0000 UTC Window:{Duration:12.314s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1943072 scale:-9} d:{Dec:<nil>} s:1943072n Format:DecimalSI} memory:{i:{value:14614528 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:43:15.549132       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1943072 scale:-9} d:{Dec:<nil>} s:1943072n Format:DecimalSI}, 2
I0412 17:43:15.549224       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:54 +0000 UTC Window:{Duration:14.557s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:43:15.549246       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:43:15.549261       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:43:15.549332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:09 +0000 UTC Window:{Duration:28.406s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1377490 scale:-9} d:{Dec:<nil>} s:1377490n Format:DecimalSI} memory:{i:{value:6918144 scale:0} d:{Dec:<nil>} s:6756Ki Format:BinarySI}]}]}
I0412 17:43:15.549347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1377490 scale:-9} d:{Dec:<nil>} s:1377490n Format:DecimalSI}, 2
I0412 17:43:15.549415       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:03 +0000 UTC Window:{Duration:17.187s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:700762 scale:-9} d:{Dec:<nil>} s:700762n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:43:15.549441       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:700762 scale:-9} d:{Dec:<nil>} s:700762n Format:DecimalSI}, 1
I0412 17:43:15.549510       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:11 +0000 UTC Window:{Duration:29.006s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2815348 scale:-9} d:{Dec:<nil>} s:2815348n Format:DecimalSI} memory:{i:{value:19288064 scale:0} d:{Dec:<nil>} s:18836Ki Format:BinarySI}]}]}
I0412 17:43:15.549525       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2815348 scale:-9} d:{Dec:<nil>} s:2815348n Format:DecimalSI}, 3
I0412 17:43:15.549596       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:04 +0000 UTC Window:{Duration:16.86s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:197924 scale:-9} d:{Dec:<nil>} s:197924n Format:DecimalSI} memory:{i:{value:9687040 scale:0} d:{Dec:<nil>} s:9460Ki Format:BinarySI}]}]}
I0412 17:43:15.549639       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:197924 scale:-9} d:{Dec:<nil>} s:197924n Format:DecimalSI}, 1
I0412 17:43:15.549704       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:02 +0000 UTC Window:{Duration:15.878s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:156316 scale:-9} d:{Dec:<nil>} s:156316n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:43:15.549715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:156316 scale:-9} d:{Dec:<nil>} s:156316n Format:DecimalSI}, 1
I0412 17:43:15.549778       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:04 +0000 UTC Window:{Duration:14.922s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:234821 scale:-9} d:{Dec:<nil>} s:234821n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:43:15.549806       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:234821 scale:-9} d:{Dec:<nil>} s:234821n Format:DecimalSI}, 1
I0412 17:43:15.549885       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:07 +0000 UTC Window:{Duration:13.114s} Containers:[{Name:updater Usage:map[cpu:{i:{value:61384 scale:-9} d:{Dec:<nil>} s:61384n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:43:15.549902       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:61384 scale:-9} d:{Dec:<nil>} s:61384n Format:DecimalSI}, 1
I0412 17:43:15.549970       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:42:54 +0000 UTC Window:{Duration:17.631s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:2286313 scale:-9} d:{Dec:<nil>} s:2286313n Format:DecimalSI} memory:{i:{value:56664064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:43:15.550000       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2286313 scale:-9} d:{Dec:<nil>} s:2286313n Format:DecimalSI}, 3
I0412 17:43:15.550164       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:43:15.550197       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:43:15.550278       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:43:15.550328       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:43:15.550405       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 39686759.107\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:43:15.550453       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840de0 ControlledValues:<nil>}:
I0412 17:43:15.550515       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:43:15.550577       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:43:15.550602       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442033393]
I0412 17:43:15.550617       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:43:15.550635       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1622 memory:894784456]
I0412 17:43:15.550663       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:43:15.581310       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00051dad0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051dc20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[da1b1be4-5afc-458b-bdb9-bc28bff5576b] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b320 TLS:0xc0005220b0}
I0412 17:43:15.684243       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d3b0} GetBody:0x6d9b40 ContentLength:579 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d440 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cc6a365e-7d64-4d53-b2f7-a5ea1eb90c80] Cache-Control:[no-cache, private] Content-Length:[1623] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:1623 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c000 TLS:0xc0005220b0}
I0412 17:43:15.684539       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:43:15.684566       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:43:58.577147       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 17:44:15.532103       1 recommender.go:166] Recommender Run
I0412 17:44:15.532225       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:44:15.532254       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:44:15.532653       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:44:15.546847       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6a5f9428-f84c-44cb-8f1d-7a1a3a8c9978 6a5f9428-f84c-44cb-8f1d-7a1a3a8c9978] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086ca20 TLS:0xc0005220b0}
I0412 17:44:15.547602       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:44:15.547698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:06 +0000 UTC Window:{Duration:10.121s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50497381 scale:-9} d:{Dec:<nil>} s:50497381n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:44:15.547718       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50497381 scale:-9} d:{Dec:<nil>} s:50497381n Format:DecimalSI}, 51
I0412 17:44:15.547743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:02 +0000 UTC Window:{Duration:15.165s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50131816 scale:-9} d:{Dec:<nil>} s:50131816n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:44:15.547751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50131816 scale:-9} d:{Dec:<nil>} s:50131816n Format:DecimalSI}, 51
I0412 17:44:15.547786       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:02 +0000 UTC Window:{Duration:15.384s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3520475 scale:-9} d:{Dec:<nil>} s:3520475n Format:DecimalSI} memory:{i:{value:32342016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:44:15.547791       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3520475 scale:-9} d:{Dec:<nil>} s:3520475n Format:DecimalSI}, 4
I0412 17:44:15.547824       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:03 +0000 UTC Window:{Duration:14.022s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13317215 scale:-9} d:{Dec:<nil>} s:13317215n Format:DecimalSI} memory:{i:{value:167743488 scale:0} d:{Dec:<nil>} s:163812Ki Format:BinarySI}]}]}
I0412 17:44:15.547842       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13317215 scale:-9} d:{Dec:<nil>} s:13317215n Format:DecimalSI}, 14
I0412 17:44:15.547862       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:08 +0000 UTC Window:{Duration:19.332s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1849886 scale:-9} d:{Dec:<nil>} s:1849886n Format:DecimalSI} memory:{i:{value:14610432 scale:0} d:{Dec:<nil>} s:14268Ki Format:BinarySI}]}]}
I0412 17:44:15.547866       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1849886 scale:-9} d:{Dec:<nil>} s:1849886n Format:DecimalSI}, 2
I0412 17:44:15.547890       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:51 +0000 UTC Window:{Duration:14.982s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:44:15.547898       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:44:15.547902       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:44:15.547920       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:07 +0000 UTC Window:{Duration:11.862s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:915022 scale:-9} d:{Dec:<nil>} s:915022n Format:DecimalSI} memory:{i:{value:6914048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:44:15.547924       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:915022 scale:-9} d:{Dec:<nil>} s:915022n Format:DecimalSI}, 1
I0412 17:44:15.547952       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:03 +0000 UTC Window:{Duration:16.322s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:932790 scale:-9} d:{Dec:<nil>} s:932790n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:44:15.547957       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:932790 scale:-9} d:{Dec:<nil>} s:932790n Format:DecimalSI}, 1
I0412 17:44:15.547996       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:06 +0000 UTC Window:{Duration:17.132s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3499241 scale:-9} d:{Dec:<nil>} s:3499241n Format:DecimalSI} memory:{i:{value:19288064 scale:0} d:{Dec:<nil>} s:18836Ki Format:BinarySI}]}]}
I0412 17:44:15.548002       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3499241 scale:-9} d:{Dec:<nil>} s:3499241n Format:DecimalSI}, 4
I0412 17:44:15.548019       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:04 +0000 UTC Window:{Duration:17.737s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:197722 scale:-9} d:{Dec:<nil>} s:197722n Format:DecimalSI} memory:{i:{value:9695232 scale:0} d:{Dec:<nil>} s:9468Ki Format:BinarySI}]}]}
I0412 17:44:15.548029       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:197722 scale:-9} d:{Dec:<nil>} s:197722n Format:DecimalSI}, 1
I0412 17:44:15.548049       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:03 +0000 UTC Window:{Duration:19.489s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:183282 scale:-9} d:{Dec:<nil>} s:183282n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:44:15.548062       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:183282 scale:-9} d:{Dec:<nil>} s:183282n Format:DecimalSI}, 1
I0412 17:44:15.548081       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:03 +0000 UTC Window:{Duration:14.771s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:167761 scale:-9} d:{Dec:<nil>} s:167761n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:44:15.548084       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:167761 scale:-9} d:{Dec:<nil>} s:167761n Format:DecimalSI}, 1
I0412 17:44:15.548122       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:43:56 +0000 UTC Window:{Duration:29.44s} Containers:[{Name:updater Usage:map[cpu:{i:{value:172927 scale:-9} d:{Dec:<nil>} s:172927n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:44:15.548133       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:172927 scale:-9} d:{Dec:<nil>} s:172927n Format:DecimalSI}, 1
I0412 17:44:15.548165       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:09 +0000 UTC Window:{Duration:26.023s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1343849 scale:-9} d:{Dec:<nil>} s:1343849n Format:DecimalSI} memory:{i:{value:56725504 scale:0} d:{Dec:<nil>} s:55396Ki Format:BinarySI}]}]}
I0412 17:44:15.548188       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1343849 scale:-9} d:{Dec:<nil>} s:1343849n Format:DecimalSI}, 2
I0412 17:44:15.548349       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:44:15.548371       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:44:15.548415       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:44:15.548474       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:44:15.548532       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 45583231.346\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:44:15.548547       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991188 ControlledValues:<nil>}:
I0412 17:44:15.548581       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:44:15.548593       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:44:15.548637       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442033897]
I0412 17:44:15.548644       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:44:15.548650       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1622 memory:894512554]
I0412 17:44:15.548654       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:44:15.578048       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1dd0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1e60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[06aa3b4b-4406-47d9-8d99-541c74dbb037] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 17:44:15.623208       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746990} GetBody:0x6d9b40 ContentLength:579 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746a20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9445b4cd-5b8c-453c-bf46-2f3f9f3df664] Cache-Control:[no-cache, private] Content-Length:[1623] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:1623 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076bc20 TLS:0xc0005220b0}
I0412 17:44:15.623640       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:44:15.623662       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:45:15.537553       1 recommender.go:166] Recommender Run
I0412 17:45:15.537594       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:45:15.537605       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:45:15.537674       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:45:15.550918       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762ae0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5f58bbed-775a-46bb-9c30-a5d7f8ed9175 5f58bbed-775a-46bb-9c30-a5d7f8ed9175] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ab40 TLS:0xc0005220b0}
I0412 17:45:15.551781       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:45:15.551892       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:04 +0000 UTC Window:{Duration:14.316s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49505238 scale:-9} d:{Dec:<nil>} s:49505238n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:45:15.551918       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49505238 scale:-9} d:{Dec:<nil>} s:49505238n Format:DecimalSI}, 50
I0412 17:45:15.551965       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:58 +0000 UTC Window:{Duration:16.152s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49670381 scale:-9} d:{Dec:<nil>} s:49670381n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:45:15.551988       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49670381 scale:-9} d:{Dec:<nil>} s:49670381n Format:DecimalSI}, 50
I0412 17:45:15.552042       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:02 +0000 UTC Window:{Duration:18.165s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1893476 scale:-9} d:{Dec:<nil>} s:1893476n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 17:45:15.552056       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1893476 scale:-9} d:{Dec:<nil>} s:1893476n Format:DecimalSI}, 2
I0412 17:45:15.552097       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:11 +0000 UTC Window:{Duration:16.825s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13379494 scale:-9} d:{Dec:<nil>} s:13379494n Format:DecimalSI} memory:{i:{value:167747584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:45:15.552113       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13379494 scale:-9} d:{Dec:<nil>} s:13379494n Format:DecimalSI}, 14
I0412 17:45:15.552148       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:08 +0000 UTC Window:{Duration:18.241s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1516857 scale:-9} d:{Dec:<nil>} s:1516857n Format:DecimalSI} memory:{i:{value:14606336 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:45:15.552155       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1516857 scale:-9} d:{Dec:<nil>} s:1516857n Format:DecimalSI}, 2
I0412 17:45:15.552294       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:01 +0000 UTC Window:{Duration:11.945s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:45:15.552312       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:45:15.552321       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:45:15.552369       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:04 +0000 UTC Window:{Duration:13.936s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1345221 scale:-9} d:{Dec:<nil>} s:1345221n Format:DecimalSI} memory:{i:{value:6991872 scale:0} d:{Dec:<nil>} s:6828Ki Format:BinarySI}]}]}
I0412 17:45:15.552390       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1345221 scale:-9} d:{Dec:<nil>} s:1345221n Format:DecimalSI}, 2
I0412 17:45:15.552429       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:57 +0000 UTC Window:{Duration:17.62s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:373212 scale:-9} d:{Dec:<nil>} s:373212n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:45:15.552443       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:373212 scale:-9} d:{Dec:<nil>} s:373212n Format:DecimalSI}, 1
I0412 17:45:15.552477       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:07 +0000 UTC Window:{Duration:14.6s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3639041 scale:-9} d:{Dec:<nil>} s:3639041n Format:DecimalSI} memory:{i:{value:19292160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:45:15.552486       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3639041 scale:-9} d:{Dec:<nil>} s:3639041n Format:DecimalSI}, 4
I0412 17:45:15.552518       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:10 +0000 UTC Window:{Duration:19.684s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:258179 scale:-9} d:{Dec:<nil>} s:258179n Format:DecimalSI} memory:{i:{value:9703424 scale:0} d:{Dec:<nil>} s:9476Ki Format:BinarySI}]}]}
I0412 17:45:15.552532       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:258179 scale:-9} d:{Dec:<nil>} s:258179n Format:DecimalSI}, 1
I0412 17:45:15.552564       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:56 +0000 UTC Window:{Duration:23.98s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:846455 scale:-9} d:{Dec:<nil>} s:846455n Format:DecimalSI} memory:{i:{value:11579392 scale:0} d:{Dec:<nil>} s:11308Ki Format:BinarySI}]}]}
I0412 17:45:15.552572       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:846455 scale:-9} d:{Dec:<nil>} s:846455n Format:DecimalSI}, 1
I0412 17:45:15.552660       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:00 +0000 UTC Window:{Duration:16.706s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:436609 scale:-9} d:{Dec:<nil>} s:436609n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:45:15.552678       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:436609 scale:-9} d:{Dec:<nil>} s:436609n Format:DecimalSI}, 1
I0412 17:45:15.552722       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:44:58 +0000 UTC Window:{Duration:26.962s} Containers:[{Name:updater Usage:map[cpu:{i:{value:209628 scale:-9} d:{Dec:<nil>} s:209628n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:45:15.552737       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:209628 scale:-9} d:{Dec:<nil>} s:209628n Format:DecimalSI}, 1
I0412 17:45:15.552772       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:10 +0000 UTC Window:{Duration:17.508s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1483436 scale:-9} d:{Dec:<nil>} s:1483436n Format:DecimalSI} memory:{i:{value:56737792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:45:15.552791       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1483436 scale:-9} d:{Dec:<nil>} s:1483436n Format:DecimalSI}, 2
I0412 17:45:15.552877       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:45:15.552895       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:45:15.552958       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:45:15.553022       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:45:15.553149       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 52309802.700\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:45:15.553205       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841bf0 ControlledValues:<nil>}:
I0412 17:45:15.553253       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:45:15.553269       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:45:15.553284       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442034353]
I0412 17:45:15.553300       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:45:15.553313       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1621 memory:894266448]
I0412 17:45:15.553321       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:45:15.570241       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008834d0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008835f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f40f0b8f-40fe-4596-9476-4dcd94afec73] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214c60 TLS:0xc0005220b0}
I0412 17:45:15.599701       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007121b0} GetBody:0x6d9b40 ContentLength:566 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712240 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1d65aade-4c63-4307-a28c-b14ec9d23fc5] Cache-Control:[no-cache, private] Content-Length:[1592] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1592 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215560 TLS:0xc0005220b0}
I0412 17:45:15.600035       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:45:15.600056       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:46:15.534224       1 recommender.go:166] Recommender Run
I0412 17:46:15.534281       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:46:15.534292       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:46:15.534345       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:46:15.548107       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763ce0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c15d6e9c-d65e-40bc-b3e4-82e8f3ff3dc6 c15d6e9c-d65e-40bc-b3e4-82e8f3ff3dc6] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 17:46:15.549003       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:46:15.549140       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:11 +0000 UTC Window:{Duration:14.276s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49840221 scale:-9} d:{Dec:<nil>} s:49840221n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:46:15.549165       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49840221 scale:-9} d:{Dec:<nil>} s:49840221n Format:DecimalSI}, 50
I0412 17:46:15.549215       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:02 +0000 UTC Window:{Duration:17.761s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50185856 scale:-9} d:{Dec:<nil>} s:50185856n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549229       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50185856 scale:-9} d:{Dec:<nil>} s:50185856n Format:DecimalSI}, 51
I0412 17:46:15.549270       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:05 +0000 UTC Window:{Duration:19.697s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3706503 scale:-9} d:{Dec:<nil>} s:3706503n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549288       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3706503 scale:-9} d:{Dec:<nil>} s:3706503n Format:DecimalSI}, 4
I0412 17:46:15.549342       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:55 +0000 UTC Window:{Duration:33.183s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:14121869 scale:-9} d:{Dec:<nil>} s:14121869n Format:DecimalSI} memory:{i:{value:167776256 scale:0} d:{Dec:<nil>} s:163844Ki Format:BinarySI}]}]}
I0412 17:46:15.549350       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:14121869 scale:-9} d:{Dec:<nil>} s:14121869n Format:DecimalSI}, 15
I0412 17:46:15.549385       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:12 +0000 UTC Window:{Duration:27.068s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1690446 scale:-9} d:{Dec:<nil>} s:1690446n Format:DecimalSI} memory:{i:{value:14610432 scale:0} d:{Dec:<nil>} s:14268Ki Format:BinarySI}]}]}
I0412 17:46:15.549406       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1690446 scale:-9} d:{Dec:<nil>} s:1690446n Format:DecimalSI}, 2
I0412 17:46:15.549448       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:07 +0000 UTC Window:{Duration:16.904s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:46:15.549465       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:46:15.549474       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:46:15.549509       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:02 +0000 UTC Window:{Duration:13.285s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1550696 scale:-9} d:{Dec:<nil>} s:1550696n Format:DecimalSI} memory:{i:{value:7102464 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549519       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1550696 scale:-9} d:{Dec:<nil>} s:1550696n Format:DecimalSI}, 2
I0412 17:46:15.549556       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:08 +0000 UTC Window:{Duration:14.27s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:434548 scale:-9} d:{Dec:<nil>} s:434548n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549565       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:434548 scale:-9} d:{Dec:<nil>} s:434548n Format:DecimalSI}, 1
I0412 17:46:15.549601       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:05 +0000 UTC Window:{Duration:19.717s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2955469 scale:-9} d:{Dec:<nil>} s:2955469n Format:DecimalSI} memory:{i:{value:19296256 scale:0} d:{Dec:<nil>} s:18844Ki Format:BinarySI}]}]}
I0412 17:46:15.549615       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2955469 scale:-9} d:{Dec:<nil>} s:2955469n Format:DecimalSI}, 3
I0412 17:46:15.549652       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:04 +0000 UTC Window:{Duration:12.717s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:149484 scale:-9} d:{Dec:<nil>} s:149484n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:46:15.549666       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:149484 scale:-9} d:{Dec:<nil>} s:149484n Format:DecimalSI}, 1
I0412 17:46:15.549699       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:11 +0000 UTC Window:{Duration:23.882s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:109371 scale:-9} d:{Dec:<nil>} s:109371n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549718       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:109371 scale:-9} d:{Dec:<nil>} s:109371n Format:DecimalSI}, 1
I0412 17:46:15.549752       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:45:56 +0000 UTC Window:{Duration:17.812s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:129294 scale:-9} d:{Dec:<nil>} s:129294n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549767       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:129294 scale:-9} d:{Dec:<nil>} s:129294n Format:DecimalSI}, 1
I0412 17:46:15.549819       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:03 +0000 UTC Window:{Duration:14.015s} Containers:[{Name:updater Usage:map[cpu:{i:{value:18052 scale:-9} d:{Dec:<nil>} s:18052n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549834       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:18052 scale:-9} d:{Dec:<nil>} s:18052n Format:DecimalSI}, 1
I0412 17:46:15.549871       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:01 +0000 UTC Window:{Duration:12.326s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:2229595 scale:-9} d:{Dec:<nil>} s:2229595n Format:DecimalSI} memory:{i:{value:56745984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:46:15.549878       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2229595 scale:-9} d:{Dec:<nil>} s:2229595n Format:DecimalSI}, 3
I0412 17:46:15.549986       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:46:15.550005       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:46:15.550052       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:46:15.550091       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:46:15.550135       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 60135655.532\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:46:15.550162       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0004502b8 ControlledValues:<nil>}:
I0412 17:46:15.550199       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:46:15.550219       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:46:15.550233       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442034879]
I0412 17:46:15.550246       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:46:15.550257       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1621 memory:893982514]
I0412 17:46:15.550269       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:46:15.571399       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089da40} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089dad0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9acd930e-0247-4112-8b4c-6cb0a86d910b] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c900 TLS:0xc0005220b0}
I0412 17:46:15.585151       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bec00} GetBody:0x6d9b40 ContentLength:566 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005becc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4560008c-3b07-4576-8461-4185f34ae0a1] Cache-Control:[no-cache, private] Content-Length:[1592] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9c80} ContentLength:1592 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d320 TLS:0xc0005220b0}
I0412 17:46:15.585463       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:46:15.585489       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:46:48.976147       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 8 items received
I0412 17:47:15.538513       1 recommender.go:166] Recommender Run
I0412 17:47:15.538554       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:47:15.538573       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:47:15.538664       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:47:15.556645       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be900 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6928e1be-b445-4d3a-af2e-b2ed89f682c5 6928e1be-b445-4d3a-af2e-b2ed89f682c5] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ab40 TLS:0xc0005220b0}
I0412 17:47:15.557309       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:47:15.557387       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:53 +0000 UTC Window:{Duration:14.225s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49872688 scale:-9} d:{Dec:<nil>} s:49872688n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:47:15.557400       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49872688 scale:-9} d:{Dec:<nil>} s:49872688n Format:DecimalSI}, 50
I0412 17:47:15.557426       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:06 +0000 UTC Window:{Duration:17.344s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50069188 scale:-9} d:{Dec:<nil>} s:50069188n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557435       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50069188 scale:-9} d:{Dec:<nil>} s:50069188n Format:DecimalSI}, 51
I0412 17:47:15.557469       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:11 +0000 UTC Window:{Duration:18.158s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2192697 scale:-9} d:{Dec:<nil>} s:2192697n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557473       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2192697 scale:-9} d:{Dec:<nil>} s:2192697n Format:DecimalSI}, 3
I0412 17:47:15.557494       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:06 +0000 UTC Window:{Duration:14.577s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12755779 scale:-9} d:{Dec:<nil>} s:12755779n Format:DecimalSI} memory:{i:{value:167776256 scale:0} d:{Dec:<nil>} s:163844Ki Format:BinarySI}]}]}
I0412 17:47:15.557499       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12755779 scale:-9} d:{Dec:<nil>} s:12755779n Format:DecimalSI}, 13
I0412 17:47:15.557517       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:10 +0000 UTC Window:{Duration:25.005s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1997640 scale:-9} d:{Dec:<nil>} s:1997640n Format:DecimalSI} memory:{i:{value:14610432 scale:0} d:{Dec:<nil>} s:14268Ki Format:BinarySI}]}]}
I0412 17:47:15.557521       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1997640 scale:-9} d:{Dec:<nil>} s:1997640n Format:DecimalSI}, 2
I0412 17:47:15.557547       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:49 +0000 UTC Window:{Duration:17.242s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:47:15.557561       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:47:15.557566       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:47:15.557585       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:01 +0000 UTC Window:{Duration:13.05s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:2070651 scale:-9} d:{Dec:<nil>} s:2070651n Format:DecimalSI} memory:{i:{value:6922240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557589       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2070651 scale:-9} d:{Dec:<nil>} s:2070651n Format:DecimalSI}, 3
I0412 17:47:15.557607       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:01 +0000 UTC Window:{Duration:15.148s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:415236 scale:-9} d:{Dec:<nil>} s:415236n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557623       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:415236 scale:-9} d:{Dec:<nil>} s:415236n Format:DecimalSI}, 1
I0412 17:47:15.557648       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:07 +0000 UTC Window:{Duration:12.308s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2555492 scale:-9} d:{Dec:<nil>} s:2555492n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557652       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2555492 scale:-9} d:{Dec:<nil>} s:2555492n Format:DecimalSI}, 3
I0412 17:47:15.557670       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:46:59 +0000 UTC Window:{Duration:15.074s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:534098 scale:-9} d:{Dec:<nil>} s:534098n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:47:15.557680       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:534098 scale:-9} d:{Dec:<nil>} s:534098n Format:DecimalSI}, 1
I0412 17:47:15.557698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:02 +0000 UTC Window:{Duration:19.693s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:163103 scale:-9} d:{Dec:<nil>} s:163103n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557702       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:163103 scale:-9} d:{Dec:<nil>} s:163103n Format:DecimalSI}, 1
I0412 17:47:15.557718       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:06 +0000 UTC Window:{Duration:17.256s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:962389 scale:-9} d:{Dec:<nil>} s:962389n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557722       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:962389 scale:-9} d:{Dec:<nil>} s:962389n Format:DecimalSI}, 1
I0412 17:47:15.557739       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:07 +0000 UTC Window:{Duration:15.811s} Containers:[{Name:updater Usage:map[cpu:{i:{value:30611 scale:-9} d:{Dec:<nil>} s:30611n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:47:15.557750       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30611 scale:-9} d:{Dec:<nil>} s:30611n Format:DecimalSI}, 1
I0412 17:47:15.557774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:04 +0000 UTC Window:{Duration:16.088s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1683304 scale:-9} d:{Dec:<nil>} s:1683304n Format:DecimalSI} memory:{i:{value:53776384 scale:0} d:{Dec:<nil>} s:52516Ki Format:BinarySI}]}]}
I0412 17:47:15.557842       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1683304 scale:-9} d:{Dec:<nil>} s:1683304n Format:DecimalSI}, 2
I0412 17:47:15.557965       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:47:15.557978       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:47:15.558019       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:47:15.558047       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:47:15.558096       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 68981496.834\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:47:15.558110       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451848 ControlledValues:<nil>}:
I0412 17:47:15.558131       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:47:15.558137       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:47:15.558143       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442035311]
I0412 17:47:15.558147       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:47:15.558152       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1620 memory:893749722]
I0412 17:47:15.558156       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:47:15.576807       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007461e0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746270 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a3dae042-209d-499d-a9c0-5647874386a0] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c6c0 TLS:0xc0005220b0}
I0412 17:47:15.594272       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008827b0} GetBody:0x6d9b40 ContentLength:558 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882840 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[059bd423-bfae-4949-a211-181dc6cec42a] Cache-Control:[no-cache, private] Content-Length:[1574] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:1574 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe5a0 TLS:0xc0005220b0}
I0412 17:47:15.594466       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:47:15.594494       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:47:44.198995       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 4 items received
I0412 17:47:51.781434       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 18 items received
I0412 17:47:56.860196       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 5 items received
I0412 17:48:11.108954       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 17:48:15.533690       1 recommender.go:166] Recommender Run
I0412 17:48:15.533737       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:48:15.533748       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:48:15.533903       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:48:15.550298       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762ff0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4a9e6f26-6f69-4113-9607-57ce259c8469 4a9e6f26-6f69-4113-9607-57ce259c8469] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003658c0 TLS:0xc0005220b0}
I0412 17:48:15.551066       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:48:15.551206       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:05 +0000 UTC Window:{Duration:11.073s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49422017 scale:-9} d:{Dec:<nil>} s:49422017n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:48:15.551246       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49422017 scale:-9} d:{Dec:<nil>} s:49422017n Format:DecimalSI}, 50
I0412 17:48:15.551354       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:53 +0000 UTC Window:{Duration:17.215s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49843334 scale:-9} d:{Dec:<nil>} s:49843334n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:48:15.551375       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49843334 scale:-9} d:{Dec:<nil>} s:49843334n Format:DecimalSI}, 50
I0412 17:48:15.551446       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:03 +0000 UTC Window:{Duration:17.624s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4139412 scale:-9} d:{Dec:<nil>} s:4139412n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 17:48:15.551469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4139412 scale:-9} d:{Dec:<nil>} s:4139412n Format:DecimalSI}, 5
I0412 17:48:15.551549       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:04 +0000 UTC Window:{Duration:19.513s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12888843 scale:-9} d:{Dec:<nil>} s:12888843n Format:DecimalSI} memory:{i:{value:167636992 scale:0} d:{Dec:<nil>} s:163708Ki Format:BinarySI}]}]}
I0412 17:48:15.551581       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12888843 scale:-9} d:{Dec:<nil>} s:12888843n Format:DecimalSI}, 13
I0412 17:48:15.551641       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:10 +0000 UTC Window:{Duration:24.897s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1993252 scale:-9} d:{Dec:<nil>} s:1993252n Format:DecimalSI} memory:{i:{value:15388672 scale:0} d:{Dec:<nil>} s:15028Ki Format:BinarySI}]}]}
I0412 17:48:15.551660       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1993252 scale:-9} d:{Dec:<nil>} s:1993252n Format:DecimalSI}, 2
I0412 17:48:15.551734       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:57 +0000 UTC Window:{Duration:31.03s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:1772 scale:-9} d:{Dec:<nil>} s:1772n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:48:15.551755       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:48:15.551768       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1772 scale:-9} d:{Dec:<nil>} s:1772n Format:DecimalSI}, 1
I0412 17:48:15.551832       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:47:58 +0000 UTC Window:{Duration:13.065s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1345656 scale:-9} d:{Dec:<nil>} s:1345656n Format:DecimalSI} memory:{i:{value:6926336 scale:0} d:{Dec:<nil>} s:6764Ki Format:BinarySI}]}]}
I0412 17:48:15.551879       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1345656 scale:-9} d:{Dec:<nil>} s:1345656n Format:DecimalSI}, 2
I0412 17:48:15.551941       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:00 +0000 UTC Window:{Duration:11.021s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1244714 scale:-9} d:{Dec:<nil>} s:1244714n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:48:15.551953       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1244714 scale:-9} d:{Dec:<nil>} s:1244714n Format:DecimalSI}, 2
I0412 17:48:15.552032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:07 +0000 UTC Window:{Duration:11.941s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2526756 scale:-9} d:{Dec:<nil>} s:2526756n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:48:15.552056       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2526756 scale:-9} d:{Dec:<nil>} s:2526756n Format:DecimalSI}, 3
I0412 17:48:15.552119       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:00 +0000 UTC Window:{Duration:13.317s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:272208 scale:-9} d:{Dec:<nil>} s:272208n Format:DecimalSI} memory:{i:{value:9756672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:48:15.552131       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:272208 scale:-9} d:{Dec:<nil>} s:272208n Format:DecimalSI}, 1
I0412 17:48:15.552185       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:06 +0000 UTC Window:{Duration:17.022s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:144518 scale:-9} d:{Dec:<nil>} s:144518n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:48:15.552203       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:144518 scale:-9} d:{Dec:<nil>} s:144518n Format:DecimalSI}, 1
I0412 17:48:15.552258       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:08 +0000 UTC Window:{Duration:15.805s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:234672 scale:-9} d:{Dec:<nil>} s:234672n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:48:15.552275       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:234672 scale:-9} d:{Dec:<nil>} s:234672n Format:DecimalSI}, 1
I0412 17:48:15.552330       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:03 +0000 UTC Window:{Duration:15.855s} Containers:[{Name:updater Usage:map[cpu:{i:{value:43014 scale:-9} d:{Dec:<nil>} s:43014n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:48:15.552348       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:43014 scale:-9} d:{Dec:<nil>} s:43014n Format:DecimalSI}, 1
I0412 17:48:15.552405       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:48:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:05 +0000 UTC Window:{Duration:15.652s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:936940 scale:-9} d:{Dec:<nil>} s:936940n Format:DecimalSI} memory:{i:{value:55971840 scale:0} d:{Dec:<nil>} s:54660Ki Format:BinarySI}]}]}
I0412 17:48:15.552425       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:936940 scale:-9} d:{Dec:<nil>} s:936940n Format:DecimalSI}, 1
I0412 17:48:15.552565       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:48:15.552591       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:48:15.552687       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:48:15.552737       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:48:15.552824       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 79130798.979\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.753\n100\t0.801:
I0412 17:48:15.552841       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991110 ControlledValues:<nil>}:
I0412 17:48:15.552897       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:48:15.552915       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:48:15.552935       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442035773]
I0412 17:48:15.552953       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:48:15.552969       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1620 memory:893500287]
I0412 17:48:15.552985       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:48:15.569883       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729ec0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729f50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ee1cabba-1f65-41af-9fbe-60887601532f] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002146c0 TLS:0xc0005220b0}
I0412 17:48:15.588873       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089ccf0} GetBody:0x6d9b40 ContentLength:550 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089cd80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ef74811c-7196-45d9-9e76-be1750393343] Cache-Control:[no-cache, private] Content-Length:[1557] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:48:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccd80} ContentLength:1557 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214fc0 TLS:0xc0005220b0}
I0412 17:48:15.589024       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:48:15.589038       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:48:49.557165       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 5 items received
I0412 17:49:15.532697       1 recommender.go:166] Recommender Run
I0412 17:49:15.532741       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:49:15.532777       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:49:15.532931       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:49:15.545745       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0270 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[06c88738-a404-4219-bf20-7c461e4094ed 06c88738-a404-4219-bf20-7c461e4094ed] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364b40 TLS:0xc0005220b0}
I0412 17:49:15.546632       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:49:15.546754       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:10 +0000 UTC Window:{Duration:15.046s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49959524 scale:-9} d:{Dec:<nil>} s:49959524n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 17:49:15.546782       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49959524 scale:-9} d:{Dec:<nil>} s:49959524n Format:DecimalSI}, 50
I0412 17:49:15.546830       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:07 +0000 UTC Window:{Duration:19.26s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49855555 scale:-9} d:{Dec:<nil>} s:49855555n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.546851       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49855555 scale:-9} d:{Dec:<nil>} s:49855555n Format:DecimalSI}, 50
I0412 17:49:15.546907       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:02 +0000 UTC Window:{Duration:11.338s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2242811 scale:-9} d:{Dec:<nil>} s:2242811n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.546923       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2242811 scale:-9} d:{Dec:<nil>} s:2242811n Format:DecimalSI}, 3
I0412 17:49:15.546965       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:00 +0000 UTC Window:{Duration:10.185s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13150024 scale:-9} d:{Dec:<nil>} s:13150024n Format:DecimalSI} memory:{i:{value:167641088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.546972       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13150024 scale:-9} d:{Dec:<nil>} s:13150024n Format:DecimalSI}, 14
I0412 17:49:15.547016       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:00 +0000 UTC Window:{Duration:17.167s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1809285 scale:-9} d:{Dec:<nil>} s:1809285n Format:DecimalSI} memory:{i:{value:15126528 scale:0} d:{Dec:<nil>} s:14772Ki Format:BinarySI}]}]}
I0412 17:49:15.547026       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1809285 scale:-9} d:{Dec:<nil>} s:1809285n Format:DecimalSI}, 2
I0412 17:49:15.547076       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:57 +0000 UTC Window:{Duration:15.251s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:49:15.547092       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:49:15.547100       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:49:15.547136       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:03 +0000 UTC Window:{Duration:19.818s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1488142 scale:-9} d:{Dec:<nil>} s:1488142n Format:DecimalSI} memory:{i:{value:6930432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547149       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1488142 scale:-9} d:{Dec:<nil>} s:1488142n Format:DecimalSI}, 2
I0412 17:49:15.547183       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:03 +0000 UTC Window:{Duration:16.019s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:723578 scale:-9} d:{Dec:<nil>} s:723578n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547197       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:723578 scale:-9} d:{Dec:<nil>} s:723578n Format:DecimalSI}, 1
I0412 17:49:15.547242       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:54 +0000 UTC Window:{Duration:15.619s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2792624 scale:-9} d:{Dec:<nil>} s:2792624n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547261       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2792624 scale:-9} d:{Dec:<nil>} s:2792624n Format:DecimalSI}, 3
I0412 17:49:15.547298       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:48:54 +0000 UTC Window:{Duration:24.882s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:487621 scale:-9} d:{Dec:<nil>} s:487621n Format:DecimalSI} memory:{i:{value:9756672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547315       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:487621 scale:-9} d:{Dec:<nil>} s:487621n Format:DecimalSI}, 1
I0412 17:49:15.547350       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:08 +0000 UTC Window:{Duration:18.816s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:219068 scale:-9} d:{Dec:<nil>} s:219068n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547363       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:219068 scale:-9} d:{Dec:<nil>} s:219068n Format:DecimalSI}, 1
I0412 17:49:15.547396       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:10 +0000 UTC Window:{Duration:27.717s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:859977 scale:-9} d:{Dec:<nil>} s:859977n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547403       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:859977 scale:-9} d:{Dec:<nil>} s:859977n Format:DecimalSI}, 1
I0412 17:49:15.547435       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:02 +0000 UTC Window:{Duration:15.012s} Containers:[{Name:updater Usage:map[cpu:{i:{value:124766 scale:-9} d:{Dec:<nil>} s:124766n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547457       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:124766 scale:-9} d:{Dec:<nil>} s:124766n Format:DecimalSI}, 1
I0412 17:49:15.547502       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:49:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:00 +0000 UTC Window:{Duration:13.344s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1809952 scale:-9} d:{Dec:<nil>} s:1809952n Format:DecimalSI} memory:{i:{value:55492608 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:49:15.547514       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1809952 scale:-9} d:{Dec:<nil>} s:1809952n Format:DecimalSI}, 2
I0412 17:49:15.547690       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:49:15.547708       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:49:15.547818       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:49:15.547878       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:49:15.547956       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 91046941.125\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.753\n100\t0.801:
I0412 17:49:15.547975       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006046d8 ControlledValues:<nil>}:
I0412 17:49:15.548011       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:49:15.548027       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:49:15.548040       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442036282]
I0412 17:49:15.548054       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:49:15.548065       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1619 memory:893225832]
I0412 17:49:15.548073       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:49:15.571864       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf410} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf4a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b70927e1-5c26-4cdb-a052-01864871983e] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ab40 TLS:0xc0005220b0}
I0412 17:49:15.591604       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712bd0} GetBody:0x6d9b40 ContentLength:549 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712c60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ff79b44f-8496-4e2e-8b1f-b110b9f5b6b8] Cache-Control:[no-cache, private] Content-Length:[1556] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:1556 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe5a0 TLS:0xc0005220b0}
I0412 17:49:15.591895       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:49:15.591916       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 17:49:15.591934       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:49:15.591941       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:49:15.592034       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:49:15.600157       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882090 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[460b9f91-2067-4e78-b4d2-8124efb8fed2] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b320 TLS:0xc0005220b0}
I0412 17:49:15.611700       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008827e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cf6440de-e6d3-4062-b4f5-cc54093812e6] Cache-Control:[no-cache, private] Content-Length:[1709] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd800} ContentLength:1709 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c000 TLS:0xc0005220b0}
I0412 17:49:15.628191       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882e10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6e74eaf3-9827-46b3-afb7-901ec5096d40] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cdb00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c6c0 TLS:0xc0005220b0}
I0412 17:49:15.633927       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008833e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[68d0c1fa-dba3-4a83-9628-bdbca45c2fcb] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cdc80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086cea0 TLS:0xc0005220b0}
I0412 17:49:15.645203       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883d40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7aa3ae57-2b26-4fa0-b859-fa6d809f1203] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cde00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d440 TLS:0xc0005220b0}
I0412 17:49:15.653947       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746720 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[54b017ba-073c-4cf2-a78c-7abf029fdac6] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:49:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d9e0 TLS:0xc0005220b0}
I0412 17:49:15.654035       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:49:32.396403       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 3 items received
I0412 17:50:15.532750       1 recommender.go:166] Recommender Run
I0412 17:50:15.533187       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:50:15.533257       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:50:15.533375       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:50:15.552312       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0f30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6e977370-f63c-432c-9f6e-00f92899dabf 6e977370-f63c-432c-9f6e-00f92899dabf] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003659e0 TLS:0xc0005220b0}
I0412 17:50:15.553161       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:50:15.553272       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:56 +0000 UTC Window:{Duration:17.714s} Containers:[{Name:workload Usage:map[cpu:{i:{value:44011572 scale:-9} d:{Dec:<nil>} s:44011572n Format:DecimalSI} memory:{i:{value:47902720 scale:0} d:{Dec:<nil>} s:46780Ki Format:BinarySI}]}]}
I0412 17:50:15.553300       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:44011572 scale:-9} d:{Dec:<nil>} s:44011572n Format:DecimalSI}, 45
I0412 17:50:15.553342       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:04 +0000 UTC Window:{Duration:17.073s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49823932 scale:-9} d:{Dec:<nil>} s:49823932n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553356       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49823932 scale:-9} d:{Dec:<nil>} s:49823932n Format:DecimalSI}, 50
I0412 17:50:15.553402       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:00 +0000 UTC Window:{Duration:11.324s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3433062 scale:-9} d:{Dec:<nil>} s:3433062n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3433062 scale:-9} d:{Dec:<nil>} s:3433062n Format:DecimalSI}, 4
I0412 17:50:15.553445       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:10 +0000 UTC Window:{Duration:18.757s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12391373 scale:-9} d:{Dec:<nil>} s:12391373n Format:DecimalSI} memory:{i:{value:167673856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553458       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12391373 scale:-9} d:{Dec:<nil>} s:12391373n Format:DecimalSI}, 13
I0412 17:50:15.553492       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:05 +0000 UTC Window:{Duration:17.905s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1607651 scale:-9} d:{Dec:<nil>} s:1607651n Format:DecimalSI} memory:{i:{value:14626816 scale:0} d:{Dec:<nil>} s:14284Ki Format:BinarySI}]}]}
I0412 17:50:15.553504       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1607651 scale:-9} d:{Dec:<nil>} s:1607651n Format:DecimalSI}, 2
I0412 17:50:15.553539       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:52 +0000 UTC Window:{Duration:15.27s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:50:15.553566       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:50:15.553574       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:50:15.553604       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:00 +0000 UTC Window:{Duration:11.189s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1008132 scale:-9} d:{Dec:<nil>} s:1008132n Format:DecimalSI} memory:{i:{value:6930432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553617       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1008132 scale:-9} d:{Dec:<nil>} s:1008132n Format:DecimalSI}, 2
I0412 17:50:15.553647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:04 +0000 UTC Window:{Duration:12.671s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:385920 scale:-9} d:{Dec:<nil>} s:385920n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:50:15.553661       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:385920 scale:-9} d:{Dec:<nil>} s:385920n Format:DecimalSI}, 1
I0412 17:50:15.553699       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:03 +0000 UTC Window:{Duration:13.129s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2564704 scale:-9} d:{Dec:<nil>} s:2564704n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553713       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2564704 scale:-9} d:{Dec:<nil>} s:2564704n Format:DecimalSI}, 3
I0412 17:50:15.553803       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:03 +0000 UTC Window:{Duration:10.382s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:214698 scale:-9} d:{Dec:<nil>} s:214698n Format:DecimalSI} memory:{i:{value:9756672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553817       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:214698 scale:-9} d:{Dec:<nil>} s:214698n Format:DecimalSI}, 1
I0412 17:50:15.553848       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:49:56 +0000 UTC Window:{Duration:16.978s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:72858 scale:-9} d:{Dec:<nil>} s:72858n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553854       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:72858 scale:-9} d:{Dec:<nil>} s:72858n Format:DecimalSI}, 1
I0412 17:50:15.553883       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:02 +0000 UTC Window:{Duration:14.045s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:188892 scale:-9} d:{Dec:<nil>} s:188892n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553889       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:188892 scale:-9} d:{Dec:<nil>} s:188892n Format:DecimalSI}, 1
I0412 17:50:15.553933       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:04 +0000 UTC Window:{Duration:18.03s} Containers:[{Name:updater Usage:map[cpu:{i:{value:168108 scale:-9} d:{Dec:<nil>} s:168108n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:50:15.553952       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:168108 scale:-9} d:{Dec:<nil>} s:168108n Format:DecimalSI}, 1
I0412 17:50:15.553982       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:50:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:10 +0000 UTC Window:{Duration:18.257s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1598400 scale:-9} d:{Dec:<nil>} s:1598400n Format:DecimalSI} memory:{i:{value:57806848 scale:0} d:{Dec:<nil>} s:56452Ki Format:BinarySI}]}]}
I0412 17:50:15.554000       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1598400 scale:-9} d:{Dec:<nil>} s:1598400n Format:DecimalSI}, 2
I0412 17:50:15.554085       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:50:15.554109       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:50:15.554164       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:50:15.554190       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:50:15.554237       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 104469287.132\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.753\n100\t0.801:
I0412 17:50:15.554253       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841110 ControlledValues:<nil>}:
I0412 17:50:15.554285       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:50:15.554294       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:50:15.554305       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442036704]
I0412 17:50:15.554312       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:50:15.554324       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1619 memory:892998097]
I0412 17:50:15.554331       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:50:15.572406       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762090} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[20e6708e-d454-4889-9a83-3c7fa84fa8eb] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d680 TLS:0xc0005220b0}
I0412 17:50:15.589696       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747c80} GetBody:0x6d9b40 ContentLength:550 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747d10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b0a76d7e-9ab5-4efa-bab6-bd4dae9a8bbb] Cache-Control:[no-cache, private] Content-Length:[1558] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:50:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:1558 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214a20 TLS:0xc0005220b0}
I0412 17:50:15.590047       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:50:15.590080       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:50:35.581956       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 8 items received
I0412 17:51:15.536696       1 recommender.go:166] Recommender Run
I0412 17:51:15.537123       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:51:15.537181       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:51:15.537287       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:51:15.550252       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712a80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[aa976f5f-2127-4040-b705-59ba840c7d92 aa976f5f-2127-4040-b705-59ba840c7d92] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 17:51:15.550853       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:51:15.550976       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:06 +0000 UTC Window:{Duration:18.626s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749050467 scale:-9} d:{Dec:<nil>} s:749050467n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.550996       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749050467 scale:-9} d:{Dec:<nil>} s:749050467n Format:DecimalSI}, 750
I0412 17:51:15.551030       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:07 +0000 UTC Window:{Duration:13.346s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49935336 scale:-9} d:{Dec:<nil>} s:49935336n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551043       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49935336 scale:-9} d:{Dec:<nil>} s:49935336n Format:DecimalSI}, 50
I0412 17:51:15.551089       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:07 +0000 UTC Window:{Duration:10.174s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2084234 scale:-9} d:{Dec:<nil>} s:2084234n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551105       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2084234 scale:-9} d:{Dec:<nil>} s:2084234n Format:DecimalSI}, 3
I0412 17:51:15.551136       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:11 +0000 UTC Window:{Duration:15.939s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11269715 scale:-9} d:{Dec:<nil>} s:11269715n Format:DecimalSI} memory:{i:{value:167673856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551145       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11269715 scale:-9} d:{Dec:<nil>} s:11269715n Format:DecimalSI}, 12
I0412 17:51:15.551173       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:53 +0000 UTC Window:{Duration:16.19s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1674613 scale:-9} d:{Dec:<nil>} s:1674613n Format:DecimalSI} memory:{i:{value:14667776 scale:0} d:{Dec:<nil>} s:14324Ki Format:BinarySI}]}]}
I0412 17:51:15.551184       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1674613 scale:-9} d:{Dec:<nil>} s:1674613n Format:DecimalSI}, 2
I0412 17:51:15.551232       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:55 +0000 UTC Window:{Duration:25.01s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:10075 scale:-9} d:{Dec:<nil>} s:10075n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:51:15.551251       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:51:15.551257       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10075 scale:-9} d:{Dec:<nil>} s:10075n Format:DecimalSI}, 1
I0412 17:51:15.551303       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:01 +0000 UTC Window:{Duration:13.438s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1620851 scale:-9} d:{Dec:<nil>} s:1620851n Format:DecimalSI} memory:{i:{value:7106560 scale:0} d:{Dec:<nil>} s:6940Ki Format:BinarySI}]}]}
I0412 17:51:15.551314       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1620851 scale:-9} d:{Dec:<nil>} s:1620851n Format:DecimalSI}, 2
I0412 17:51:15.551346       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:02 +0000 UTC Window:{Duration:15.557s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:626791 scale:-9} d:{Dec:<nil>} s:626791n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:51:15.551355       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:626791 scale:-9} d:{Dec:<nil>} s:626791n Format:DecimalSI}, 1
I0412 17:51:15.551384       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:01 +0000 UTC Window:{Duration:10.19s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3369774 scale:-9} d:{Dec:<nil>} s:3369774n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551400       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3369774 scale:-9} d:{Dec:<nil>} s:3369774n Format:DecimalSI}, 4
I0412 17:51:15.551430       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:01 +0000 UTC Window:{Duration:17.689s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:207247 scale:-9} d:{Dec:<nil>} s:207247n Format:DecimalSI} memory:{i:{value:9756672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551438       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:207247 scale:-9} d:{Dec:<nil>} s:207247n Format:DecimalSI}, 1
I0412 17:51:15.551468       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:59 +0000 UTC Window:{Duration:10.931s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:86176 scale:-9} d:{Dec:<nil>} s:86176n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551479       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:86176 scale:-9} d:{Dec:<nil>} s:86176n Format:DecimalSI}, 1
I0412 17:51:15.551517       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:10 +0000 UTC Window:{Duration:15.91s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:25895 scale:-9} d:{Dec:<nil>} s:25895n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551526       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:25895 scale:-9} d:{Dec:<nil>} s:25895n Format:DecimalSI}, 1
I0412 17:51:15.551555       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:57 +0000 UTC Window:{Duration:14.014s} Containers:[{Name:updater Usage:map[cpu:{i:{value:172827 scale:-9} d:{Dec:<nil>} s:172827n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:51:15.551565       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:172827 scale:-9} d:{Dec:<nil>} s:172827n Format:DecimalSI}, 1
I0412 17:51:15.551595       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:51:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:50:59 +0000 UTC Window:{Duration:12.062s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1334770 scale:-9} d:{Dec:<nil>} s:1334770n Format:DecimalSI} memory:{i:{value:57978880 scale:0} d:{Dec:<nil>} s:56620Ki Format:BinarySI}]}]}
I0412 17:51:15.551603       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1334770 scale:-9} d:{Dec:<nil>} s:1334770n Format:DecimalSI}, 2
I0412 17:51:15.551750       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:51:15.551762       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:51:15.551815       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:51:15.551845       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:51:15.551887       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 120120157.288\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:51:15.551900       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451a40 ControlledValues:<nil>}:
I0412 17:51:15.551947       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:51:15.551988       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:51:15.551999       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442037196]
I0412 17:51:15.552004       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:51:15.552009       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1618 memory:892732721]
I0412 17:51:15.552013       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:51:15.574960       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d9b0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089da40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[72b78a01-93dd-43a8-b360-8c5b6e355d96] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215320 TLS:0xc0005220b0}
I0412 17:51:15.597808       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be3c0} GetBody:0x6d9b40 ContentLength:551 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be450 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b4627d84-6045-4b2e-9090-de35a47f6992] Cache-Control:[no-cache, private] Content-Length:[1559] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:51:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:1559 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 17:51:15.598832       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:51:15.598850       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:51:55.322509       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 7 items received
I0412 17:52:15.532833       1 recommender.go:166] Recommender Run
I0412 17:52:15.533263       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:52:15.533387       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:52:15.536856       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:52:15.551947       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf020 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[345f1c5b-eef5-4d87-a2cd-a0e98ab69168 345f1c5b-eef5-4d87-a2cd-a0e98ab69168] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cea0 TLS:0xc0005220b0}
I0412 17:52:15.553565       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:52:15.553742       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:57 +0000 UTC Window:{Duration:14.671s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751392611 scale:-9} d:{Dec:<nil>} s:751392611n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.553798       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751392611 scale:-9} d:{Dec:<nil>} s:751392611n Format:DecimalSI}, 752
I0412 17:52:15.553953       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:04 +0000 UTC Window:{Duration:14.28s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50178361 scale:-9} d:{Dec:<nil>} s:50178361n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.553983       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50178361 scale:-9} d:{Dec:<nil>} s:50178361n Format:DecimalSI}, 51
I0412 17:52:15.554085       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:07 +0000 UTC Window:{Duration:10.993s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2474756 scale:-9} d:{Dec:<nil>} s:2474756n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.554176       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2474756 scale:-9} d:{Dec:<nil>} s:2474756n Format:DecimalSI}, 3
I0412 17:52:15.554380       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:10 +0000 UTC Window:{Duration:23.827s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11540101 scale:-9} d:{Dec:<nil>} s:11540101n Format:DecimalSI} memory:{i:{value:167743488 scale:0} d:{Dec:<nil>} s:163812Ki Format:BinarySI}]}]}
I0412 17:52:15.554465       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11540101 scale:-9} d:{Dec:<nil>} s:11540101n Format:DecimalSI}, 12
I0412 17:52:15.554545       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:10 +0000 UTC Window:{Duration:13.212s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2008628 scale:-9} d:{Dec:<nil>} s:2008628n Format:DecimalSI} memory:{i:{value:14794752 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.554572       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2008628 scale:-9} d:{Dec:<nil>} s:2008628n Format:DecimalSI}, 3
I0412 17:52:15.554655       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:53 +0000 UTC Window:{Duration:12.25s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:52:15.554713       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:52:15.554732       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:52:15.554809       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:58 +0000 UTC Window:{Duration:17.991s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:923628 scale:-9} d:{Dec:<nil>} s:923628n Format:DecimalSI} memory:{i:{value:7319552 scale:0} d:{Dec:<nil>} s:7148Ki Format:BinarySI}]}]}
I0412 17:52:15.554835       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:923628 scale:-9} d:{Dec:<nil>} s:923628n Format:DecimalSI}, 1
I0412 17:52:15.554938       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:06 +0000 UTC Window:{Duration:10.947s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:856033 scale:-9} d:{Dec:<nil>} s:856033n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:52:15.554973       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:856033 scale:-9} d:{Dec:<nil>} s:856033n Format:DecimalSI}, 1
I0412 17:52:15.555065       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:59 +0000 UTC Window:{Duration:12.582s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4935701 scale:-9} d:{Dec:<nil>} s:4935701n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.555091       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4935701 scale:-9} d:{Dec:<nil>} s:4935701n Format:DecimalSI}, 5
I0412 17:52:15.555163       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:04 +0000 UTC Window:{Duration:14.407s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:160130 scale:-9} d:{Dec:<nil>} s:160130n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:52:15.555191       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:160130 scale:-9} d:{Dec:<nil>} s:160130n Format:DecimalSI}, 1
I0412 17:52:15.555308       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:02 +0000 UTC Window:{Duration:17.546s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:93924 scale:-9} d:{Dec:<nil>} s:93924n Format:DecimalSI} memory:{i:{value:11579392 scale:0} d:{Dec:<nil>} s:11308Ki Format:BinarySI}]}]}
I0412 17:52:15.555344       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:93924 scale:-9} d:{Dec:<nil>} s:93924n Format:DecimalSI}, 1
I0412 17:52:15.555413       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:00 +0000 UTC Window:{Duration:17.699s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:389400 scale:-9} d:{Dec:<nil>} s:389400n Format:DecimalSI} memory:{i:{value:11108352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.555442       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:389400 scale:-9} d:{Dec:<nil>} s:389400n Format:DecimalSI}, 1
I0412 17:52:15.555515       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:09 +0000 UTC Window:{Duration:17.654s} Containers:[{Name:updater Usage:map[cpu:{i:{value:60949 scale:-9} d:{Dec:<nil>} s:60949n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.555542       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:60949 scale:-9} d:{Dec:<nil>} s:60949n Format:DecimalSI}, 1
I0412 17:52:15.555630       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:52:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:51:55 +0000 UTC Window:{Duration:26.3s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1603802 scale:-9} d:{Dec:<nil>} s:1603802n Format:DecimalSI} memory:{i:{value:58261504 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:52:15.555662       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1603802 scale:-9} d:{Dec:<nil>} s:1603802n Format:DecimalSI}, 2
I0412 17:52:15.556105       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:52:15.556158       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:52:15.556292       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:52:15.556385       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:52:15.556522       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 137851343.797\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:52:15.556554       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450468 ControlledValues:<nil>}:
I0412 17:52:15.556604       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:52:15.556659       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:52:15.556681       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442037641]
I0412 17:52:15.556699       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:52:15.556713       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1618 memory:892492910]
I0412 17:52:15.556726       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:52:15.576549       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0750} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e07e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[691e0244-437b-44e8-af27-344ce5e4a383] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c000 TLS:0xc0005220b0}
I0412 17:52:15.584111       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728270} GetBody:0x6d9b40 ContentLength:551 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728300 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8cb9299c-0cca-4cd7-a7ef-0f634b0fc48f] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7200 TLS:0xc0005220b0}
I0412 17:52:15.601686       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000728bd0} GetBody:0x6d9b40 ContentLength:733 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728c60 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5918c4bd-768f-4f91-bc3b-a0dfe99309e8] Cache-Control:[no-cache, private] Content-Length:[1558] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:52:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:1558 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7c20 TLS:0xc0005220b0}
I0412 17:52:15.602563       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:52:15.602593       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:53:15.536729       1 recommender.go:166] Recommender Run
I0412 17:53:15.537078       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:53:15.537213       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:53:15.537407       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:53:15.552911       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be570 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[34141457-1cfb-43b7-88cc-1616b37cc5af 34141457-1cfb-43b7-88cc-1616b37cc5af] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b67e0 TLS:0xc0005220b0}
I0412 17:53:15.553457       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:53:15.553529       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:08 +0000 UTC Window:{Duration:17.369s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750689389 scale:-9} d:{Dec:<nil>} s:750689389n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553552       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750689389 scale:-9} d:{Dec:<nil>} s:750689389n Format:DecimalSI}, 751
I0412 17:53:15.553579       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:03 +0000 UTC Window:{Duration:12.68s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49799921 scale:-9} d:{Dec:<nil>} s:49799921n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553591       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49799921 scale:-9} d:{Dec:<nil>} s:49799921n Format:DecimalSI}, 50
I0412 17:53:15.553613       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:11 +0000 UTC Window:{Duration:19.357s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2060598 scale:-9} d:{Dec:<nil>} s:2060598n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553618       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2060598 scale:-9} d:{Dec:<nil>} s:2060598n Format:DecimalSI}, 3
I0412 17:53:15.553645       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:06 +0000 UTC Window:{Duration:15.26s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11525229 scale:-9} d:{Dec:<nil>} s:11525229n Format:DecimalSI} memory:{i:{value:167628800 scale:0} d:{Dec:<nil>} s:163700Ki Format:BinarySI}]}]}
I0412 17:53:15.553664       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11525229 scale:-9} d:{Dec:<nil>} s:11525229n Format:DecimalSI}, 12
I0412 17:53:15.553683       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:10 +0000 UTC Window:{Duration:15.345s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2036363 scale:-9} d:{Dec:<nil>} s:2036363n Format:DecimalSI} memory:{i:{value:14643200 scale:0} d:{Dec:<nil>} s:14300Ki Format:BinarySI}]}]}
I0412 17:53:15.553690       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2036363 scale:-9} d:{Dec:<nil>} s:2036363n Format:DecimalSI}, 3
I0412 17:53:15.553711       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:55 +0000 UTC Window:{Duration:23.67s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:2661 scale:-9} d:{Dec:<nil>} s:2661n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:53:15.553718       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2661 scale:-9} d:{Dec:<nil>} s:2661n Format:DecimalSI}, 1
I0412 17:53:15.553722       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:53:15.553740       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:12 +0000 UTC Window:{Duration:19.331s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1637163 scale:-9} d:{Dec:<nil>} s:1637163n Format:DecimalSI} memory:{i:{value:7032832 scale:0} d:{Dec:<nil>} s:6868Ki Format:BinarySI}]}]}
I0412 17:53:15.553744       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1637163 scale:-9} d:{Dec:<nil>} s:1637163n Format:DecimalSI}, 2
I0412 17:53:15.553762       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:00 +0000 UTC Window:{Duration:14.21s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:951090 scale:-9} d:{Dec:<nil>} s:951090n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553773       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:951090 scale:-9} d:{Dec:<nil>} s:951090n Format:DecimalSI}, 1
I0412 17:53:15.553795       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:01 +0000 UTC Window:{Duration:18.819s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3279717 scale:-9} d:{Dec:<nil>} s:3279717n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553803       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3279717 scale:-9} d:{Dec:<nil>} s:3279717n Format:DecimalSI}, 4
I0412 17:53:15.553820       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:04 +0000 UTC Window:{Duration:16.019s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:176540 scale:-9} d:{Dec:<nil>} s:176540n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:53:15.553827       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:176540 scale:-9} d:{Dec:<nil>} s:176540n Format:DecimalSI}, 1
I0412 17:53:15.553846       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:09 +0000 UTC Window:{Duration:15.824s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:123420 scale:-9} d:{Dec:<nil>} s:123420n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553849       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:123420 scale:-9} d:{Dec:<nil>} s:123420n Format:DecimalSI}, 1
I0412 17:53:15.553866       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:58 +0000 UTC Window:{Duration:14.955s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:780407 scale:-9} d:{Dec:<nil>} s:780407n Format:DecimalSI} memory:{i:{value:11112448 scale:0} d:{Dec:<nil>} s:10852Ki Format:BinarySI}]}]}
I0412 17:53:15.553874       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:780407 scale:-9} d:{Dec:<nil>} s:780407n Format:DecimalSI}, 1
I0412 17:53:15.553891       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:11 +0000 UTC Window:{Duration:28.153s} Containers:[{Name:updater Usage:map[cpu:{i:{value:165524 scale:-9} d:{Dec:<nil>} s:165524n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553905       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:165524 scale:-9} d:{Dec:<nil>} s:165524n Format:DecimalSI}, 1
I0412 17:53:15.553924       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:53:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:52:54 +0000 UTC Window:{Duration:30.211s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1473205 scale:-9} d:{Dec:<nil>} s:1473205n Format:DecimalSI} memory:{i:{value:55304192 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:53:15.553928       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1473205 scale:-9} d:{Dec:<nil>} s:1473205n Format:DecimalSI}, 2
I0412 17:53:15.554050       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:53:15.554065       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:53:15.554099       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:53:15.554137       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:53:15.554179       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 158455460.857\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:53:15.554191       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605560 ControlledValues:<nil>}:
I0412 17:53:15.554216       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:53:15.554222       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:53:15.554228       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442038140]
I0412 17:53:15.554237       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:53:15.554243       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1617 memory:892223978]
I0412 17:53:15.554252       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:53:15.573274       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e14a0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1560 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dcfd8835-9057-4e7c-a92d-98a461b5e161] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d9e0 TLS:0xc0005220b0}
I0412 17:53:15.589426       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712a50} GetBody:0x6d9b40 ContentLength:551 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712ae0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[749910b9-313a-4603-8392-0aeac0fc29f7] Cache-Control:[no-cache, private] Content-Length:[1558] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:53:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:1558 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c7e0 TLS:0xc0005220b0}
I0412 17:53:15.589670       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:53:15.589690       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:54:15.536826       1 recommender.go:166] Recommender Run
I0412 17:54:15.537453       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:54:15.537686       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:54:15.538122       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:54:15.553652       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf7d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[51b70124-4c96-47b8-aab6-3bb3d8044433 51b70124-4c96-47b8-aab6-3bb3d8044433] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b77a0 TLS:0xc0005220b0}
I0412 17:54:15.555045       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:54:15.555225       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:53 +0000 UTC Window:{Duration:27.313s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750254970 scale:-9} d:{Dec:<nil>} s:750254970n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:54:15.555309       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750254970 scale:-9} d:{Dec:<nil>} s:750254970n Format:DecimalSI}, 751
I0412 17:54:15.555411       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:57 +0000 UTC Window:{Duration:11.581s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50036870 scale:-9} d:{Dec:<nil>} s:50036870n Format:DecimalSI} memory:{i:{value:30433280 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:54:15.555423       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50036870 scale:-9} d:{Dec:<nil>} s:50036870n Format:DecimalSI}, 51
I0412 17:54:15.555510       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:04 +0000 UTC Window:{Duration:12.83s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3152844 scale:-9} d:{Dec:<nil>} s:3152844n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:54:15.555521       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3152844 scale:-9} d:{Dec:<nil>} s:3152844n Format:DecimalSI}, 4
I0412 17:54:15.555585       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:11 +0000 UTC Window:{Duration:17.427s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9728639 scale:-9} d:{Dec:<nil>} s:9728639n Format:DecimalSI} memory:{i:{value:167710720 scale:0} d:{Dec:<nil>} s:163780Ki Format:BinarySI}]}]}
I0412 17:54:15.555596       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9728639 scale:-9} d:{Dec:<nil>} s:9728639n Format:DecimalSI}, 10
I0412 17:54:15.555659       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:06 +0000 UTC Window:{Duration:13.992s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1506718 scale:-9} d:{Dec:<nil>} s:1506718n Format:DecimalSI} memory:{i:{value:14635008 scale:0} d:{Dec:<nil>} s:14292Ki Format:BinarySI}]}]}
I0412 17:54:15.555674       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1506718 scale:-9} d:{Dec:<nil>} s:1506718n Format:DecimalSI}, 2
I0412 17:54:15.555716       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:01 +0000 UTC Window:{Duration:17.624s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:54:15.555748       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:54:15.555757       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:54:15.555796       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:11 +0000 UTC Window:{Duration:25.69s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1040521 scale:-9} d:{Dec:<nil>} s:1040521n Format:DecimalSI} memory:{i:{value:7041024 scale:0} d:{Dec:<nil>} s:6876Ki Format:BinarySI}]}]}
I0412 17:54:15.555813       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1040521 scale:-9} d:{Dec:<nil>} s:1040521n Format:DecimalSI}, 2
I0412 17:54:15.555849       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:05 +0000 UTC Window:{Duration:10.562s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1001988 scale:-9} d:{Dec:<nil>} s:1001988n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 17:54:15.555888       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1001988 scale:-9} d:{Dec:<nil>} s:1001988n Format:DecimalSI}, 2
I0412 17:54:15.555934       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:02 +0000 UTC Window:{Duration:19.836s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3369983 scale:-9} d:{Dec:<nil>} s:3369983n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:54:15.555951       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3369983 scale:-9} d:{Dec:<nil>} s:3369983n Format:DecimalSI}, 4
I0412 17:54:15.555986       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:57 +0000 UTC Window:{Duration:16.803s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1137832 scale:-9} d:{Dec:<nil>} s:1137832n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:54:15.556007       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1137832 scale:-9} d:{Dec:<nil>} s:1137832n Format:DecimalSI}, 2
I0412 17:54:15.556040       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:06 +0000 UTC Window:{Duration:18.454s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:457461 scale:-9} d:{Dec:<nil>} s:457461n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:54:15.556047       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:457461 scale:-9} d:{Dec:<nil>} s:457461n Format:DecimalSI}, 1
I0412 17:54:15.556082       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:06 +0000 UTC Window:{Duration:11.43s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:120297 scale:-9} d:{Dec:<nil>} s:120297n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:54:15.556095       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:120297 scale:-9} d:{Dec:<nil>} s:120297n Format:DecimalSI}, 1
I0412 17:54:15.556129       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:09 +0000 UTC Window:{Duration:24.228s} Containers:[{Name:updater Usage:map[cpu:{i:{value:131830 scale:-9} d:{Dec:<nil>} s:131830n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:54:15.556136       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:131830 scale:-9} d:{Dec:<nil>} s:131830n Format:DecimalSI}, 1
I0412 17:54:15.556168       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:54:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:53:55 +0000 UTC Window:{Duration:16.292s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1792720 scale:-9} d:{Dec:<nil>} s:1792720n Format:DecimalSI} memory:{i:{value:55357440 scale:0} d:{Dec:<nil>} s:54060Ki Format:BinarySI}]}]}
I0412 17:54:15.556206       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1792720 scale:-9} d:{Dec:<nil>} s:1792720n Format:DecimalSI}, 2
I0412 17:54:15.556519       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:54:15.556553       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:54:15.556660       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:54:15.556738       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:54:15.556894       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 181555959.240\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:54:15.556918       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006045e8 ControlledValues:<nil>}:
I0412 17:54:15.556970       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:54:15.556982       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:54:15.556994       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442038521]
I0412 17:54:15.557003       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:54:15.557014       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1617 memory:892018312]
I0412 17:54:15.557027       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:54:15.576240       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089dce0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089dd70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c33bd7da-f7ea-420b-879f-dfc9316b132a] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe5a0 TLS:0xc0005220b0}
I0412 17:54:15.587955       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008821b0} GetBody:0x6d9b40 ContentLength:550 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882240 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4f2a695c-b291-43c2-9443-ce7ef60700cc] Cache-Control:[no-cache, private] Content-Length:[1557] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:54:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:1557 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214240 TLS:0xc0005220b0}
I0412 17:54:15.588276       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:54:15.588306       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:54:35.112572       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 5 items received
I0412 17:54:39.979664       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 5 items received
I0412 17:55:15.532782       1 recommender.go:166] Recommender Run
I0412 17:55:15.536708       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:55:15.536995       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:55:15.537324       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:55:15.568274       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762ba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f69398ad-6de4-401f-94a8-4fdd4f8f5467 f69398ad-6de4-401f-94a8-4fdd4f8f5467] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff560 TLS:0xc0005220b0}
I0412 17:55:15.569029       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:55:15.569099       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:10 +0000 UTC Window:{Duration:18.227s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749597190 scale:-9} d:{Dec:<nil>} s:749597190n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569116       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749597190 scale:-9} d:{Dec:<nil>} s:749597190n Format:DecimalSI}, 750
I0412 17:55:15.569142       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:09 +0000 UTC Window:{Duration:13.306s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749467232 scale:-9} d:{Dec:<nil>} s:749467232n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 17:55:15.569147       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749467232 scale:-9} d:{Dec:<nil>} s:749467232n Format:DecimalSI}, 750
I0412 17:55:15.569174       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:53 +0000 UTC Window:{Duration:14.172s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2100409 scale:-9} d:{Dec:<nil>} s:2100409n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569178       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2100409 scale:-9} d:{Dec:<nil>} s:2100409n Format:DecimalSI}, 3
I0412 17:55:15.569199       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:00 +0000 UTC Window:{Duration:15.645s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10652988 scale:-9} d:{Dec:<nil>} s:10652988n Format:DecimalSI} memory:{i:{value:167710720 scale:0} d:{Dec:<nil>} s:163780Ki Format:BinarySI}]}]}
I0412 17:55:15.569211       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10652988 scale:-9} d:{Dec:<nil>} s:10652988n Format:DecimalSI}, 11
I0412 17:55:15.569230       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:03 +0000 UTC Window:{Duration:13.145s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1572232 scale:-9} d:{Dec:<nil>} s:1572232n Format:DecimalSI} memory:{i:{value:14778368 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569242       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1572232 scale:-9} d:{Dec:<nil>} s:1572232n Format:DecimalSI}, 2
I0412 17:55:15.569263       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:54:47 +0000 UTC Window:{Duration:11.246s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:55:15.569270       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:55:15.569275       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:55:15.569292       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:10 +0000 UTC Window:{Duration:18.783s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1292658 scale:-9} d:{Dec:<nil>} s:1292658n Format:DecimalSI} memory:{i:{value:6938624 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569302       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1292658 scale:-9} d:{Dec:<nil>} s:1292658n Format:DecimalSI}, 2
I0412 17:55:15.569321       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:11 +0000 UTC Window:{Duration:25.557s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:426536 scale:-9} d:{Dec:<nil>} s:426536n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569328       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:426536 scale:-9} d:{Dec:<nil>} s:426536n Format:DecimalSI}, 1
I0412 17:55:15.569345       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:06 +0000 UTC Window:{Duration:13.138s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:1895189 scale:-9} d:{Dec:<nil>} s:1895189n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569352       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1895189 scale:-9} d:{Dec:<nil>} s:1895189n Format:DecimalSI}, 2
I0412 17:55:15.569369       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:10 +0000 UTC Window:{Duration:22.755s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:376312 scale:-9} d:{Dec:<nil>} s:376312n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:55:15.569383       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:376312 scale:-9} d:{Dec:<nil>} s:376312n Format:DecimalSI}, 1
I0412 17:55:15.569407       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:09 +0000 UTC Window:{Duration:23.232s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:576919 scale:-9} d:{Dec:<nil>} s:576919n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569414       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:576919 scale:-9} d:{Dec:<nil>} s:576919n Format:DecimalSI}, 1
I0412 17:55:15.569431       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:03 +0000 UTC Window:{Duration:13.025s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:797159 scale:-9} d:{Dec:<nil>} s:797159n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569439       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:797159 scale:-9} d:{Dec:<nil>} s:797159n Format:DecimalSI}, 1
I0412 17:55:15.569457       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:00 +0000 UTC Window:{Duration:17.753s} Containers:[{Name:updater Usage:map[cpu:{i:{value:139582 scale:-9} d:{Dec:<nil>} s:139582n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569461       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:139582 scale:-9} d:{Dec:<nil>} s:139582n Format:DecimalSI}, 1
I0412 17:55:15.569478       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:55:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:03 +0000 UTC Window:{Duration:17.801s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1703949 scale:-9} d:{Dec:<nil>} s:1703949n Format:DecimalSI} memory:{i:{value:56483840 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:55:15.569497       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1703949 scale:-9} d:{Dec:<nil>} s:1703949n Format:DecimalSI}, 2
I0412 17:55:15.569606       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:55:15.569618       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:55:15.569648       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:55:15.569681       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:55:15.569724       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 208995243.885\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:55:15.569738       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605cb0 ControlledValues:<nil>}:
I0412 17:55:15.569759       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:55:15.569765       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:55:15.569771       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442039088]
I0412 17:55:15.569775       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:55:15.569782       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1617 memory:891712288]
I0412 17:55:15.569785       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:55:15.628966       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728a80} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728b10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[43dfb584-0677-48e6-a0d8-e2574e7e0d12] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214240 TLS:0xc0005220b0}
I0412 17:55:15.656872       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712b40} GetBody:0x6d9b40 ContentLength:549 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712bd0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[08ae5a6b-0b04-44c2-888b-2c20851817fa] Cache-Control:[no-cache, private] Content-Length:[1556] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:55:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:1556 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086c6c0 TLS:0xc0005220b0}
I0412 17:55:15.657115       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:55:15.657139       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:56:03.785107       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 17 items received
I0412 17:56:15.532702       1 recommender.go:166] Recommender Run
I0412 17:56:15.532813       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:56:15.532850       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:56:15.533077       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:56:15.563167       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d7a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a5cdaa68-958c-4225-b03e-02d4d9bbebd4 a5cdaa68-958c-4225-b03e-02d4d9bbebd4] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214fc0 TLS:0xc0005220b0}
I0412 17:56:15.563695       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:56:15.563774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:57 +0000 UTC Window:{Duration:16.251s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749965479 scale:-9} d:{Dec:<nil>} s:749965479n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.563792       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749965479 scale:-9} d:{Dec:<nil>} s:749965479n Format:DecimalSI}, 750
I0412 17:56:15.563812       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:54 +0000 UTC Window:{Duration:18.727s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749650664 scale:-9} d:{Dec:<nil>} s:749650664n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 17:56:15.563818       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749650664 scale:-9} d:{Dec:<nil>} s:749650664n Format:DecimalSI}, 750
I0412 17:56:15.563840       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:05 +0000 UTC Window:{Duration:14.967s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3248947 scale:-9} d:{Dec:<nil>} s:3248947n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.563846       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3248947 scale:-9} d:{Dec:<nil>} s:3248947n Format:DecimalSI}, 4
I0412 17:56:15.563865       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:08 +0000 UTC Window:{Duration:19.499s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11364890 scale:-9} d:{Dec:<nil>} s:11364890n Format:DecimalSI} memory:{i:{value:167759872 scale:0} d:{Dec:<nil>} s:163828Ki Format:BinarySI}]}]}
I0412 17:56:15.563873       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11364890 scale:-9} d:{Dec:<nil>} s:11364890n Format:DecimalSI}, 12
I0412 17:56:15.563887       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:08 +0000 UTC Window:{Duration:16.935s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1699793 scale:-9} d:{Dec:<nil>} s:1699793n Format:DecimalSI} memory:{i:{value:14934016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.563893       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1699793 scale:-9} d:{Dec:<nil>} s:1699793n Format:DecimalSI}, 2
I0412 17:56:15.563915       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:46 +0000 UTC Window:{Duration:11.907s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:56:15.563924       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:56:15.563928       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:56:15.563944       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:09 +0000 UTC Window:{Duration:21.492s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1086590 scale:-9} d:{Dec:<nil>} s:1086590n Format:DecimalSI} memory:{i:{value:6979584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.563975       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1086590 scale:-9} d:{Dec:<nil>} s:1086590n Format:DecimalSI}, 2
I0412 17:56:15.564001       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:06 +0000 UTC Window:{Duration:19.998s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:310131 scale:-9} d:{Dec:<nil>} s:310131n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 17:56:15.564007       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:310131 scale:-9} d:{Dec:<nil>} s:310131n Format:DecimalSI}, 1
I0412 17:56:15.564023       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:09 +0000 UTC Window:{Duration:30.677s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2532646 scale:-9} d:{Dec:<nil>} s:2532646n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.564028       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2532646 scale:-9} d:{Dec:<nil>} s:2532646n Format:DecimalSI}, 3
I0412 17:56:15.564042       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:00 +0000 UTC Window:{Duration:15.277s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:873862 scale:-9} d:{Dec:<nil>} s:873862n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:56:15.564045       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:873862 scale:-9} d:{Dec:<nil>} s:873862n Format:DecimalSI}, 1
I0412 17:56:15.564060       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:55:57 +0000 UTC Window:{Duration:11.915s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:184473 scale:-9} d:{Dec:<nil>} s:184473n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.564097       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:184473 scale:-9} d:{Dec:<nil>} s:184473n Format:DecimalSI}, 1
I0412 17:56:15.564129       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:04 +0000 UTC Window:{Duration:17.971s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:166879 scale:-9} d:{Dec:<nil>} s:166879n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.564132       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:166879 scale:-9} d:{Dec:<nil>} s:166879n Format:DecimalSI}, 1
I0412 17:56:15.564147       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:10 +0000 UTC Window:{Duration:17.538s} Containers:[{Name:updater Usage:map[cpu:{i:{value:29706 scale:-9} d:{Dec:<nil>} s:29706n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.564152       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:29706 scale:-9} d:{Dec:<nil>} s:29706n Format:DecimalSI}, 1
I0412 17:56:15.564167       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:56:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:09 +0000 UTC Window:{Duration:16.899s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1726196 scale:-9} d:{Dec:<nil>} s:1726196n Format:DecimalSI} memory:{i:{value:59006976 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:56:15.564180       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1726196 scale:-9} d:{Dec:<nil>} s:1726196n Format:DecimalSI}, 2
I0412 17:56:15.564307       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:56:15.564324       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:56:15.564360       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:56:15.564386       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:56:15.564439       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 239511625.415\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:56:15.564449       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0004514b8 ControlledValues:<nil>}:
I0412 17:56:15.564465       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:56:15.564472       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:56:15.564478       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442039453]
I0412 17:56:15.564482       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:56:15.564486       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1616 memory:891515497]
I0412 17:56:15.564492       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:56:15.593553       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be360} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be3f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[67ce4ec2-8bde-4358-a959-eb0bdc2520a2] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7c20 TLS:0xc0005220b0}
I0412 17:56:15.617583       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713890} GetBody:0x6d9b40 ContentLength:549 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713920 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[631b4bd9-740d-4e92-902d-70dc8ae5afb0] Cache-Control:[no-cache, private] Content-Length:[1556] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:56:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:1556 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00086d0e0 TLS:0xc0005220b0}
I0412 17:56:15.617856       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:56:15.617880       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:56:18.202787       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 3 items received
I0412 17:56:19.863980       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 4 items received
I0412 17:57:15.532807       1 recommender.go:166] Recommender Run
I0412 17:57:15.532945       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:57:15.532974       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:57:15.533157       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:57:15.562017       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e06c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3b56e8a1-9194-4cef-8bea-8d129a87780a 3b56e8a1-9194-4cef-8bea-8d129a87780a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 17:57:15.562661       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:57:15.562755       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:11 +0000 UTC Window:{Duration:25.658s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750061345 scale:-9} d:{Dec:<nil>} s:750061345n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.562776       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750061345 scale:-9} d:{Dec:<nil>} s:750061345n Format:DecimalSI}, 751
I0412 17:57:15.562820       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:00 +0000 UTC Window:{Duration:14.403s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750340484 scale:-9} d:{Dec:<nil>} s:750340484n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 17:57:15.562890       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750340484 scale:-9} d:{Dec:<nil>} s:750340484n Format:DecimalSI}, 751
I0412 17:57:15.563000       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:05 +0000 UTC Window:{Duration:17.141s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2037745 scale:-9} d:{Dec:<nil>} s:2037745n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.563016       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2037745 scale:-9} d:{Dec:<nil>} s:2037745n Format:DecimalSI}, 3
I0412 17:57:15.563051       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:59 +0000 UTC Window:{Duration:17.671s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10807368 scale:-9} d:{Dec:<nil>} s:10807368n Format:DecimalSI} memory:{i:{value:167768064 scale:0} d:{Dec:<nil>} s:163836Ki Format:BinarySI}]}]}
I0412 17:57:15.563078       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10807368 scale:-9} d:{Dec:<nil>} s:10807368n Format:DecimalSI}, 11
I0412 17:57:15.563107       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:56 +0000 UTC Window:{Duration:19.067s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2075208 scale:-9} d:{Dec:<nil>} s:2075208n Format:DecimalSI} memory:{i:{value:14626816 scale:0} d:{Dec:<nil>} s:14284Ki Format:BinarySI}]}]}
I0412 17:57:15.563118       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2075208 scale:-9} d:{Dec:<nil>} s:2075208n Format:DecimalSI}, 3
I0412 17:57:15.563150       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:06 +0000 UTC Window:{Duration:11.794s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 17:57:15.563201       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:57:15.563213       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:57:15.563243       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:02 +0000 UTC Window:{Duration:11.332s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1326332 scale:-9} d:{Dec:<nil>} s:1326332n Format:DecimalSI} memory:{i:{value:6819840 scale:0} d:{Dec:<nil>} s:6660Ki Format:BinarySI}]}]}
I0412 17:57:15.563249       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1326332 scale:-9} d:{Dec:<nil>} s:1326332n Format:DecimalSI}, 2
I0412 17:57:15.563282       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:08 +0000 UTC Window:{Duration:11.898s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:144982 scale:-9} d:{Dec:<nil>} s:144982n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.563293       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:144982 scale:-9} d:{Dec:<nil>} s:144982n Format:DecimalSI}, 1
I0412 17:57:15.563319       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:58 +0000 UTC Window:{Duration:15.878s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2540118 scale:-9} d:{Dec:<nil>} s:2540118n Format:DecimalSI} memory:{i:{value:19300352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.563324       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2540118 scale:-9} d:{Dec:<nil>} s:2540118n Format:DecimalSI}, 3
I0412 17:57:15.563361       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:11 +0000 UTC Window:{Duration:19.873s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:267901 scale:-9} d:{Dec:<nil>} s:267901n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:57:15.563376       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:267901 scale:-9} d:{Dec:<nil>} s:267901n Format:DecimalSI}, 1
I0412 17:57:15.563405       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:59 +0000 UTC Window:{Duration:18.013s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:137012 scale:-9} d:{Dec:<nil>} s:137012n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.563412       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:137012 scale:-9} d:{Dec:<nil>} s:137012n Format:DecimalSI}, 1
I0412 17:57:15.563444       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:05 +0000 UTC Window:{Duration:10.135s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:855747 scale:-9} d:{Dec:<nil>} s:855747n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.563451       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:855747 scale:-9} d:{Dec:<nil>} s:855747n Format:DecimalSI}, 1
I0412 17:57:15.563476       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:59 +0000 UTC Window:{Duration:17.43s} Containers:[{Name:updater Usage:map[cpu:{i:{value:112220 scale:-9} d:{Dec:<nil>} s:112220n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.563487       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:112220 scale:-9} d:{Dec:<nil>} s:112220n Format:DecimalSI}, 1
I0412 17:57:15.563511       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:57:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:56:55 +0000 UTC Window:{Duration:27.644s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1415497 scale:-9} d:{Dec:<nil>} s:1415497n Format:DecimalSI} memory:{i:{value:58834944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:57:15.563516       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1415497 scale:-9} d:{Dec:<nil>} s:1415497n Format:DecimalSI}, 2
I0412 17:57:15.563653       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:57:15.563669       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:57:15.563725       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:57:15.563765       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:57:15.563823       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 275387774.933\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 17:57:15.563842       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006055c0 ControlledValues:<nil>}:
I0412 17:57:15.563867       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 17:57:15.563877       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:57:15.563885       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442040027]
I0412 17:57:15.563894       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:57:15.563909       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1616 memory:891206034]
I0412 17:57:15.563930       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:57:15.577057       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713980} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713a10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3759180a-219d-484d-be73-e8db1c9bd1db] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 17:57:15.587885       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882780} GetBody:0x6d9b40 ContentLength:550 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2a10d944-82b6-40ae-96d4-76a23661cff9] Cache-Control:[no-cache, private] Content-Length:[1557] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:57:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:1557 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff7a0 TLS:0xc0005220b0}
I0412 17:57:15.588093       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:57:15.588124       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:57:53.677124       1 cluster_feeder.go:138] Eviction event chan closed
I0412 17:57:53.677167       1 cluster_feeder.go:128] An attempt to watch eviction events finished. Waiting 11.563339825s before the next one.
I0412 17:57:56.561857       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 3 items received
I0412 17:58:15.532792       1 recommender.go:166] Recommender Run
I0412 17:58:15.532867       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:58:15.532892       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:58:15.533026       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:58:15.566907       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1590 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cf816477-518c-4ab1-9f46-9b6b4264e8a2 cf816477-518c-4ab1-9f46-9b6b4264e8a2] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cfc0 TLS:0xc0005220b0}
I0412 17:58:15.567869       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:58:15.567977       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:02 +0000 UTC Window:{Duration:18.447s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752388193 scale:-9} d:{Dec:<nil>} s:752388193n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.567998       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752388193 scale:-9} d:{Dec:<nil>} s:752388193n Format:DecimalSI}, 753
I0412 17:58:15.568056       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:04 +0000 UTC Window:{Duration:12.21s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749038738 scale:-9} d:{Dec:<nil>} s:749038738n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 17:58:15.568075       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749038738 scale:-9} d:{Dec:<nil>} s:749038738n Format:DecimalSI}, 750
I0412 17:58:15.568107       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:11 +0000 UTC Window:{Duration:29.977s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3059445 scale:-9} d:{Dec:<nil>} s:3059445n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568131       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3059445 scale:-9} d:{Dec:<nil>} s:3059445n Format:DecimalSI}, 4
I0412 17:58:15.568161       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:07 +0000 UTC Window:{Duration:15.699s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11980062 scale:-9} d:{Dec:<nil>} s:11980062n Format:DecimalSI} memory:{i:{value:167657472 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568184       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11980062 scale:-9} d:{Dec:<nil>} s:11980062n Format:DecimalSI}, 12
I0412 17:58:15.568222       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:56 +0000 UTC Window:{Duration:17.556s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2149920 scale:-9} d:{Dec:<nil>} s:2149920n Format:DecimalSI} memory:{i:{value:14630912 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568233       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2149920 scale:-9} d:{Dec:<nil>} s:2149920n Format:DecimalSI}, 3
I0412 17:58:15.568262       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:49 +0000 UTC Window:{Duration:13.191s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:58:15.568281       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:58:15.568287       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:58:15.568315       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:08 +0000 UTC Window:{Duration:15.009s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1026517 scale:-9} d:{Dec:<nil>} s:1026517n Format:DecimalSI} memory:{i:{value:6828032 scale:0} d:{Dec:<nil>} s:6668Ki Format:BinarySI}]}]}
I0412 17:58:15.568353       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1026517 scale:-9} d:{Dec:<nil>} s:1026517n Format:DecimalSI}, 2
I0412 17:58:15.568389       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:09 +0000 UTC Window:{Duration:15.808s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:670862 scale:-9} d:{Dec:<nil>} s:670862n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568400       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:670862 scale:-9} d:{Dec:<nil>} s:670862n Format:DecimalSI}, 1
I0412 17:58:15.568450       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:57:59 +0000 UTC Window:{Duration:16.466s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2632697 scale:-9} d:{Dec:<nil>} s:2632697n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568461       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2632697 scale:-9} d:{Dec:<nil>} s:2632697n Format:DecimalSI}, 3
I0412 17:58:15.568487       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:04 +0000 UTC Window:{Duration:13.097s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:468198 scale:-9} d:{Dec:<nil>} s:468198n Format:DecimalSI} memory:{i:{value:9760768 scale:0} d:{Dec:<nil>} s:9532Ki Format:BinarySI}]}]}
I0412 17:58:15.568497       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:468198 scale:-9} d:{Dec:<nil>} s:468198n Format:DecimalSI}, 1
I0412 17:58:15.568528       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:09 +0000 UTC Window:{Duration:19.091s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:222617 scale:-9} d:{Dec:<nil>} s:222617n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568543       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:222617 scale:-9} d:{Dec:<nil>} s:222617n Format:DecimalSI}, 1
I0412 17:58:15.568568       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:03 +0000 UTC Window:{Duration:11.503s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:594279 scale:-9} d:{Dec:<nil>} s:594279n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568579       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:594279 scale:-9} d:{Dec:<nil>} s:594279n Format:DecimalSI}, 1
I0412 17:58:15.568654       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:03 +0000 UTC Window:{Duration:12.537s} Containers:[{Name:updater Usage:map[cpu:{i:{value:185530 scale:-9} d:{Dec:<nil>} s:185530n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:58:15.568668       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:185530 scale:-9} d:{Dec:<nil>} s:185530n Format:DecimalSI}, 1
I0412 17:58:15.568732       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:58:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:06 +0000 UTC Window:{Duration:15.613s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1536796 scale:-9} d:{Dec:<nil>} s:1536796n Format:DecimalSI} memory:{i:{value:58896384 scale:0} d:{Dec:<nil>} s:57516Ki Format:BinarySI}]}]}
I0412 17:58:15.568745       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1536796 scale:-9} d:{Dec:<nil>} s:1536796n Format:DecimalSI}, 2
I0412 17:58:15.568953       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:58:15.568982       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:58:15.569055       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:58:15.569103       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:58:15.569238       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 316358092.963\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:58:15.569294       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605158 ControlledValues:<nil>}:
I0412 17:58:15.569372       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:58:15.569387       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:58:15.569397       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442040437]
I0412 17:58:15.569402       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:58:15.569410       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1720 memory:890984675]
I0412 17:58:15.569447       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:58:15.583767       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c0f0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[444c3c62-1820-4ca6-b435-f0ab49a70122] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364480 TLS:0xc0005220b0}
I0412 17:58:15.598547       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00051d530} GetBody:0x6d9b40 ContentLength:545 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d6e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d6dd5158-8038-4db1-8ea4-bfe4371fb0f4] Cache-Control:[no-cache, private] Content-Length:[1542] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:58:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:1542 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d7a0 TLS:0xc0005220b0}
I0412 17:58:15.598825       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:58:15.598848       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:58:17.401384       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 3 items received
I0412 17:59:14.587288       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 5 items received
I0412 17:59:15.532670       1 recommender.go:166] Recommender Run
I0412 17:59:15.532805       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:59:15.532837       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:59:15.532941       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:59:15.563913       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882690 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b0bf4694-7090-4485-9fa9-bc62afaffe69 b0bf4694-7090-4485-9fa9-bc62afaffe69] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 17:59:15.564846       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 17:59:15.564959       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:59 +0000 UTC Window:{Duration:19.058s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747762724 scale:-9} d:{Dec:<nil>} s:747762724n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.564977       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747762724 scale:-9} d:{Dec:<nil>} s:747762724n Format:DecimalSI}, 748
I0412 17:59:15.565012       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:08 +0000 UTC Window:{Duration:15.396s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750159976 scale:-9} d:{Dec:<nil>} s:750159976n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 17:59:15.565024       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750159976 scale:-9} d:{Dec:<nil>} s:750159976n Format:DecimalSI}, 751
I0412 17:59:15.565062       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:05 +0000 UTC Window:{Duration:15.088s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1969578 scale:-9} d:{Dec:<nil>} s:1969578n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565068       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1969578 scale:-9} d:{Dec:<nil>} s:1969578n Format:DecimalSI}, 2
I0412 17:59:15.565098       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:59 +0000 UTC Window:{Duration:14.922s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10899008 scale:-9} d:{Dec:<nil>} s:10899008n Format:DecimalSI} memory:{i:{value:167669760 scale:0} d:{Dec:<nil>} s:163740Ki Format:BinarySI}]}]}
I0412 17:59:15.565103       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10899008 scale:-9} d:{Dec:<nil>} s:10899008n Format:DecimalSI}, 11
I0412 17:59:15.565127       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:05 +0000 UTC Window:{Duration:17.463s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1811029 scale:-9} d:{Dec:<nil>} s:1811029n Format:DecimalSI} memory:{i:{value:14635008 scale:0} d:{Dec:<nil>} s:14292Ki Format:BinarySI}]}]}
I0412 17:59:15.565138       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1811029 scale:-9} d:{Dec:<nil>} s:1811029n Format:DecimalSI}, 2
I0412 17:59:15.565178       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:07 +0000 UTC Window:{Duration:12.439s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:5602 scale:-9} d:{Dec:<nil>} s:5602n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 17:59:15.565190       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 17:59:15.565196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:5602 scale:-9} d:{Dec:<nil>} s:5602n Format:DecimalSI}, 1
I0412 17:59:15.565223       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:01 +0000 UTC Window:{Duration:14.818s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1390740 scale:-9} d:{Dec:<nil>} s:1390740n Format:DecimalSI} memory:{i:{value:6897664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565232       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1390740 scale:-9} d:{Dec:<nil>} s:1390740n Format:DecimalSI}, 2
I0412 17:59:15.565264       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:58 +0000 UTC Window:{Duration:18.38s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:667791 scale:-9} d:{Dec:<nil>} s:667791n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565270       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:667791 scale:-9} d:{Dec:<nil>} s:667791n Format:DecimalSI}, 1
I0412 17:59:15.565296       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:07 +0000 UTC Window:{Duration:13.085s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2240504 scale:-9} d:{Dec:<nil>} s:2240504n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565302       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2240504 scale:-9} d:{Dec:<nil>} s:2240504n Format:DecimalSI}, 3
I0412 17:59:15.565326       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:09 +0000 UTC Window:{Duration:14.089s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:375257 scale:-9} d:{Dec:<nil>} s:375257n Format:DecimalSI} memory:{i:{value:10027008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565342       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:375257 scale:-9} d:{Dec:<nil>} s:375257n Format:DecimalSI}, 1
I0412 17:59:15.565368       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:58 +0000 UTC Window:{Duration:19.591s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:167372 scale:-9} d:{Dec:<nil>} s:167372n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565377       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:167372 scale:-9} d:{Dec:<nil>} s:167372n Format:DecimalSI}, 1
I0412 17:59:15.565410       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:10 +0000 UTC Window:{Duration:24.484s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:439797 scale:-9} d:{Dec:<nil>} s:439797n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565419       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:439797 scale:-9} d:{Dec:<nil>} s:439797n Format:DecimalSI}, 1
I0412 17:59:15.565446       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:07 +0000 UTC Window:{Duration:11.465s} Containers:[{Name:updater Usage:map[cpu:{i:{value:135368 scale:-9} d:{Dec:<nil>} s:135368n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 17:59:15.565451       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:135368 scale:-9} d:{Dec:<nil>} s:135368n Format:DecimalSI}, 1
I0412 17:59:15.565474       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 17:59:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:58:59 +0000 UTC Window:{Duration:11.451s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1780106 scale:-9} d:{Dec:<nil>} s:1780106n Format:DecimalSI} memory:{i:{value:55504896 scale:0} d:{Dec:<nil>} s:54204Ki Format:BinarySI}]}]}
I0412 17:59:15.565491       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1780106 scale:-9} d:{Dec:<nil>} s:1780106n Format:DecimalSI}, 2
I0412 17:59:15.565639       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 17:59:15.565655       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 17:59:15.565699       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 17:59:15.565743       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 17:59:15.565808       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 363477451.048\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 17:59:15.565826       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0008408d0 ControlledValues:<nil>}:
I0412 17:59:15.565863       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 17:59:15.565872       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:59:15.565881       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442040932]
I0412 17:59:15.565887       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:59:15.565896       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1719 memory:890717689]
I0412 17:59:15.565907       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 17:59:15.583489       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747860} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007478f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[248f430d-530b-406a-a3d1-533e01c73c29] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d0e0 TLS:0xc0005220b0}
I0412 17:59:15.614561       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882c60} GetBody:0x6d9b40 ContentLength:545 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882cf0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[52fd2f7f-3bee-4e6e-8543-82a9017c6842] Cache-Control:[no-cache, private] Content-Length:[1542] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:1542 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffb00 TLS:0xc0005220b0}
I0412 17:59:15.614943       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 17:59:15.614970       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 17:59:15.614992       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 17:59:15.615001       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 17:59:15.615036       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 17:59:15.628871       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883830 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ed54127e-b92f-4870-8cea-7174c09ad5f6] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363500} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214360 TLS:0xc0005220b0}
I0412 17:59:15.661793       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be1b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2edcbb94-b4bb-423f-9da2-6ef3163c998d] Cache-Control:[no-cache, private] Content-Length:[1695] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:1695 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215560 TLS:0xc0005220b0}
I0412 17:59:15.669734       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007128d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3e536fd7-a404-4fbf-b017-23d9793bb345] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ad80 TLS:0xc0005220b0}
I0412 17:59:15.683411       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712ea0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d6b6b56f-2542-4f5a-9fc7-cc4500abd7d7] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b560 TLS:0xc0005220b0}
I0412 17:59:15.689407       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be690 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7bd2f1b5-f1ec-4f62-afa9-89bb86ad0442] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b66c0 TLS:0xc0005220b0}
I0412 17:59:15.695599       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005822a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[204a83a8-337e-411e-809f-8be0f1c83404] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 17:59:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d7a0 TLS:0xc0005220b0}
I0412 17:59:15.695704       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 17:59:38.336797       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 3 items received
I0412 18:00:15.532971       1 recommender.go:166] Recommender Run
I0412 18:00:15.544847       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:00:15.544982       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:00:15.545697       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:00:15.573325       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728240 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1397b101-5401-4055-98b0-07edcf9b02e9 1397b101-5401-4055-98b0-07edcf9b02e9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076bc20 TLS:0xc0005220b0}
I0412 18:00:15.574274       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:00:15.574411       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:11 +0000 UTC Window:{Duration:19.762s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751407904 scale:-9} d:{Dec:<nil>} s:751407904n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.574433       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751407904 scale:-9} d:{Dec:<nil>} s:751407904n Format:DecimalSI}, 752
I0412 18:00:15.574481       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:11 +0000 UTC Window:{Duration:17.853s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751922646 scale:-9} d:{Dec:<nil>} s:751922646n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:00:15.574522       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751922646 scale:-9} d:{Dec:<nil>} s:751922646n Format:DecimalSI}, 752
I0412 18:00:15.574595       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:03 +0000 UTC Window:{Duration:12.925s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3399458 scale:-9} d:{Dec:<nil>} s:3399458n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.574613       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3399458 scale:-9} d:{Dec:<nil>} s:3399458n Format:DecimalSI}, 4
I0412 18:00:15.574636       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:03 +0000 UTC Window:{Duration:18.377s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11031942 scale:-9} d:{Dec:<nil>} s:11031942n Format:DecimalSI} memory:{i:{value:167669760 scale:0} d:{Dec:<nil>} s:163740Ki Format:BinarySI}]}]}
I0412 18:00:15.574640       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11031942 scale:-9} d:{Dec:<nil>} s:11031942n Format:DecimalSI}, 12
I0412 18:00:15.574659       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:59 +0000 UTC Window:{Duration:19.35s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1735813 scale:-9} d:{Dec:<nil>} s:1735813n Format:DecimalSI} memory:{i:{value:14635008 scale:0} d:{Dec:<nil>} s:14292Ki Format:BinarySI}]}]}
I0412 18:00:15.574688       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1735813 scale:-9} d:{Dec:<nil>} s:1735813n Format:DecimalSI}, 2
I0412 18:00:15.574714       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 17:59:46 +0000 UTC Window:{Duration:10.585s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:00:15.574728       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:00:15.574747       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:00:15.574775       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:11 +0000 UTC Window:{Duration:19.481s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:989220 scale:-9} d:{Dec:<nil>} s:989220n Format:DecimalSI} memory:{i:{value:7065600 scale:0} d:{Dec:<nil>} s:6900Ki Format:BinarySI}]}]}
I0412 18:00:15.574787       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:989220 scale:-9} d:{Dec:<nil>} s:989220n Format:DecimalSI}, 1
I0412 18:00:15.574807       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:03 +0000 UTC Window:{Duration:19.526s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:606627 scale:-9} d:{Dec:<nil>} s:606627n Format:DecimalSI} memory:{i:{value:12697600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.574839       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:606627 scale:-9} d:{Dec:<nil>} s:606627n Format:DecimalSI}, 1
I0412 18:00:15.574890       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:01 +0000 UTC Window:{Duration:11.017s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2227557 scale:-9} d:{Dec:<nil>} s:2227557n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.574898       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2227557 scale:-9} d:{Dec:<nil>} s:2227557n Format:DecimalSI}, 3
I0412 18:00:15.574917       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:05 +0000 UTC Window:{Duration:14.296s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:171306 scale:-9} d:{Dec:<nil>} s:171306n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.574921       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:171306 scale:-9} d:{Dec:<nil>} s:171306n Format:DecimalSI}, 1
I0412 18:00:15.574973       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:03 +0000 UTC Window:{Duration:10.251s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:140474 scale:-9} d:{Dec:<nil>} s:140474n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.574979       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:140474 scale:-9} d:{Dec:<nil>} s:140474n Format:DecimalSI}, 1
I0412 18:00:15.574997       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:09 +0000 UTC Window:{Duration:17.751s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:51546 scale:-9} d:{Dec:<nil>} s:51546n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.575001       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:51546 scale:-9} d:{Dec:<nil>} s:51546n Format:DecimalSI}, 1
I0412 18:00:15.575019       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:08 +0000 UTC Window:{Duration:12.838s} Containers:[{Name:updater Usage:map[cpu:{i:{value:171366 scale:-9} d:{Dec:<nil>} s:171366n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:00:15.575030       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:171366 scale:-9} d:{Dec:<nil>} s:171366n Format:DecimalSI}, 1
I0412 18:00:15.575048       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:00:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:01 +0000 UTC Window:{Duration:18.345s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:855001 scale:-9} d:{Dec:<nil>} s:855001n Format:DecimalSI} memory:{i:{value:55504896 scale:0} d:{Dec:<nil>} s:54204Ki Format:BinarySI}]}]}
I0412 18:00:15.575059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:855001 scale:-9} d:{Dec:<nil>} s:855001n Format:DecimalSI}, 1
I0412 18:00:15.575207       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:00:15.575229       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:00:15.575315       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:00:15.575391       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:00:15.575454       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 418546508.182\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:00:15.575468       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009907c8 ControlledValues:<nil>}:
I0412 18:00:15.575504       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:00:15.575511       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:00:15.575517       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442041419]
I0412 18:00:15.575555       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:00:15.575580       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1719 memory:890455209]
I0412 18:00:15.575601       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:00:15.596745       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0360} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e03f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f74df5ec-df41-42ff-9fb9-907aa45ed5d7] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0b40 TLS:0xc0005220b0}
I0412 18:00:15.628807       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e15f0} GetBody:0x6d9b40 ContentLength:537 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1680 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f880f780-c86f-4ab6-80c9-b22ff36b48f3] Cache-Control:[no-cache, private] Content-Length:[1524] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:00:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473080} ContentLength:1524 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004559e0 TLS:0xc0005220b0}
I0412 18:00:15.636920       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:00:15.637001       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:01:15.540685       1 recommender.go:166] Recommender Run
I0412 18:01:15.541016       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:01:15.541111       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:01:15.541291       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:01:15.560150       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582d20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2583f87f-b532-4ca8-9063-4f2d4bdcc4a1 2583f87f-b532-4ca8-9063-4f2d4bdcc4a1] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 18:01:15.560783       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:01:15.560846       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:59 +0000 UTC Window:{Duration:16.388s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749406944 scale:-9} d:{Dec:<nil>} s:749406944n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.560882       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749406944 scale:-9} d:{Dec:<nil>} s:749406944n Format:DecimalSI}, 750
I0412 18:01:15.560913       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:56 +0000 UTC Window:{Duration:15.144s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747802826 scale:-9} d:{Dec:<nil>} s:747802826n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:01:15.560917       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747802826 scale:-9} d:{Dec:<nil>} s:747802826n Format:DecimalSI}, 748
I0412 18:01:15.560942       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:04 +0000 UTC Window:{Duration:16.823s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1882363 scale:-9} d:{Dec:<nil>} s:1882363n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.560946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1882363 scale:-9} d:{Dec:<nil>} s:1882363n Format:DecimalSI}, 2
I0412 18:01:15.560965       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:01 +0000 UTC Window:{Duration:13.177s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10062305 scale:-9} d:{Dec:<nil>} s:10062305n Format:DecimalSI} memory:{i:{value:167677952 scale:0} d:{Dec:<nil>} s:163748Ki Format:BinarySI}]}]}
I0412 18:01:15.560973       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10062305 scale:-9} d:{Dec:<nil>} s:10062305n Format:DecimalSI}, 11
I0412 18:01:15.560988       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:58 +0000 UTC Window:{Duration:17.669s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1993151 scale:-9} d:{Dec:<nil>} s:1993151n Format:DecimalSI} memory:{i:{value:14630912 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.561025       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1993151 scale:-9} d:{Dec:<nil>} s:1993151n Format:DecimalSI}, 2
I0412 18:01:15.561051       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:58 +0000 UTC Window:{Duration:18.131s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:01:15.561061       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:01:15.561065       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:01:15.561083       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:09 +0000 UTC Window:{Duration:18.137s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1225395 scale:-9} d:{Dec:<nil>} s:1225395n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.561086       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1225395 scale:-9} d:{Dec:<nil>} s:1225395n Format:DecimalSI}, 2
I0412 18:01:15.561100       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:09 +0000 UTC Window:{Duration:17.716s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:418265 scale:-9} d:{Dec:<nil>} s:418265n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 18:01:15.561107       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:418265 scale:-9} d:{Dec:<nil>} s:418265n Format:DecimalSI}, 1
I0412 18:01:15.561121       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:05 +0000 UTC Window:{Duration:18.43s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2628052 scale:-9} d:{Dec:<nil>} s:2628052n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.561124       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2628052 scale:-9} d:{Dec:<nil>} s:2628052n Format:DecimalSI}, 3
I0412 18:01:15.561138       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:06 +0000 UTC Window:{Duration:15.168s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:180907 scale:-9} d:{Dec:<nil>} s:180907n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.561149       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:180907 scale:-9} d:{Dec:<nil>} s:180907n Format:DecimalSI}, 1
I0412 18:01:15.561169       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:54 +0000 UTC Window:{Duration:19.667s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:313876 scale:-9} d:{Dec:<nil>} s:313876n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.561175       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:313876 scale:-9} d:{Dec:<nil>} s:313876n Format:DecimalSI}, 1
I0412 18:01:15.561190       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:07 +0000 UTC Window:{Duration:13.161s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1016640 scale:-9} d:{Dec:<nil>} s:1016640n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.561193       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1016640 scale:-9} d:{Dec:<nil>} s:1016640n Format:DecimalSI}, 2
I0412 18:01:15.561227       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:00:53 +0000 UTC Window:{Duration:13.592s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:01:15.561235       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:01:15.561253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:01:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:00 +0000 UTC Window:{Duration:16.591s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:866011 scale:-9} d:{Dec:<nil>} s:866011n Format:DecimalSI} memory:{i:{value:56537088 scale:0} d:{Dec:<nil>} s:55212Ki Format:BinarySI}]}]}
I0412 18:01:15.561260       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:866011 scale:-9} d:{Dec:<nil>} s:866011n Format:DecimalSI}, 1
I0412 18:01:15.561319       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:01:15.561329       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:01:15.561360       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:01:15.561378       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:01:15.561404       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 479861955.128\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:01:15.561417       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006040a8 ControlledValues:<nil>}:
I0412 18:01:15.561435       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:01:15.561441       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:01:15.561446       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442041789]
I0412 18:01:15.561450       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:01:15.561455       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1614 memory:890255448]
I0412 18:01:15.561457       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:01:15.584598       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729410} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007294a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[07702c5c-5cfb-47fa-9a9f-b14f65a744df] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1200 TLS:0xc0005220b0}
I0412 18:01:15.601108       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c690} GetBody:0x6d9b40 ContentLength:536 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5bf6e817-485c-4471-ba0b-e3e129b9aac7] Cache-Control:[no-cache, private] Content-Length:[1524] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:01:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:1524 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 18:01:15.601224       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:01:15.601239       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:02:15.533343       1 recommender.go:166] Recommender Run
I0412 18:02:15.536676       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:02:15.540632       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:02:15.540881       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:02:15.563420       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008822d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[47108d1d-6d60-4ec1-b456-c48502826ca8 47108d1d-6d60-4ec1-b456-c48502826ca8] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1d40 TLS:0xc0005220b0}
I0412 18:02:15.564286       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:02:15.564382       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:09 +0000 UTC Window:{Duration:20.627s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749603723 scale:-9} d:{Dec:<nil>} s:749603723n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:02:15.564394       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749603723 scale:-9} d:{Dec:<nil>} s:749603723n Format:DecimalSI}, 750
I0412 18:02:15.564423       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:05 +0000 UTC Window:{Duration:12.043s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747137341 scale:-9} d:{Dec:<nil>} s:747137341n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:02:15.564429       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747137341 scale:-9} d:{Dec:<nil>} s:747137341n Format:DecimalSI}, 748
I0412 18:02:15.564474       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:04 +0000 UTC Window:{Duration:11.664s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3244770 scale:-9} d:{Dec:<nil>} s:3244770n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 18:02:15.564481       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3244770 scale:-9} d:{Dec:<nil>} s:3244770n Format:DecimalSI}, 4
I0412 18:02:15.564529       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:59 +0000 UTC Window:{Duration:13.773s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9672039 scale:-9} d:{Dec:<nil>} s:9672039n Format:DecimalSI} memory:{i:{value:167710720 scale:0} d:{Dec:<nil>} s:163780Ki Format:BinarySI}]}]}
I0412 18:02:15.564546       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9672039 scale:-9} d:{Dec:<nil>} s:9672039n Format:DecimalSI}, 10
I0412 18:02:15.564567       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:02 +0000 UTC Window:{Duration:13.522s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1915175 scale:-9} d:{Dec:<nil>} s:1915175n Format:DecimalSI} memory:{i:{value:14635008 scale:0} d:{Dec:<nil>} s:14292Ki Format:BinarySI}]}]}
I0412 18:02:15.564576       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1915175 scale:-9} d:{Dec:<nil>} s:1915175n Format:DecimalSI}, 2
I0412 18:02:15.564594       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:52 +0000 UTC Window:{Duration:13.213s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:02:15.564597       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:02:15.564601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:02:15.564639       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:04 +0000 UTC Window:{Duration:10.372s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:910335 scale:-9} d:{Dec:<nil>} s:910335n Format:DecimalSI} memory:{i:{value:6963200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:02:15.564649       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:910335 scale:-9} d:{Dec:<nil>} s:910335n Format:DecimalSI}, 1
I0412 18:02:15.564679       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:07 +0000 UTC Window:{Duration:14.982s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:432585 scale:-9} d:{Dec:<nil>} s:432585n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:02:15.564714       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:432585 scale:-9} d:{Dec:<nil>} s:432585n Format:DecimalSI}, 1
I0412 18:02:15.564747       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:07 +0000 UTC Window:{Duration:11.631s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:1905769 scale:-9} d:{Dec:<nil>} s:1905769n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:02:15.564756       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1905769 scale:-9} d:{Dec:<nil>} s:1905769n Format:DecimalSI}, 2
I0412 18:02:15.564774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:03 +0000 UTC Window:{Duration:18.313s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:803363 scale:-9} d:{Dec:<nil>} s:803363n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:02:15.564777       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:803363 scale:-9} d:{Dec:<nil>} s:803363n Format:DecimalSI}, 1
I0412 18:02:15.564791       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:03 +0000 UTC Window:{Duration:12.811s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:135586 scale:-9} d:{Dec:<nil>} s:135586n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:02:15.564804       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:135586 scale:-9} d:{Dec:<nil>} s:135586n Format:DecimalSI}, 1
I0412 18:02:15.564818       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:08 +0000 UTC Window:{Duration:16.067s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:87446 scale:-9} d:{Dec:<nil>} s:87446n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:02:15.564821       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:87446 scale:-9} d:{Dec:<nil>} s:87446n Format:DecimalSI}, 1
I0412 18:02:15.564835       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:01:58 +0000 UTC Window:{Duration:16.848s} Containers:[{Name:updater Usage:map[cpu:{i:{value:40004 scale:-9} d:{Dec:<nil>} s:40004n Format:DecimalSI} memory:{i:{value:11890688 scale:0} d:{Dec:<nil>} s:11612Ki Format:BinarySI}]}]}
I0412 18:02:15.564844       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:40004 scale:-9} d:{Dec:<nil>} s:40004n Format:DecimalSI}, 1
I0412 18:02:15.564870       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:02:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:04 +0000 UTC Window:{Duration:14.934s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1302263 scale:-9} d:{Dec:<nil>} s:1302263n Format:DecimalSI} memory:{i:{value:58855424 scale:0} d:{Dec:<nil>} s:57476Ki Format:BinarySI}]}]}
I0412 18:02:15.564880       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1302263 scale:-9} d:{Dec:<nil>} s:1302263n Format:DecimalSI}, 2
I0412 18:02:15.565049       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:02:15.565074       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:02:15.565115       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:02:15.565147       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:02:15.565219       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 551858315.577\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:02:15.565234       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841050 ControlledValues:<nil>}:
I0412 18:02:15.565261       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:02:15.565272       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:02:15.565287       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442042329]
I0412 18:02:15.565297       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:02:15.565302       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1613 memory:889964476]
I0412 18:02:15.565305       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:02:15.575777       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712150} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007121e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2f713f3d-bdf1-489c-aa32-ce7d033ad12a] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003658c0 TLS:0xc0005220b0}
I0412 18:02:15.585280       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882a80} GetBody:0x6d9b40 ContentLength:536 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882b10 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[03e60f48-3477-4201-99d4-4892f23d0373] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccf00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff7a0 TLS:0xc0005220b0}
I0412 18:02:15.598759       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc0005be4e0} GetBody:0x6d9b40 ContentLength:718 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be570 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f20c26c5-aac3-4827-a4cc-1b2e0ee9a62c] Cache-Control:[no-cache, private] Content-Length:[1523] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:02:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2300} ContentLength:1523 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 18:02:15.598937       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:02:15.598960       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:03:09.117913       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 3 items received
I0412 18:03:15.532760       1 recommender.go:166] Recommender Run
I0412 18:03:15.533159       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:03:15.536695       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:03:15.537537       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:03:15.567781       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be9f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[77de00cb-b2f7-4c6b-af6c-2ec43d1562eb 77de00cb-b2f7-4c6b-af6c-2ec43d1562eb] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365680 TLS:0xc0005220b0}
I0412 18:03:15.569401       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:03:15.569538       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:00 +0000 UTC Window:{Duration:11.844s} Containers:[{Name:workload Usage:map[cpu:{i:{value:746634498 scale:-9} d:{Dec:<nil>} s:746634498n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.569567       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:746634498 scale:-9} d:{Dec:<nil>} s:746634498n Format:DecimalSI}, 747
I0412 18:03:15.569622       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:10 +0000 UTC Window:{Duration:14.463s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752135241 scale:-9} d:{Dec:<nil>} s:752135241n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:03:15.569640       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752135241 scale:-9} d:{Dec:<nil>} s:752135241n Format:DecimalSI}, 753
I0412 18:03:15.569748       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:11 +0000 UTC Window:{Duration:17.875s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1701986 scale:-9} d:{Dec:<nil>} s:1701986n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.569765       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1701986 scale:-9} d:{Dec:<nil>} s:1701986n Format:DecimalSI}, 2
I0412 18:03:15.569841       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:02 +0000 UTC Window:{Duration:18.297s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9943979 scale:-9} d:{Dec:<nil>} s:9943979n Format:DecimalSI} memory:{i:{value:167657472 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.569856       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9943979 scale:-9} d:{Dec:<nil>} s:9943979n Format:DecimalSI}, 10
I0412 18:03:15.569918       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:58 +0000 UTC Window:{Duration:14.341s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1831183 scale:-9} d:{Dec:<nil>} s:1831183n Format:DecimalSI} memory:{i:{value:15147008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.569941       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1831183 scale:-9} d:{Dec:<nil>} s:1831183n Format:DecimalSI}, 2
I0412 18:03:15.570028       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:02 +0000 UTC Window:{Duration:15.05s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:03:15.570049       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:03:15.570059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:03:15.570104       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:03 +0000 UTC Window:{Duration:18.021s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1192109 scale:-9} d:{Dec:<nil>} s:1192109n Format:DecimalSI} memory:{i:{value:6950912 scale:0} d:{Dec:<nil>} s:6788Ki Format:BinarySI}]}]}
I0412 18:03:15.570126       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1192109 scale:-9} d:{Dec:<nil>} s:1192109n Format:DecimalSI}, 2
I0412 18:03:15.570164       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:09 +0000 UTC Window:{Duration:19.199s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:526121 scale:-9} d:{Dec:<nil>} s:526121n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.570172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:526121 scale:-9} d:{Dec:<nil>} s:526121n Format:DecimalSI}, 1
I0412 18:03:15.570199       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:59 +0000 UTC Window:{Duration:18.003s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3283619 scale:-9} d:{Dec:<nil>} s:3283619n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.570218       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3283619 scale:-9} d:{Dec:<nil>} s:3283619n Format:DecimalSI}, 4
I0412 18:03:15.570245       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:02:56 +0000 UTC Window:{Duration:27.848s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:381894 scale:-9} d:{Dec:<nil>} s:381894n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.570250       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:381894 scale:-9} d:{Dec:<nil>} s:381894n Format:DecimalSI}, 1
I0412 18:03:15.570278       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:08 +0000 UTC Window:{Duration:16.464s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:42091 scale:-9} d:{Dec:<nil>} s:42091n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.570287       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:42091 scale:-9} d:{Dec:<nil>} s:42091n Format:DecimalSI}, 1
I0412 18:03:15.570329       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:06 +0000 UTC Window:{Duration:16.908s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:89602 scale:-9} d:{Dec:<nil>} s:89602n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.570396       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:89602 scale:-9} d:{Dec:<nil>} s:89602n Format:DecimalSI}, 1
I0412 18:03:15.570439       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:00 +0000 UTC Window:{Duration:18.83s} Containers:[{Name:updater Usage:map[cpu:{i:{value:154328 scale:-9} d:{Dec:<nil>} s:154328n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.570445       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:154328 scale:-9} d:{Dec:<nil>} s:154328n Format:DecimalSI}, 1
I0412 18:03:15.570481       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:03:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:04 +0000 UTC Window:{Duration:17.761s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1153820 scale:-9} d:{Dec:<nil>} s:1153820n Format:DecimalSI} memory:{i:{value:59088896 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:03:15.570494       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1153820 scale:-9} d:{Dec:<nil>} s:1153820n Format:DecimalSI}, 2
I0412 18:03:15.570645       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:03:15.570662       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:03:15.570716       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:03:15.570759       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:03:15.570816       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 634183747.493\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:03:15.570834       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841bf0 ControlledValues:<nil>}:
I0412 18:03:15.570864       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:03:15.570873       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:03:15.570884       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442042798]
I0412 18:03:15.570890       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:03:15.570903       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1717 memory:889711247]
I0412 18:03:15.570909       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:03:15.588843       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e08a0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0930 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4295249a-846c-42b7-bfc6-b16ae2f0f76b] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff560 TLS:0xc0005220b0}
I0412 18:03:15.601568       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712b70} GetBody:0x6d9b40 ContentLength:537 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712c00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d84a8afe-4bfa-4698-a10a-0f5737b04fd3] Cache-Control:[no-cache, private] Content-Length:[1524] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:03:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:1524 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 18:03:15.601917       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:03:15.601947       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:03:27.982227       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 4 items received
I0412 18:03:53.788853       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 17 items received
I0412 18:03:56.866814       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 18:04:15.532701       1 recommender.go:166] Recommender Run
I0412 18:04:15.532918       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:04:15.532983       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:04:15.536625       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:04:15.559418       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4dd98a13-0331-40ed-974e-147384e82b34 4dd98a13-0331-40ed-974e-147384e82b34] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076afc0 TLS:0xc0005220b0}
I0412 18:04:15.560512       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:04:15.560653       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:03 +0000 UTC Window:{Duration:18.294s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750301464 scale:-9} d:{Dec:<nil>} s:750301464n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.560665       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750301464 scale:-9} d:{Dec:<nil>} s:750301464n Format:DecimalSI}, 751
I0412 18:04:15.560700       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:07 +0000 UTC Window:{Duration:14.271s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747467661 scale:-9} d:{Dec:<nil>} s:747467661n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:04:15.560704       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747467661 scale:-9} d:{Dec:<nil>} s:747467661n Format:DecimalSI}, 748
I0412 18:04:15.560729       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:03 +0000 UTC Window:{Duration:19.608s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2791921 scale:-9} d:{Dec:<nil>} s:2791921n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 18:04:15.560742       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2791921 scale:-9} d:{Dec:<nil>} s:2791921n Format:DecimalSI}, 3
I0412 18:04:15.560761       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:58 +0000 UTC Window:{Duration:18.843s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11559465 scale:-9} d:{Dec:<nil>} s:11559465n Format:DecimalSI} memory:{i:{value:167665664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.560764       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11559465 scale:-9} d:{Dec:<nil>} s:11559465n Format:DecimalSI}, 12
I0412 18:04:15.560779       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:05 +0000 UTC Window:{Duration:19.846s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1715610 scale:-9} d:{Dec:<nil>} s:1715610n Format:DecimalSI} memory:{i:{value:14635008 scale:0} d:{Dec:<nil>} s:14292Ki Format:BinarySI}]}]}
I0412 18:04:15.560787       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1715610 scale:-9} d:{Dec:<nil>} s:1715610n Format:DecimalSI}, 2
I0412 18:04:15.560804       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:57 +0000 UTC Window:{Duration:16.927s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:04:15.560808       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:04:15.560812       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:04:15.560826       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:04 +0000 UTC Window:{Duration:14.52s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:897451 scale:-9} d:{Dec:<nil>} s:897451n Format:DecimalSI} memory:{i:{value:6959104 scale:0} d:{Dec:<nil>} s:6796Ki Format:BinarySI}]}]}
I0412 18:04:15.560868       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:897451 scale:-9} d:{Dec:<nil>} s:897451n Format:DecimalSI}, 1
I0412 18:04:15.560892       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:54 +0000 UTC Window:{Duration:12.914s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:212482 scale:-9} d:{Dec:<nil>} s:212482n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.560898       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:212482 scale:-9} d:{Dec:<nil>} s:212482n Format:DecimalSI}, 1
I0412 18:04:15.560912       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:01 +0000 UTC Window:{Duration:14.307s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2663591 scale:-9} d:{Dec:<nil>} s:2663591n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.560931       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2663591 scale:-9} d:{Dec:<nil>} s:2663591n Format:DecimalSI}, 3
I0412 18:04:15.560947       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:11 +0000 UTC Window:{Duration:19.013s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:204123 scale:-9} d:{Dec:<nil>} s:204123n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.560952       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:204123 scale:-9} d:{Dec:<nil>} s:204123n Format:DecimalSI}, 1
I0412 18:04:15.560966       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:12 +0000 UTC Window:{Duration:15.873s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:80388 scale:-9} d:{Dec:<nil>} s:80388n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.560972       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:80388 scale:-9} d:{Dec:<nil>} s:80388n Format:DecimalSI}, 1
I0412 18:04:15.560988       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:58 +0000 UTC Window:{Duration:12.187s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:214490 scale:-9} d:{Dec:<nil>} s:214490n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.560993       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:214490 scale:-9} d:{Dec:<nil>} s:214490n Format:DecimalSI}, 1
I0412 18:04:15.561008       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:10 +0000 UTC Window:{Duration:14.745s} Containers:[{Name:updater Usage:map[cpu:{i:{value:48084 scale:-9} d:{Dec:<nil>} s:48084n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:04:15.561011       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:48084 scale:-9} d:{Dec:<nil>} s:48084n Format:DecimalSI}, 1
I0412 18:04:15.561031       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:04:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:03:59 +0000 UTC Window:{Duration:10.746s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1165549 scale:-9} d:{Dec:<nil>} s:1165549n Format:DecimalSI} memory:{i:{value:59379712 scale:0} d:{Dec:<nil>} s:57988Ki Format:BinarySI}]}]}
I0412 18:04:15.561038       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1165549 scale:-9} d:{Dec:<nil>} s:1165549n Format:DecimalSI}, 2
I0412 18:04:15.561098       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:04:15.561111       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:04:15.561144       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:04:15.561155       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:04:15.561185       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 728745535.240\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:04:15.561202       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840e40 ControlledValues:<nil>}:
I0412 18:04:15.561222       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:04:15.561239       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:04:15.561245       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442043236]
I0412 18:04:15.561248       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:04:15.561254       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1717 memory:889474904]
I0412 18:04:15.561257       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:04:15.578422       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746780} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[39c94103-b562-4796-a571-aeed047c25cf] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6b40 TLS:0xc0005220b0}
I0412 18:04:15.592631       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729200} GetBody:0x6d9b40 ContentLength:530 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729290 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b68d126a-0615-4e94-8258-578d69f50a83] Cache-Control:[no-cache, private] Content-Length:[1507] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:04:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:1507 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076bb00 TLS:0xc0005220b0}
I0412 18:04:15.592850       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:04:15.592879       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:05:15.532710       1 recommender.go:166] Recommender Run
I0412 18:05:15.532868       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:05:15.532894       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:05:15.536687       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:05:15.567993       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728c60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[467dc79c-36f5-46a7-8f4d-57a698fa9314 467dc79c-36f5-46a7-8f4d-57a698fa9314] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ac60 TLS:0xc0005220b0}
I0412 18:05:15.568642       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:05:15.568741       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:02 +0000 UTC Window:{Duration:12.923s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750893987 scale:-9} d:{Dec:<nil>} s:750893987n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568757       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750893987 scale:-9} d:{Dec:<nil>} s:750893987n Format:DecimalSI}, 751
I0412 18:05:15.568778       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:09 +0000 UTC Window:{Duration:14.26s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751638429 scale:-9} d:{Dec:<nil>} s:751638429n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:05:15.568782       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751638429 scale:-9} d:{Dec:<nil>} s:751638429n Format:DecimalSI}, 752
I0412 18:05:15.568804       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:06 +0000 UTC Window:{Duration:15.726s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1866590 scale:-9} d:{Dec:<nil>} s:1866590n Format:DecimalSI} memory:{i:{value:32079872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568808       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1866590 scale:-9} d:{Dec:<nil>} s:1866590n Format:DecimalSI}, 2
I0412 18:05:15.568827       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:06 +0000 UTC Window:{Duration:16.335s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10404346 scale:-9} d:{Dec:<nil>} s:10404346n Format:DecimalSI} memory:{i:{value:167682048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568833       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10404346 scale:-9} d:{Dec:<nil>} s:10404346n Format:DecimalSI}, 11
I0412 18:05:15.568847       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:03 +0000 UTC Window:{Duration:12.664s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1457517 scale:-9} d:{Dec:<nil>} s:1457517n Format:DecimalSI} memory:{i:{value:14639104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568854       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1457517 scale:-9} d:{Dec:<nil>} s:1457517n Format:DecimalSI}, 2
I0412 18:05:15.568876       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:50 +0000 UTC Window:{Duration:11.628s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:05:15.568882       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:05:15.568886       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:05:15.568904       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:54 +0000 UTC Window:{Duration:18.571s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1243982 scale:-9} d:{Dec:<nil>} s:1243982n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568909       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1243982 scale:-9} d:{Dec:<nil>} s:1243982n Format:DecimalSI}, 2
I0412 18:05:15.568924       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:04 +0000 UTC Window:{Duration:16.483s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:345871 scale:-9} d:{Dec:<nil>} s:345871n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568930       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:345871 scale:-9} d:{Dec:<nil>} s:345871n Format:DecimalSI}, 1
I0412 18:05:15.568944       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:04:56 +0000 UTC Window:{Duration:25.59s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2383626 scale:-9} d:{Dec:<nil>} s:2383626n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568953       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2383626 scale:-9} d:{Dec:<nil>} s:2383626n Format:DecimalSI}, 3
I0412 18:05:15.568978       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:00 +0000 UTC Window:{Duration:17.643s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:271382 scale:-9} d:{Dec:<nil>} s:271382n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.568987       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:271382 scale:-9} d:{Dec:<nil>} s:271382n Format:DecimalSI}, 1
I0412 18:05:15.569004       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:04 +0000 UTC Window:{Duration:15.091s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:15638 scale:-9} d:{Dec:<nil>} s:15638n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.569011       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:15638 scale:-9} d:{Dec:<nil>} s:15638n Format:DecimalSI}, 1
I0412 18:05:15.569032       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:09 +0000 UTC Window:{Duration:24.413s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:144677 scale:-9} d:{Dec:<nil>} s:144677n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.569039       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:144677 scale:-9} d:{Dec:<nil>} s:144677n Format:DecimalSI}, 1
I0412 18:05:15.569054       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:02 +0000 UTC Window:{Duration:11.716s} Containers:[{Name:updater Usage:map[cpu:{i:{value:29105 scale:-9} d:{Dec:<nil>} s:29105n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:05:15.569059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:29105 scale:-9} d:{Dec:<nil>} s:29105n Format:DecimalSI}, 1
I0412 18:05:15.569074       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:05:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:09 +0000 UTC Window:{Duration:13.945s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1416565 scale:-9} d:{Dec:<nil>} s:1416565n Format:DecimalSI} memory:{i:{value:58986496 scale:0} d:{Dec:<nil>} s:57604Ki Format:BinarySI}]}]}
I0412 18:05:15.569079       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1416565 scale:-9} d:{Dec:<nil>} s:1416565n Format:DecimalSI}, 2
I0412 18:05:15.569176       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:05:15.569185       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:05:15.569214       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:05:15.569235       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:05:15.569277       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 837496458.675\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:05:15.569288       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0004517b8 ControlledValues:<nil>}:
I0412 18:05:15.569306       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:05:15.569311       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:05:15.569316       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442043712]
I0412 18:05:15.569324       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:05:15.569329       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1717 memory:889218135]
I0412 18:05:15.569332       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:05:15.581300       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747800} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747890 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[64ae2015-d984-4aae-ad84-3354cf671b4f] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062db00 TLS:0xc0005220b0}
I0412 18:05:15.604207       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729440} GetBody:0x6d9b40 ContentLength:528 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007294d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fbbbf3dc-b043-4ff4-ace4-c070f71ffcb4] Cache-Control:[no-cache, private] Content-Length:[1505] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:05:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:1505 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b680 TLS:0xc0005220b0}
I0412 18:05:15.604435       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:05:15.604452       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:05:46.568094       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 18:05:51.206627       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 2 items received
I0412 18:06:15.532715       1 recommender.go:166] Recommender Run
I0412 18:06:15.533025       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:06:15.533146       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:06:15.536718       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:06:15.563746       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e01e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[afd840f3-ff95-408d-b3c5-b7d05c16631e afd840f3-ff95-408d-b3c5-b7d05c16631e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 18:06:15.564344       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:06:15.564400       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:08 +0000 UTC Window:{Duration:27.324s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749612758 scale:-9} d:{Dec:<nil>} s:749612758n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564407       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749612758 scale:-9} d:{Dec:<nil>} s:749612758n Format:DecimalSI}, 750
I0412 18:06:15.564430       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:00 +0000 UTC Window:{Duration:11.291s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750752900 scale:-9} d:{Dec:<nil>} s:750752900n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:06:15.564439       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750752900 scale:-9} d:{Dec:<nil>} s:750752900n Format:DecimalSI}, 751
I0412 18:06:15.564478       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:03 +0000 UTC Window:{Duration:12.742s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3484303 scale:-9} d:{Dec:<nil>} s:3484303n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 18:06:15.564485       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3484303 scale:-9} d:{Dec:<nil>} s:3484303n Format:DecimalSI}, 4
I0412 18:06:15.564503       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:07 +0000 UTC Window:{Duration:17.273s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10744861 scale:-9} d:{Dec:<nil>} s:10744861n Format:DecimalSI} memory:{i:{value:167682048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564506       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10744861 scale:-9} d:{Dec:<nil>} s:10744861n Format:DecimalSI}, 11
I0412 18:06:15.564521       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:01 +0000 UTC Window:{Duration:16.348s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1834475 scale:-9} d:{Dec:<nil>} s:1834475n Format:DecimalSI} memory:{i:{value:14639104 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564547       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1834475 scale:-9} d:{Dec:<nil>} s:1834475n Format:DecimalSI}, 2
I0412 18:06:15.564574       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:05:52 +0000 UTC Window:{Duration:16.53s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:06:15.564587       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:06:15.564591       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:06:15.564625       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:11 +0000 UTC Window:{Duration:19.77s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1044056 scale:-9} d:{Dec:<nil>} s:1044056n Format:DecimalSI} memory:{i:{value:6971392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564630       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1044056 scale:-9} d:{Dec:<nil>} s:1044056n Format:DecimalSI}, 2
I0412 18:06:15.564663       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:04 +0000 UTC Window:{Duration:15.637s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:475922 scale:-9} d:{Dec:<nil>} s:475922n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564671       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:475922 scale:-9} d:{Dec:<nil>} s:475922n Format:DecimalSI}, 1
I0412 18:06:15.564687       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:00 +0000 UTC Window:{Duration:10.643s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2739359 scale:-9} d:{Dec:<nil>} s:2739359n Format:DecimalSI} memory:{i:{value:19357696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564695       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2739359 scale:-9} d:{Dec:<nil>} s:2739359n Format:DecimalSI}, 3
I0412 18:06:15.564711       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:05 +0000 UTC Window:{Duration:16.972s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:650659 scale:-9} d:{Dec:<nil>} s:650659n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564717       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:650659 scale:-9} d:{Dec:<nil>} s:650659n Format:DecimalSI}, 1
I0412 18:06:15.564731       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:10 +0000 UTC Window:{Duration:22.885s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:45837 scale:-9} d:{Dec:<nil>} s:45837n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564735       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:45837 scale:-9} d:{Dec:<nil>} s:45837n Format:DecimalSI}, 1
I0412 18:06:15.564777       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:05 +0000 UTC Window:{Duration:12.878s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:85727 scale:-9} d:{Dec:<nil>} s:85727n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564792       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:85727 scale:-9} d:{Dec:<nil>} s:85727n Format:DecimalSI}, 1
I0412 18:06:15.564808       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:02 +0000 UTC Window:{Duration:13.206s} Containers:[{Name:updater Usage:map[cpu:{i:{value:209450 scale:-9} d:{Dec:<nil>} s:209450n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564811       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:209450 scale:-9} d:{Dec:<nil>} s:209450n Format:DecimalSI}, 1
I0412 18:06:15.564825       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:06:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:00 +0000 UTC Window:{Duration:10.687s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1524281 scale:-9} d:{Dec:<nil>} s:1524281n Format:DecimalSI} memory:{i:{value:58966016 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:06:15.564837       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1524281 scale:-9} d:{Dec:<nil>} s:1524281n Format:DecimalSI}, 2
I0412 18:06:15.564974       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:06:15.564993       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:06:15.565029       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:06:15.565057       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:06:15.565107       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 961987514.267\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:06:15.565125       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0008407c8 ControlledValues:<nil>}:
I0412 18:06:15.565152       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:06:15.565165       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:06:15.565172       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442044165]
I0412 18:06:15.565175       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:06:15.565181       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1716 memory:888974087]
I0412 18:06:15.565184       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:06:15.584596       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d110} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d1a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[87f10c3c-c8f0-4138-8560-8418c0692085] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003657a0 TLS:0xc0005220b0}
I0412 18:06:15.603445       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089dda0} GetBody:0x6d9b40 ContentLength:522 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089de30 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[41245822-4026-4b3d-b19f-3c3b8694641e] Cache-Control:[no-cache, private] Content-Length:[1489] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:06:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:1489 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 18:06:15.603618       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:06:15.603633       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:07:15.532756       1 recommender.go:166] Recommender Run
I0412 18:07:15.532834       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:07:15.532843       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:07:15.532914       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:07:15.559879       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[955df14c-82a6-431f-b393-cc98ef06e74a 955df14c-82a6-431f-b393-cc98ef06e74a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 18:07:15.560539       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:07:15.560632       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:04 +0000 UTC Window:{Duration:12.321s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749307442 scale:-9} d:{Dec:<nil>} s:749307442n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.560662       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749307442 scale:-9} d:{Dec:<nil>} s:749307442n Format:DecimalSI}, 750
I0412 18:07:15.560695       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:05 +0000 UTC Window:{Duration:12.314s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748996832 scale:-9} d:{Dec:<nil>} s:748996832n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:07:15.560703       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748996832 scale:-9} d:{Dec:<nil>} s:748996832n Format:DecimalSI}, 749
I0412 18:07:15.560730       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:58 +0000 UTC Window:{Duration:14.909s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2159299 scale:-9} d:{Dec:<nil>} s:2159299n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 18:07:15.560734       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2159299 scale:-9} d:{Dec:<nil>} s:2159299n Format:DecimalSI}, 3
I0412 18:07:15.560757       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:07 +0000 UTC Window:{Duration:19.151s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11313612 scale:-9} d:{Dec:<nil>} s:11313612n Format:DecimalSI} memory:{i:{value:167694336 scale:0} d:{Dec:<nil>} s:163764Ki Format:BinarySI}]}]}
I0412 18:07:15.560767       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11313612 scale:-9} d:{Dec:<nil>} s:11313612n Format:DecimalSI}, 12
I0412 18:07:15.560786       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:56 +0000 UTC Window:{Duration:23.413s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1844616 scale:-9} d:{Dec:<nil>} s:1844616n Format:DecimalSI} memory:{i:{value:14745600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.560794       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1844616 scale:-9} d:{Dec:<nil>} s:1844616n Format:DecimalSI}, 2
I0412 18:07:15.560815       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:58 +0000 UTC Window:{Duration:22.871s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:5408 scale:-9} d:{Dec:<nil>} s:5408n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:07:15.560823       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:5408 scale:-9} d:{Dec:<nil>} s:5408n Format:DecimalSI}, 1
I0412 18:07:15.560827       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:07:15.560844       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:06:54 +0000 UTC Window:{Duration:14.721s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1129271 scale:-9} d:{Dec:<nil>} s:1129271n Format:DecimalSI} memory:{i:{value:7233536 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.560855       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1129271 scale:-9} d:{Dec:<nil>} s:1129271n Format:DecimalSI}, 2
I0412 18:07:15.560877       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:05 +0000 UTC Window:{Duration:16.444s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:473364 scale:-9} d:{Dec:<nil>} s:473364n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.560888       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:473364 scale:-9} d:{Dec:<nil>} s:473364n Format:DecimalSI}, 1
I0412 18:07:15.560906       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:03 +0000 UTC Window:{Duration:11.414s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2498598 scale:-9} d:{Dec:<nil>} s:2498598n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:07:15.560916       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2498598 scale:-9} d:{Dec:<nil>} s:2498598n Format:DecimalSI}, 3
I0412 18:07:15.560934       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:01 +0000 UTC Window:{Duration:18.599s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:285122 scale:-9} d:{Dec:<nil>} s:285122n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.560946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:285122 scale:-9} d:{Dec:<nil>} s:285122n Format:DecimalSI}, 1
I0412 18:07:15.560964       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:06 +0000 UTC Window:{Duration:19.532s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:69782 scale:-9} d:{Dec:<nil>} s:69782n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.560971       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69782 scale:-9} d:{Dec:<nil>} s:69782n Format:DecimalSI}, 1
I0412 18:07:15.560996       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:06 +0000 UTC Window:{Duration:10.186s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:35146 scale:-9} d:{Dec:<nil>} s:35146n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.561008       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:35146 scale:-9} d:{Dec:<nil>} s:35146n Format:DecimalSI}, 1
I0412 18:07:15.561028       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:06 +0000 UTC Window:{Duration:18.379s} Containers:[{Name:updater Usage:map[cpu:{i:{value:172207 scale:-9} d:{Dec:<nil>} s:172207n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.561035       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:172207 scale:-9} d:{Dec:<nil>} s:172207n Format:DecimalSI}, 1
I0412 18:07:15.561051       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:07:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:04 +0000 UTC Window:{Duration:14.695s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1372847 scale:-9} d:{Dec:<nil>} s:1372847n Format:DecimalSI} memory:{i:{value:59113472 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:07:15.561057       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1372847 scale:-9} d:{Dec:<nil>} s:1372847n Format:DecimalSI}, 2
I0412 18:07:15.561175       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:07:15.561187       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:07:15.561218       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:07:15.561246       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:07:15.561287       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1105149465.146\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:07:15.561299       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841b78 ControlledValues:<nil>}:
I0412 18:07:15.561317       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:07:15.561325       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:07:15.561332       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442044601]
I0412 18:07:15.561336       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:07:15.561341       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1716 memory:888738586]
I0412 18:07:15.561345       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:07:15.584156       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883140} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008831d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6b34a91c-a165-4c2f-ba28-06f535183d2d] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6b40 TLS:0xc0005220b0}
I0412 18:07:15.606201       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712a20} GetBody:0x6d9b40 ContentLength:521 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712ab0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dc2746b8-8339-47d1-8d1d-8ee70d5ca619] Cache-Control:[no-cache, private] Content-Length:[1488] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:07:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:1488 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076afc0 TLS:0xc0005220b0}
I0412 18:07:15.606336       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:07:15.606349       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:07:25.405438       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 0 items received
I0412 18:08:15.532916       1 recommender.go:166] Recommender Run
I0412 18:08:15.533105       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:08:15.533130       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:08:15.533427       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:08:15.567921       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007287e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f26bb48e-4dcb-43d5-ac9a-76dbcd0ae11c f26bb48e-4dcb-43d5-ac9a-76dbcd0ae11c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7e60 TLS:0xc0005220b0}
I0412 18:08:15.569158       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:08:15.569294       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:06 +0000 UTC Window:{Duration:15.055s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750977814 scale:-9} d:{Dec:<nil>} s:750977814n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:08:15.569330       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750977814 scale:-9} d:{Dec:<nil>} s:750977814n Format:DecimalSI}, 751
I0412 18:08:15.569367       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:10 +0000 UTC Window:{Duration:15.82s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749109797 scale:-9} d:{Dec:<nil>} s:749109797n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:08:15.569379       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749109797 scale:-9} d:{Dec:<nil>} s:749109797n Format:DecimalSI}, 750
I0412 18:08:15.569441       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:09 +0000 UTC Window:{Duration:14.916s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3790694 scale:-9} d:{Dec:<nil>} s:3790694n Format:DecimalSI} memory:{i:{value:32083968 scale:0} d:{Dec:<nil>} s:31332Ki Format:BinarySI}]}]}
I0412 18:08:15.569482       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3790694 scale:-9} d:{Dec:<nil>} s:3790694n Format:DecimalSI}, 4
I0412 18:08:15.569540       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:04 +0000 UTC Window:{Duration:14.319s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10980096 scale:-9} d:{Dec:<nil>} s:10980096n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 18:08:15.569547       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10980096 scale:-9} d:{Dec:<nil>} s:10980096n Format:DecimalSI}, 11
I0412 18:08:15.569575       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:02 +0000 UTC Window:{Duration:15.533s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1986544 scale:-9} d:{Dec:<nil>} s:1986544n Format:DecimalSI} memory:{i:{value:15433728 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:08:15.569587       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1986544 scale:-9} d:{Dec:<nil>} s:1986544n Format:DecimalSI}, 2
I0412 18:08:15.569617       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:03 +0000 UTC Window:{Duration:14.945s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:08:15.569631       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:08:15.569637       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:08:15.569663       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:56 +0000 UTC Window:{Duration:15.838s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:949172 scale:-9} d:{Dec:<nil>} s:949172n Format:DecimalSI} memory:{i:{value:6975488 scale:0} d:{Dec:<nil>} s:6812Ki Format:BinarySI}]}]}
I0412 18:08:15.569725       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:949172 scale:-9} d:{Dec:<nil>} s:949172n Format:DecimalSI}, 1
I0412 18:08:15.569823       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:05 +0000 UTC Window:{Duration:14.97s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:272545 scale:-9} d:{Dec:<nil>} s:272545n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:08:15.569836       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:272545 scale:-9} d:{Dec:<nil>} s:272545n Format:DecimalSI}, 1
I0412 18:08:15.569871       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:02 +0000 UTC Window:{Duration:10.177s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2418885 scale:-9} d:{Dec:<nil>} s:2418885n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:08:15.569883       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2418885 scale:-9} d:{Dec:<nil>} s:2418885n Format:DecimalSI}, 3
I0412 18:08:15.569909       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:59 +0000 UTC Window:{Duration:14.249s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:840760 scale:-9} d:{Dec:<nil>} s:840760n Format:DecimalSI} memory:{i:{value:9768960 scale:0} d:{Dec:<nil>} s:9540Ki Format:BinarySI}]}]}
I0412 18:08:15.569925       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:840760 scale:-9} d:{Dec:<nil>} s:840760n Format:DecimalSI}, 1
I0412 18:08:15.569949       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:11 +0000 UTC Window:{Duration:14.723s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:224207 scale:-9} d:{Dec:<nil>} s:224207n Format:DecimalSI} memory:{i:{value:11837440 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:08:15.569959       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:224207 scale:-9} d:{Dec:<nil>} s:224207n Format:DecimalSI}, 1
I0412 18:08:15.569982       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:07:58 +0000 UTC Window:{Duration:11.773s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:336702 scale:-9} d:{Dec:<nil>} s:336702n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:08:15.569991       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:336702 scale:-9} d:{Dec:<nil>} s:336702n Format:DecimalSI}, 1
I0412 18:08:15.570040       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:11 +0000 UTC Window:{Duration:28.011s} Containers:[{Name:updater Usage:map[cpu:{i:{value:54264 scale:-9} d:{Dec:<nil>} s:54264n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:08:15.570050       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:54264 scale:-9} d:{Dec:<nil>} s:54264n Format:DecimalSI}, 1
I0412 18:08:15.570083       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:08:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:10 +0000 UTC Window:{Duration:28.636s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1273152 scale:-9} d:{Dec:<nil>} s:1273152n Format:DecimalSI} memory:{i:{value:59174912 scale:0} d:{Dec:<nil>} s:57788Ki Format:BinarySI}]}]}
I0412 18:08:15.570112       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1273152 scale:-9} d:{Dec:<nil>} s:1273152n Format:DecimalSI}, 2
I0412 18:08:15.570324       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:08:15.570352       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:08:15.570425       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:08:15.570504       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:08:15.570567       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1270936273.460\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:08:15.570579       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605170 ControlledValues:<nil>}:
I0412 18:08:15.570611       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:08:15.570619       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:08:15.570628       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442045099]
I0412 18:08:15.570634       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:08:15.570642       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1611 memory:888470360]
I0412 18:08:15.570647       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:08:15.583215       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000747920} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007479b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[baa5711e-ca36-40e7-ad0d-25c38bda23c8] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d0e0 TLS:0xc0005220b0}
I0412 18:08:15.596597       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582db0} GetBody:0x6d9b40 ContentLength:520 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582e40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[41e6031a-3c75-4f80-b653-a5c88632d5cc] Cache-Control:[no-cache, private] Content-Length:[1487] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:08:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:1487 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d8c0 TLS:0xc0005220b0}
I0412 18:08:15.596944       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:08:15.596972       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:08:18.124842       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 18:08:49.593493       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 4 items received
I0412 18:09:10.344782       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 3 items received
I0412 18:09:15.532716       1 recommender.go:166] Recommender Run
I0412 18:09:15.532955       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:09:15.533044       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:09:15.536656       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:09:15.556104       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be6f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[135646c4-1d42-4341-b653-b2747a7ec15a 135646c4-1d42-4341-b653-b2747a7ec15a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364a20 TLS:0xc0005220b0}
I0412 18:09:15.556699       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:09:15.556775       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:09 +0000 UTC Window:{Duration:14.135s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752954651 scale:-9} d:{Dec:<nil>} s:752954651n Format:DecimalSI} memory:{i:{value:398147584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.556790       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752954651 scale:-9} d:{Dec:<nil>} s:752954651n Format:DecimalSI}, 753
I0412 18:09:15.556828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:03 +0000 UTC Window:{Duration:12.522s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748734387 scale:-9} d:{Dec:<nil>} s:748734387n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:09:15.556835       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748734387 scale:-9} d:{Dec:<nil>} s:748734387n Format:DecimalSI}, 749
I0412 18:09:15.556874       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:57 +0000 UTC Window:{Duration:13.971s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2052107 scale:-9} d:{Dec:<nil>} s:2052107n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.556881       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2052107 scale:-9} d:{Dec:<nil>} s:2052107n Format:DecimalSI}, 3
I0412 18:09:15.556900       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:06 +0000 UTC Window:{Duration:11.745s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10684291 scale:-9} d:{Dec:<nil>} s:10684291n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.556904       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10684291 scale:-9} d:{Dec:<nil>} s:10684291n Format:DecimalSI}, 11
I0412 18:09:15.556918       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:10 +0000 UTC Window:{Duration:17.254s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1874058 scale:-9} d:{Dec:<nil>} s:1874058n Format:DecimalSI} memory:{i:{value:14704640 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.556958       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1874058 scale:-9} d:{Dec:<nil>} s:1874058n Format:DecimalSI}, 2
I0412 18:09:15.557007       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:59 +0000 UTC Window:{Duration:19.557s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:09:15.557035       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:09:15.557052       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:09:15.557093       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:57 +0000 UTC Window:{Duration:15.122s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1238526 scale:-9} d:{Dec:<nil>} s:1238526n Format:DecimalSI} memory:{i:{value:7041024 scale:0} d:{Dec:<nil>} s:6876Ki Format:BinarySI}]}]}
I0412 18:09:15.557123       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1238526 scale:-9} d:{Dec:<nil>} s:1238526n Format:DecimalSI}, 2
I0412 18:09:15.557290       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:04 +0000 UTC Window:{Duration:14.231s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:582952 scale:-9} d:{Dec:<nil>} s:582952n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 18:09:15.557301       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:582952 scale:-9} d:{Dec:<nil>} s:582952n Format:DecimalSI}, 1
I0412 18:09:15.557321       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:03 +0000 UTC Window:{Duration:16.757s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2705197 scale:-9} d:{Dec:<nil>} s:2705197n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:09:15.557331       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2705197 scale:-9} d:{Dec:<nil>} s:2705197n Format:DecimalSI}, 3
I0412 18:09:15.557354       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:57 +0000 UTC Window:{Duration:12.26s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:388580 scale:-9} d:{Dec:<nil>} s:388580n Format:DecimalSI} memory:{i:{value:9764864 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.557366       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:388580 scale:-9} d:{Dec:<nil>} s:388580n Format:DecimalSI}, 1
I0412 18:09:15.557401       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:11 +0000 UTC Window:{Duration:29.636s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:130213 scale:-9} d:{Dec:<nil>} s:130213n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.557409       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:130213 scale:-9} d:{Dec:<nil>} s:130213n Format:DecimalSI}, 1
I0412 18:09:15.557434       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:11 +0000 UTC Window:{Duration:14.374s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:152497 scale:-9} d:{Dec:<nil>} s:152497n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.557477       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:152497 scale:-9} d:{Dec:<nil>} s:152497n Format:DecimalSI}, 1
I0412 18:09:15.557527       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:06 +0000 UTC Window:{Duration:10.565s} Containers:[{Name:updater Usage:map[cpu:{i:{value:46379 scale:-9} d:{Dec:<nil>} s:46379n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:09:15.557572       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:46379 scale:-9} d:{Dec:<nil>} s:46379n Format:DecimalSI}, 1
I0412 18:09:15.557632       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:09:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:08:57 +0000 UTC Window:{Duration:10.061s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1917602 scale:-9} d:{Dec:<nil>} s:1917602n Format:DecimalSI} memory:{i:{value:59215872 scale:0} d:{Dec:<nil>} s:57828Ki Format:BinarySI}]}]}
I0412 18:09:15.557663       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1917602 scale:-9} d:{Dec:<nil>} s:1917602n Format:DecimalSI}, 2
I0412 18:09:15.557814       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:09:15.557826       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:09:15.557860       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:09:15.557889       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:09:15.557928       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1460499852.246\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.801\n95\t0.801\n100\t0.801:
I0412 18:09:15.557937       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009914d0 ControlledValues:<nil>}:
I0412 18:09:15.557957       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:09:15.557971       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:09:15.557980       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442045549]
I0412 18:09:15.558026       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:09:15.558063       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1715 memory:888227196]
I0412 18:09:15.558072       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:09:15.574817       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0030} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e00c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d28da8ee-65fb-41dc-a1da-b60877ca7fe1] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b560 TLS:0xc0005220b0}
I0412 18:09:15.596817       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0db0} GetBody:0x6d9b40 ContentLength:523 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0e40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[35b41a07-528a-4783-b47f-a444e5483314] Cache-Control:[no-cache, private] Content-Length:[1490] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:1490 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214360 TLS:0xc0005220b0}
I0412 18:09:15.597028       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:09:15.597043       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 18:09:15.597059       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:09:15.597068       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:09:15.597092       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:09:15.607270       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1770 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[60406f0a-ecb6-4d8f-828c-29bc13e4a9dc] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363e00} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214c60 TLS:0xc0005220b0}
I0412 18:09:15.616490       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712990 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[50039220-8861-4994-a9d6-188ac9d373e7] Cache-Control:[no-cache, private] Content-Length:[1643] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472c00} ContentLength:1643 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffc20 TLS:0xc0005220b0}
I0412 18:09:15.628843       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712fc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bda36fce-7c68-4741-85b4-2ffbe206223f] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 18:09:15.636762       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713740 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ae200093-b614-4544-b94a-29ce4d0be656] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473080} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1b00 TLS:0xc0005220b0}
I0412 18:09:15.652668       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008825a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[83e8ab40-3d3f-47eb-9f04-bc715322c2fa] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b66c0 TLS:0xc0005220b0}
I0412 18:09:15.658463       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762090 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d6c68c1a-c57a-4c8e-9616-03b864b6a764] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:09:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473200} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c6c0 TLS:0xc0005220b0}
I0412 18:09:15.658693       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:10:15.532700       1 recommender.go:166] Recommender Run
I0412 18:10:15.532747       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:10:15.532758       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:10:15.532798       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:10:15.548118       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762c00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cdbf87f1-6f03-40c6-86fb-f0fa3d7b1b95 cdbf87f1-6f03-40c6-86fb-f0fa3d7b1b95] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473380} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cc60 TLS:0xc0005220b0}
I0412 18:10:15.548789       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:10:15.548902       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:08 +0000 UTC Window:{Duration:14.2s} Containers:[{Name:workload Usage:map[cpu:{i:{value:716149507 scale:-9} d:{Dec:<nil>} s:716149507n Format:DecimalSI} memory:{i:{value:4653056 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.548966       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:716149507 scale:-9} d:{Dec:<nil>} s:716149507n Format:DecimalSI}, 717
I0412 18:10:15.549026       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:02 +0000 UTC Window:{Duration:13.621s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749028632 scale:-9} d:{Dec:<nil>} s:749028632n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:10:15.549035       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749028632 scale:-9} d:{Dec:<nil>} s:749028632n Format:DecimalSI}, 750
I0412 18:10:15.549069       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:04 +0000 UTC Window:{Duration:14.683s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2966764 scale:-9} d:{Dec:<nil>} s:2966764n Format:DecimalSI} memory:{i:{value:32092160 scale:0} d:{Dec:<nil>} s:31340Ki Format:BinarySI}]}]}
I0412 18:10:15.549076       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2966764 scale:-9} d:{Dec:<nil>} s:2966764n Format:DecimalSI}, 3
I0412 18:10:15.549115       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:58 +0000 UTC Window:{Duration:11.698s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11407676 scale:-9} d:{Dec:<nil>} s:11407676n Format:DecimalSI} memory:{i:{value:167706624 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.549128       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11407676 scale:-9} d:{Dec:<nil>} s:11407676n Format:DecimalSI}, 12
I0412 18:10:15.549157       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:01 +0000 UTC Window:{Duration:18.755s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1766568 scale:-9} d:{Dec:<nil>} s:1766568n Format:DecimalSI} memory:{i:{value:14700544 scale:0} d:{Dec:<nil>} s:14356Ki Format:BinarySI}]}]}
I0412 18:10:15.549202       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1766568 scale:-9} d:{Dec:<nil>} s:1766568n Format:DecimalSI}, 2
I0412 18:10:15.549244       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:56 +0000 UTC Window:{Duration:27.043s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:4104 scale:-9} d:{Dec:<nil>} s:4104n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:10:15.549279       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4104 scale:-9} d:{Dec:<nil>} s:4104n Format:DecimalSI}, 1
I0412 18:10:15.549289       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:10:15.549309       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:04 +0000 UTC Window:{Duration:15.736s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:689819 scale:-9} d:{Dec:<nil>} s:689819n Format:DecimalSI} memory:{i:{value:7114752 scale:0} d:{Dec:<nil>} s:6948Ki Format:BinarySI}]}]}
I0412 18:10:15.549313       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:689819 scale:-9} d:{Dec:<nil>} s:689819n Format:DecimalSI}, 1
I0412 18:10:15.549328       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:08 +0000 UTC Window:{Duration:15.995s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:273147 scale:-9} d:{Dec:<nil>} s:273147n Format:DecimalSI} memory:{i:{value:12701696 scale:0} d:{Dec:<nil>} s:12404Ki Format:BinarySI}]}]}
I0412 18:10:15.549355       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:273147 scale:-9} d:{Dec:<nil>} s:273147n Format:DecimalSI}, 1
I0412 18:10:15.549414       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:01 +0000 UTC Window:{Duration:17.315s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2791336 scale:-9} d:{Dec:<nil>} s:2791336n Format:DecimalSI} memory:{i:{value:19365888 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.549426       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2791336 scale:-9} d:{Dec:<nil>} s:2791336n Format:DecimalSI}, 3
I0412 18:10:15.549444       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:00 +0000 UTC Window:{Duration:13.384s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:835699 scale:-9} d:{Dec:<nil>} s:835699n Format:DecimalSI} memory:{i:{value:9797632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.549461       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:835699 scale:-9} d:{Dec:<nil>} s:835699n Format:DecimalSI}, 1
I0412 18:10:15.549479       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:59 +0000 UTC Window:{Duration:18.223s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:142402 scale:-9} d:{Dec:<nil>} s:142402n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.549482       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:142402 scale:-9} d:{Dec:<nil>} s:142402n Format:DecimalSI}, 1
I0412 18:10:15.549502       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:09:58 +0000 UTC Window:{Duration:19.763s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:93052 scale:-9} d:{Dec:<nil>} s:93052n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.549536       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:93052 scale:-9} d:{Dec:<nil>} s:93052n Format:DecimalSI}, 1
I0412 18:10:15.549564       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:04 +0000 UTC Window:{Duration:15.266s} Containers:[{Name:updater Usage:map[cpu:{i:{value:30918 scale:-9} d:{Dec:<nil>} s:30918n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.549570       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:30918 scale:-9} d:{Dec:<nil>} s:30918n Format:DecimalSI}, 1
I0412 18:10:15.549585       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:10:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:09 +0000 UTC Window:{Duration:26.56s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:766415 scale:-9} d:{Dec:<nil>} s:766415n Format:DecimalSI} memory:{i:{value:59219968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:10:15.549591       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:766415 scale:-9} d:{Dec:<nil>} s:766415n Format:DecimalSI}, 1
I0412 18:10:15.549673       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:10:15.549726       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:10:15.549786       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:10:15.549828       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:10:15.549881       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1677748691.639\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.753\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:10:15.549902       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009910b0 ControlledValues:<nil>}:
I0412 18:10:15.549926       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:10:15.549931       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:10:15.549936       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442046000]
I0412 18:10:15.549940       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:10:15.549944       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1714 memory:887984318]
I0412 18:10:15.549947       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:10:15.566431       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582120} GetBody:0x6d9b40 ContentLength:414 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582240 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b634592b-26ff-4706-90b3-fba539ba2192] Cache-Control:[no-cache, private] Content-Length:[2253] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2253 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d07e0 TLS:0xc0005220b0}
I0412 18:10:15.585226       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007635c0} GetBody:0x6d9b40 ContentLength:515 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007639b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6fc4d690-79e8-4797-8f76-770cb542a3aa] Cache-Control:[no-cache, private] Content-Length:[1472] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:10:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473680} ContentLength:1472 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d440 TLS:0xc0005220b0}
I0412 18:10:15.585378       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:10:15.585394       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:11:15.541220       1 recommender.go:166] Recommender Run
I0412 18:11:15.541556       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:11:15.541579       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:11:15.541719       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:11:15.553930       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d530 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f1cbb785-e8a3-4bbb-b845-43c56eb2be2e f1cbb785-e8a3-4bbb-b845-43c56eb2be2e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2300} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002150e0 TLS:0xc0005220b0}
I0412 18:11:15.554601       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:11:15.554690       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:04 +0000 UTC Window:{Duration:11.722s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50330916 scale:-9} d:{Dec:<nil>} s:50330916n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:11:15.554708       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50330916 scale:-9} d:{Dec:<nil>} s:50330916n Format:DecimalSI}, 51
I0412 18:11:15.554752       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:04 +0000 UTC Window:{Duration:11.032s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748047316 scale:-9} d:{Dec:<nil>} s:748047316n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:11:15.554765       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748047316 scale:-9} d:{Dec:<nil>} s:748047316n Format:DecimalSI}, 749
I0412 18:11:15.554812       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:10 +0000 UTC Window:{Duration:14.4s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1892847 scale:-9} d:{Dec:<nil>} s:1892847n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.554824       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1892847 scale:-9} d:{Dec:<nil>} s:1892847n Format:DecimalSI}, 2
I0412 18:11:15.554862       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:06 +0000 UTC Window:{Duration:19.112s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11678526 scale:-9} d:{Dec:<nil>} s:11678526n Format:DecimalSI} memory:{i:{value:167624704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.554874       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11678526 scale:-9} d:{Dec:<nil>} s:11678526n Format:DecimalSI}, 12
I0412 18:11:15.554916       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:11 +0000 UTC Window:{Duration:17.882s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1891343 scale:-9} d:{Dec:<nil>} s:1891343n Format:DecimalSI} memory:{i:{value:14749696 scale:0} d:{Dec:<nil>} s:14404Ki Format:BinarySI}]}]}
I0412 18:11:15.554932       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1891343 scale:-9} d:{Dec:<nil>} s:1891343n Format:DecimalSI}, 2
I0412 18:11:15.554982       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:10:56 +0000 UTC Window:{Duration:17.031s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:11:15.555002       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:11:15.555011       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:11:15.555048       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:00 +0000 UTC Window:{Duration:14.822s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1771016 scale:-9} d:{Dec:<nil>} s:1771016n Format:DecimalSI} memory:{i:{value:6963200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.555059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1771016 scale:-9} d:{Dec:<nil>} s:1771016n Format:DecimalSI}, 2
I0412 18:11:15.555100       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:07 +0000 UTC Window:{Duration:15.687s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:424555 scale:-9} d:{Dec:<nil>} s:424555n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:11:15.555108       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:424555 scale:-9} d:{Dec:<nil>} s:424555n Format:DecimalSI}, 1
I0412 18:11:15.555142       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:07 +0000 UTC Window:{Duration:14.357s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3036079 scale:-9} d:{Dec:<nil>} s:3036079n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:11:15.555162       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3036079 scale:-9} d:{Dec:<nil>} s:3036079n Format:DecimalSI}, 4
I0412 18:11:15.555200       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:02 +0000 UTC Window:{Duration:14.089s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:532898 scale:-9} d:{Dec:<nil>} s:532898n Format:DecimalSI} memory:{i:{value:9797632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.555212       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:532898 scale:-9} d:{Dec:<nil>} s:532898n Format:DecimalSI}, 1
I0412 18:11:15.555246       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:11 +0000 UTC Window:{Duration:19.951s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:129417 scale:-9} d:{Dec:<nil>} s:129417n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.555257       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:129417 scale:-9} d:{Dec:<nil>} s:129417n Format:DecimalSI}, 1
I0412 18:11:15.555298       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:02 +0000 UTC Window:{Duration:13.029s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:248983 scale:-9} d:{Dec:<nil>} s:248983n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.555309       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:248983 scale:-9} d:{Dec:<nil>} s:248983n Format:DecimalSI}, 1
I0412 18:11:15.555341       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:09 +0000 UTC Window:{Duration:41.314s} Containers:[{Name:updater Usage:map[cpu:{i:{value:513119 scale:-9} d:{Dec:<nil>} s:513119n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.555350       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:513119 scale:-9} d:{Dec:<nil>} s:513119n Format:DecimalSI}, 1
I0412 18:11:15.555381       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:11:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:11 +0000 UTC Window:{Duration:23.449s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:2325173 scale:-9} d:{Dec:<nil>} s:2325173n Format:DecimalSI} memory:{i:{value:59285504 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:11:15.555394       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2325173 scale:-9} d:{Dec:<nil>} s:2325173n Format:DecimalSI}, 3
I0412 18:11:15.555538       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:11:15.555554       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:11:15.555598       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:11:15.555644       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:11:15.555714       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 1926720169.938\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:11:15.555725       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000605800 ControlledValues:<nil>}:
I0412 18:11:15.555758       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:11:15.555768       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:11:15.555786       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442046427]
I0412 18:11:15.555794       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:11:15.555802       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1714 memory:887754054]
I0412 18:11:15.555810       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:11:15.568921       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf6e0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf770 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3e1c2edc-c4f7-434b-9b8c-913e6c12c65e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d320 TLS:0xc0005220b0}
I0412 18:11:15.584049       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007289c0} GetBody:0x6d9b40 ContentLength:516 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728a50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[90967385-f815-4ffe-a3f7-0ab234c9549c] Cache-Control:[no-cache, private] Content-Length:[1474] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:11:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:1474 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214a20 TLS:0xc0005220b0}
I0412 18:11:15.584257       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:11:15.584272       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:11:18.794186       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 17 items received
I0412 18:11:20.210181       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 18:11:54.987308       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 0 items received
I0412 18:12:15.536696       1 recommender.go:166] Recommender Run
I0412 18:12:15.536733       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:12:15.536739       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:12:15.536780       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:12:15.552509       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712b70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ca11a578-6a46-4caf-a8f6-a457434f47e1 ca11a578-6a46-4caf-a8f6-a457434f47e1] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003658c0 TLS:0xc0005220b0}
I0412 18:12:15.553308       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:12:15.553383       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:08 +0000 UTC Window:{Duration:19.418s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50228087 scale:-9} d:{Dec:<nil>} s:50228087n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:12:15.553409       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50228087 scale:-9} d:{Dec:<nil>} s:50228087n Format:DecimalSI}, 51
I0412 18:12:15.553435       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:09 +0000 UTC Window:{Duration:13.226s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748428776 scale:-9} d:{Dec:<nil>} s:748428776n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:12:15.553440       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748428776 scale:-9} d:{Dec:<nil>} s:748428776n Format:DecimalSI}, 749
I0412 18:12:15.553461       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:06 +0000 UTC Window:{Duration:17.08s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2900117 scale:-9} d:{Dec:<nil>} s:2900117n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2900117 scale:-9} d:{Dec:<nil>} s:2900117n Format:DecimalSI}, 3
I0412 18:12:15.553490       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:02 +0000 UTC Window:{Duration:11.361s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9186075 scale:-9} d:{Dec:<nil>} s:9186075n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553507       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9186075 scale:-9} d:{Dec:<nil>} s:9186075n Format:DecimalSI}, 10
I0412 18:12:15.553532       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:00 +0000 UTC Window:{Duration:19.879s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1742944 scale:-9} d:{Dec:<nil>} s:1742944n Format:DecimalSI} memory:{i:{value:14917632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553543       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1742944 scale:-9} d:{Dec:<nil>} s:1742944n Format:DecimalSI}, 2
I0412 18:12:15.553572       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:03 +0000 UTC Window:{Duration:15.027s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:12:15.553585       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:12:15.553589       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:12:15.553609       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:00 +0000 UTC Window:{Duration:11.435s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1472146 scale:-9} d:{Dec:<nil>} s:1472146n Format:DecimalSI} memory:{i:{value:6979584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553617       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1472146 scale:-9} d:{Dec:<nil>} s:1472146n Format:DecimalSI}, 2
I0412 18:12:15.553640       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:09 +0000 UTC Window:{Duration:14.131s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:847710 scale:-9} d:{Dec:<nil>} s:847710n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:12:15.553648       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:847710 scale:-9} d:{Dec:<nil>} s:847710n Format:DecimalSI}, 1
I0412 18:12:15.553666       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:54 +0000 UTC Window:{Duration:29.406s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3425865 scale:-9} d:{Dec:<nil>} s:3425865n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:12:15.553670       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3425865 scale:-9} d:{Dec:<nil>} s:3425865n Format:DecimalSI}, 4
I0412 18:12:15.553689       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:56 +0000 UTC Window:{Duration:17.254s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:770256 scale:-9} d:{Dec:<nil>} s:770256n Format:DecimalSI} memory:{i:{value:9797632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553697       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:770256 scale:-9} d:{Dec:<nil>} s:770256n Format:DecimalSI}, 1
I0412 18:12:15.553714       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:07 +0000 UTC Window:{Duration:13.494s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:28234 scale:-9} d:{Dec:<nil>} s:28234n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553721       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:28234 scale:-9} d:{Dec:<nil>} s:28234n Format:DecimalSI}, 1
I0412 18:12:15.553739       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:05 +0000 UTC Window:{Duration:19.784s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:123281 scale:-9} d:{Dec:<nil>} s:123281n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553747       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:123281 scale:-9} d:{Dec:<nil>} s:123281n Format:DecimalSI}, 1
I0412 18:12:15.553769       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:06 +0000 UTC Window:{Duration:14.464s} Containers:[{Name:updater Usage:map[cpu:{i:{value:193998 scale:-9} d:{Dec:<nil>} s:193998n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553773       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:193998 scale:-9} d:{Dec:<nil>} s:193998n Format:DecimalSI}, 1
I0412 18:12:15.553790       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:12:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:11:56 +0000 UTC Window:{Duration:15.104s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:998344 scale:-9} d:{Dec:<nil>} s:998344n Format:DecimalSI} memory:{i:{value:59293696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:12:15.553795       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:998344 scale:-9} d:{Dec:<nil>} s:998344n Format:DecimalSI}, 1
I0412 18:12:15.553856       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:12:15.553868       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:12:15.553898       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:12:15.553920       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:12:15.553949       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 2215702532.206\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:12:15.553958       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990750 ControlledValues:<nil>}:
I0412 18:12:15.553977       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:12:15.553983       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:12:15.553994       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442046921]
I0412 18:12:15.553998       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:12:15.554003       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1713 memory:887487108]
I0412 18:12:15.554007       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:12:15.572031       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883d40} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883dd0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6c3709f5-2ffd-49fd-9928-bce3d0d2c25f] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 18:12:15.587507       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746b40} GetBody:0x6d9b40 ContentLength:515 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746bd0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[97c1844d-0379-48f9-94a3-4fd7915495d4] Cache-Control:[no-cache, private] Content-Length:[1473] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:12:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473380} ContentLength:1473 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6000 TLS:0xc0005220b0}
I0412 18:12:15.587717       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:12:15.587735       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:13:15.536893       1 recommender.go:166] Recommender Run
I0412 18:13:15.537060       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:13:15.537093       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:13:15.537293       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:13:15.553343       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d620 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[04b2ca70-1e73-48d0-9658-12561810f441 04b2ca70-1e73-48d0-9658-12561810f441] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b560 TLS:0xc0005220b0}
I0412 18:13:15.555800       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:13:15.555916       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:57 +0000 UTC Window:{Duration:14.681s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49735304 scale:-9} d:{Dec:<nil>} s:49735304n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:13:15.556004       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49735304 scale:-9} d:{Dec:<nil>} s:49735304n Format:DecimalSI}, 50
I0412 18:13:15.556132       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:05 +0000 UTC Window:{Duration:17.656s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747438547 scale:-9} d:{Dec:<nil>} s:747438547n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:13:15.556148       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747438547 scale:-9} d:{Dec:<nil>} s:747438547n Format:DecimalSI}, 748
I0412 18:13:15.556201       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:09 +0000 UTC Window:{Duration:16.546s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1877674 scale:-9} d:{Dec:<nil>} s:1877674n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.556243       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1877674 scale:-9} d:{Dec:<nil>} s:1877674n Format:DecimalSI}, 2
I0412 18:13:15.556333       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:05 +0000 UTC Window:{Duration:16.722s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11816887 scale:-9} d:{Dec:<nil>} s:11816887n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.556348       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11816887 scale:-9} d:{Dec:<nil>} s:11816887n Format:DecimalSI}, 12
I0412 18:13:15.556411       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:03 +0000 UTC Window:{Duration:13.238s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1796570 scale:-9} d:{Dec:<nil>} s:1796570n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 18:13:15.556462       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1796570 scale:-9} d:{Dec:<nil>} s:1796570n Format:DecimalSI}, 2
I0412 18:13:15.556559       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:12:52 +0000 UTC Window:{Duration:13.896s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:13:15.556689       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:13:15.556721       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:13:15.556777       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:11 +0000 UTC Window:{Duration:33.27s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1258941 scale:-9} d:{Dec:<nil>} s:1258941n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.556789       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1258941 scale:-9} d:{Dec:<nil>} s:1258941n Format:DecimalSI}, 2
I0412 18:13:15.556847       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:09 +0000 UTC Window:{Duration:13.31s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:207888 scale:-9} d:{Dec:<nil>} s:207888n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:13:15.556898       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:207888 scale:-9} d:{Dec:<nil>} s:207888n Format:DecimalSI}, 1
I0412 18:13:15.556966       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:01 +0000 UTC Window:{Duration:13.044s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4334866 scale:-9} d:{Dec:<nil>} s:4334866n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:13:15.556977       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4334866 scale:-9} d:{Dec:<nil>} s:4334866n Format:DecimalSI}, 5
I0412 18:13:15.557013       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:02 +0000 UTC Window:{Duration:16.057s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:126922 scale:-9} d:{Dec:<nil>} s:126922n Format:DecimalSI} memory:{i:{value:9797632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.557019       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:126922 scale:-9} d:{Dec:<nil>} s:126922n Format:DecimalSI}, 1
I0412 18:13:15.557054       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:01 +0000 UTC Window:{Duration:11.376s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:146097 scale:-9} d:{Dec:<nil>} s:146097n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.557072       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:146097 scale:-9} d:{Dec:<nil>} s:146097n Format:DecimalSI}, 1
I0412 18:13:15.557108       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:04 +0000 UTC Window:{Duration:18.862s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:186618 scale:-9} d:{Dec:<nil>} s:186618n Format:DecimalSI} memory:{i:{value:11116544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.557140       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:186618 scale:-9} d:{Dec:<nil>} s:186618n Format:DecimalSI}, 1
I0412 18:13:15.557178       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:11 +0000 UTC Window:{Duration:34.464s} Containers:[{Name:updater Usage:map[cpu:{i:{value:391742 scale:-9} d:{Dec:<nil>} s:391742n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.557194       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:391742 scale:-9} d:{Dec:<nil>} s:391742n Format:DecimalSI}, 1
I0412 18:13:15.557229       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:13:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:07 +0000 UTC Window:{Duration:11.532s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:451526 scale:-9} d:{Dec:<nil>} s:451526n Format:DecimalSI} memory:{i:{value:59408384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:13:15.557238       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:451526 scale:-9} d:{Dec:<nil>} s:451526n Format:DecimalSI}, 1
I0412 18:13:15.557420       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:13:15.557434       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:13:15.557502       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:13:15.557545       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:13:15.557608       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 2541967048.379\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:13:15.557619       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991db8 ControlledValues:<nil>}:
I0412 18:13:15.557658       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:13:15.557710       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:13:15.557732       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442047347]
I0412 18:13:15.557739       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:13:15.557765       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1713 memory:887257400]
I0412 18:13:15.557803       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:13:15.580153       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794720} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007947b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[efe554c1-d333-4511-b6e0-3eeee32e7e90] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004559e0 TLS:0xc0005220b0}
I0412 18:13:15.594034       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746990} GetBody:0x6d9b40 ContentLength:515 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746a20 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[03d9f36b-164f-4b06-b767-4b1d87e618be] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6900 TLS:0xc0005220b0}
I0412 18:13:15.628917       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000747410} GetBody:0x6d9b40 ContentLength:697 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007474a0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[40373c9c-5451-48d1-8ca1-71ff3465ab68] Cache-Control:[no-cache, private] Content-Length:[1472] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:13:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:1472 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7b00 TLS:0xc0005220b0}
I0412 18:13:15.629239       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:13:15.629279       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:13:49.869776       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 10 items received
I0412 18:13:54.408912       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 7 items received
I0412 18:14:15.532868       1 recommender.go:166] Recommender Run
I0412 18:14:15.533026       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:14:15.533108       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:14:15.533347       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:14:15.550516       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795620 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d48267f7-e923-4499-ae30-93f600d59b61 d48267f7-e923-4499-ae30-93f600d59b61] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b440 TLS:0xc0005220b0}
I0412 18:14:15.551539       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:14:15.551612       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:55 +0000 UTC Window:{Duration:26.351s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49862358 scale:-9} d:{Dec:<nil>} s:49862358n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:14:15.551626       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49862358 scale:-9} d:{Dec:<nil>} s:49862358n Format:DecimalSI}, 50
I0412 18:14:15.551653       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:04 +0000 UTC Window:{Duration:18.55s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751756927 scale:-9} d:{Dec:<nil>} s:751756927n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:14:15.551658       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751756927 scale:-9} d:{Dec:<nil>} s:751756927n Format:DecimalSI}, 752
I0412 18:14:15.551743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:04 +0000 UTC Window:{Duration:12.628s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4729806 scale:-9} d:{Dec:<nil>} s:4729806n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:14:15.551749       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4729806 scale:-9} d:{Dec:<nil>} s:4729806n Format:DecimalSI}, 5
I0412 18:14:15.551771       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:08 +0000 UTC Window:{Duration:15.115s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11546212 scale:-9} d:{Dec:<nil>} s:11546212n Format:DecimalSI} memory:{i:{value:167731200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:14:15.551793       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11546212 scale:-9} d:{Dec:<nil>} s:11546212n Format:DecimalSI}, 12
I0412 18:14:15.551828       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:13:58 +0000 UTC Window:{Duration:10.423s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1583421 scale:-9} d:{Dec:<nil>} s:1583421n Format:DecimalSI} memory:{i:{value:14680064 scale:0} d:{Dec:<nil>} s:14Mi Format:BinarySI}]}]}
I0412 18:14:15.551840       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1583421 scale:-9} d:{Dec:<nil>} s:1583421n Format:DecimalSI}, 2
I0412 18:14:15.551913       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:05 +0000 UTC Window:{Duration:17.635s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:14:15.551939       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:14:15.551973       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:14:15.551999       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:04 +0000 UTC Window:{Duration:16.14s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1106071 scale:-9} d:{Dec:<nil>} s:1106071n Format:DecimalSI} memory:{i:{value:6963200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:14:15.552006       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1106071 scale:-9} d:{Dec:<nil>} s:1106071n Format:DecimalSI}, 2
I0412 18:14:15.552024       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:04 +0000 UTC Window:{Duration:10.568s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:924867 scale:-9} d:{Dec:<nil>} s:924867n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:14:15.552028       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:924867 scale:-9} d:{Dec:<nil>} s:924867n Format:DecimalSI}, 1
I0412 18:14:15.552092       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:11 +0000 UTC Window:{Duration:19.694s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2784655 scale:-9} d:{Dec:<nil>} s:2784655n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:14:15.552100       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2784655 scale:-9} d:{Dec:<nil>} s:2784655n Format:DecimalSI}, 3
I0412 18:14:15.552119       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:09 +0000 UTC Window:{Duration:13.264s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:272089 scale:-9} d:{Dec:<nil>} s:272089n Format:DecimalSI} memory:{i:{value:9801728 scale:0} d:{Dec:<nil>} s:9572Ki Format:BinarySI}]}]}
I0412 18:14:15.552125       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:272089 scale:-9} d:{Dec:<nil>} s:272089n Format:DecimalSI}, 1
I0412 18:14:15.552144       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:05 +0000 UTC Window:{Duration:14.625s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:118222 scale:-9} d:{Dec:<nil>} s:118222n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:14:15.552147       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:118222 scale:-9} d:{Dec:<nil>} s:118222n Format:DecimalSI}, 1
I0412 18:14:15.552164       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:07 +0000 UTC Window:{Duration:10.725s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:24522 scale:-9} d:{Dec:<nil>} s:24522n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:14:15.552190       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:24522 scale:-9} d:{Dec:<nil>} s:24522n Format:DecimalSI}, 1
I0412 18:14:15.552213       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:00 +0000 UTC Window:{Duration:15.65s} Containers:[{Name:updater Usage:map[cpu:{i:{value:112396 scale:-9} d:{Dec:<nil>} s:112396n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:14:15.552235       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:112396 scale:-9} d:{Dec:<nil>} s:112396n Format:DecimalSI}, 1
I0412 18:14:15.552253       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:14:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:05 +0000 UTC Window:{Duration:10.014s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:898841 scale:-9} d:{Dec:<nil>} s:898841n Format:DecimalSI} memory:{i:{value:59424768 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:14:15.552277       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:898841 scale:-9} d:{Dec:<nil>} s:898841n Format:DecimalSI}, 1
I0412 18:14:15.552425       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:14:15.552449       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:14:15.552514       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:14:15.552535       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:14:15.552655       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 2915454159.477\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:14:15.552679       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840558 ControlledValues:<nil>}:
I0412 18:14:15.552707       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:14:15.552713       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:14:15.552719       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442047796]
I0412 18:14:15.552723       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:14:15.552729       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1712 memory:887015665]
I0412 18:14:15.552733       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:14:15.571306       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007122a0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712330 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[09e12a93-609e-433a-8e9d-732cc329091e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe5a0 TLS:0xc0005220b0}
I0412 18:14:15.595100       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712f90} GetBody:0x6d9b40 ContentLength:515 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713020 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9afa9be3-a0aa-43d0-89e9-b60416e87e85] Cache-Control:[no-cache, private] Content-Length:[1472] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:14:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccf00} ContentLength:1472 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff9e0 TLS:0xc0005220b0}
I0412 18:14:15.595465       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:14:15.595495       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:14:45.128203       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 4 items received
I0412 18:14:49.598380       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 0 items received
I0412 18:15:15.536692       1 recommender.go:166] Recommender Run
I0412 18:15:15.536719       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:15:15.536727       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:15:15.536824       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:15:15.549158       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089df20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e878adbf-c47c-453d-8d86-3462eb2ddbe5 e878adbf-c47c-453d-8d86-3462eb2ddbe5] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1440 TLS:0xc0005220b0}
I0412 18:15:15.549996       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:15:15.550070       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:58 +0000 UTC Window:{Duration:17.908s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49854422 scale:-9} d:{Dec:<nil>} s:49854422n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:15:15.550085       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49854422 scale:-9} d:{Dec:<nil>} s:49854422n Format:DecimalSI}, 50
I0412 18:15:15.550124       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:07 +0000 UTC Window:{Duration:14.378s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49499860 scale:-9} d:{Dec:<nil>} s:49499860n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:15:15.550135       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49499860 scale:-9} d:{Dec:<nil>} s:49499860n Format:DecimalSI}, 50
I0412 18:15:15.550173       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:56 +0000 UTC Window:{Duration:24.594s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2224201 scale:-9} d:{Dec:<nil>} s:2224201n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2224201 scale:-9} d:{Dec:<nil>} s:2224201n Format:DecimalSI}, 3
I0412 18:15:15.550233       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:09 +0000 UTC Window:{Duration:17.334s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11800623 scale:-9} d:{Dec:<nil>} s:11800623n Format:DecimalSI} memory:{i:{value:167673856 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550247       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11800623 scale:-9} d:{Dec:<nil>} s:11800623n Format:DecimalSI}, 12
I0412 18:15:15.550282       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:55 +0000 UTC Window:{Duration:18.111s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1934570 scale:-9} d:{Dec:<nil>} s:1934570n Format:DecimalSI} memory:{i:{value:14708736 scale:0} d:{Dec:<nil>} s:14364Ki Format:BinarySI}]}]}
I0412 18:15:15.550293       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1934570 scale:-9} d:{Dec:<nil>} s:1934570n Format:DecimalSI}, 2
I0412 18:15:15.550344       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:58 +0000 UTC Window:{Duration:19.345s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:15:15.550356       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:15:15.550364       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:15:15.550397       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:11 +0000 UTC Window:{Duration:17.137s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1374452 scale:-9} d:{Dec:<nil>} s:1374452n Format:DecimalSI} memory:{i:{value:7012352 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550417       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1374452 scale:-9} d:{Dec:<nil>} s:1374452n Format:DecimalSI}, 2
I0412 18:15:15.550457       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:01 +0000 UTC Window:{Duration:17.362s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:595783 scale:-9} d:{Dec:<nil>} s:595783n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550482       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:595783 scale:-9} d:{Dec:<nil>} s:595783n Format:DecimalSI}, 1
I0412 18:15:15.550520       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:58 +0000 UTC Window:{Duration:16.433s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2832775 scale:-9} d:{Dec:<nil>} s:2832775n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:15:15.550530       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2832775 scale:-9} d:{Dec:<nil>} s:2832775n Format:DecimalSI}, 3
I0412 18:15:15.550565       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:14:55 +0000 UTC Window:{Duration:23.731s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:371033 scale:-9} d:{Dec:<nil>} s:371033n Format:DecimalSI} memory:{i:{value:9797632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550576       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:371033 scale:-9} d:{Dec:<nil>} s:371033n Format:DecimalSI}, 1
I0412 18:15:15.550609       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:08 +0000 UTC Window:{Duration:17.422s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:84777 scale:-9} d:{Dec:<nil>} s:84777n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550620       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:84777 scale:-9} d:{Dec:<nil>} s:84777n Format:DecimalSI}, 1
I0412 18:15:15.550663       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:05 +0000 UTC Window:{Duration:12.965s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:59159 scale:-9} d:{Dec:<nil>} s:59159n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550683       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:59159 scale:-9} d:{Dec:<nil>} s:59159n Format:DecimalSI}, 1
I0412 18:15:15.550724       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:08 +0000 UTC Window:{Duration:16.093s} Containers:[{Name:updater Usage:map[cpu:{i:{value:68228 scale:-9} d:{Dec:<nil>} s:68228n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:15:15.550735       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:68228 scale:-9} d:{Dec:<nil>} s:68228n Format:DecimalSI}, 1
I0412 18:15:15.550771       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:15:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:11 +0000 UTC Window:{Duration:25.289s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1343548 scale:-9} d:{Dec:<nil>} s:1343548n Format:DecimalSI} memory:{i:{value:60248064 scale:0} d:{Dec:<nil>} s:58836Ki Format:BinarySI}]}]}
I0412 18:15:15.550793       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1343548 scale:-9} d:{Dec:<nil>} s:1343548n Format:DecimalSI}, 2
I0412 18:15:15.550870       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:15:15.550883       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:15:15.550952       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:15:15.550981       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:15:15.551039       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 3347462287.724\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:15:15.551056       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990648 ControlledValues:<nil>}:
I0412 18:15:15.551102       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:15:15.551117       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:15:15.551128       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442048274]
I0412 18:15:15.551138       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:15:15.551148       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1608 memory:886757854]
I0412 18:15:15.551155       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:15:15.568357       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf350} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf3e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8f006415-8f5e-4d0d-bb72-db3c7a4fdb8e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000349320 TLS:0xc0005220b0}
I0412 18:15:15.585078       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1890} GetBody:0x6d9b40 ContentLength:513 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1a40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6e0c1a56-381d-45f0-b5ff-a65fd618a86e] Cache-Control:[no-cache, private] Content-Length:[1470] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:15:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:1470 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4fc0 TLS:0xc0005220b0}
I0412 18:15:15.585237       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:15:15.585253       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:15:40.572998       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 11 items received
I0412 18:16:15.534355       1 recommender.go:166] Recommender Run
I0412 18:16:15.534394       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:16:15.534409       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:16:15.534446       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:16:15.552194       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713980 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7cbbab4c-ac25-44af-9308-ca10bf5aa262 7cbbab4c-ac25-44af-9308-ca10bf5aa262] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff9e0 TLS:0xc0005220b0}
I0412 18:16:15.553006       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:16:15.553107       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:59 +0000 UTC Window:{Duration:11.299s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50190636 scale:-9} d:{Dec:<nil>} s:50190636n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:16:15.553121       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50190636 scale:-9} d:{Dec:<nil>} s:50190636n Format:DecimalSI}, 51
I0412 18:16:15.553210       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:01 +0000 UTC Window:{Duration:10.563s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49990059 scale:-9} d:{Dec:<nil>} s:49990059n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:16:15.553221       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49990059 scale:-9} d:{Dec:<nil>} s:49990059n Format:DecimalSI}, 50
I0412 18:16:15.553276       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:03 +0000 UTC Window:{Duration:13.638s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3365889 scale:-9} d:{Dec:<nil>} s:3365889n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:16:15.553286       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3365889 scale:-9} d:{Dec:<nil>} s:3365889n Format:DecimalSI}, 4
I0412 18:16:15.553317       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:09 +0000 UTC Window:{Duration:28.591s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11555244 scale:-9} d:{Dec:<nil>} s:11555244n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 18:16:15.553327       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11555244 scale:-9} d:{Dec:<nil>} s:11555244n Format:DecimalSI}, 12
I0412 18:16:15.553381       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:02 +0000 UTC Window:{Duration:14.156s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1693486 scale:-9} d:{Dec:<nil>} s:1693486n Format:DecimalSI} memory:{i:{value:14897152 scale:0} d:{Dec:<nil>} s:14548Ki Format:BinarySI}]}]}
I0412 18:16:15.553389       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1693486 scale:-9} d:{Dec:<nil>} s:1693486n Format:DecimalSI}, 2
I0412 18:16:15.553412       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:55 +0000 UTC Window:{Duration:18.623s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:16:15.553416       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:16:15.553419       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:16:15.553442       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:15:57 +0000 UTC Window:{Duration:10.213s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1747087 scale:-9} d:{Dec:<nil>} s:1747087n Format:DecimalSI} memory:{i:{value:7016448 scale:0} d:{Dec:<nil>} s:6852Ki Format:BinarySI}]}]}
I0412 18:16:15.553448       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1747087 scale:-9} d:{Dec:<nil>} s:1747087n Format:DecimalSI}, 2
I0412 18:16:15.553464       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:05 +0000 UTC Window:{Duration:19.736s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:367399 scale:-9} d:{Dec:<nil>} s:367399n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:16:15.553472       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:367399 scale:-9} d:{Dec:<nil>} s:367399n Format:DecimalSI}, 1
I0412 18:16:15.553487       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:00 +0000 UTC Window:{Duration:16.714s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3380100 scale:-9} d:{Dec:<nil>} s:3380100n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:16:15.553494       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3380100 scale:-9} d:{Dec:<nil>} s:3380100n Format:DecimalSI}, 4
I0412 18:16:15.553509       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:08 +0000 UTC Window:{Duration:17.315s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:549350 scale:-9} d:{Dec:<nil>} s:549350n Format:DecimalSI} memory:{i:{value:9740288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:16:15.553518       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:549350 scale:-9} d:{Dec:<nil>} s:549350n Format:DecimalSI}, 1
I0412 18:16:15.553533       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:10 +0000 UTC Window:{Duration:19.366s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:183724 scale:-9} d:{Dec:<nil>} s:183724n Format:DecimalSI} memory:{i:{value:11575296 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:16:15.553536       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:183724 scale:-9} d:{Dec:<nil>} s:183724n Format:DecimalSI}, 1
I0412 18:16:15.553551       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:06 +0000 UTC Window:{Duration:19.982s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:144029 scale:-9} d:{Dec:<nil>} s:144029n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:16:15.553557       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:144029 scale:-9} d:{Dec:<nil>} s:144029n Format:DecimalSI}, 1
I0412 18:16:15.553570       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:04 +0000 UTC Window:{Duration:14.624s} Containers:[{Name:updater Usage:map[cpu:{i:{value:274480 scale:-9} d:{Dec:<nil>} s:274480n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:16:15.553573       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:274480 scale:-9} d:{Dec:<nil>} s:274480n Format:DecimalSI}, 1
I0412 18:16:15.553586       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:16:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:08 +0000 UTC Window:{Duration:23.797s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1024246 scale:-9} d:{Dec:<nil>} s:1024246n Format:DecimalSI} memory:{i:{value:60264448 scale:0} d:{Dec:<nil>} s:58852Ki Format:BinarySI}]}]}
I0412 18:16:15.553592       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1024246 scale:-9} d:{Dec:<nil>} s:1024246n Format:DecimalSI}, 2
I0412 18:16:15.553641       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:16:15.553650       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:16:15.553681       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:16:15.553694       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:16:15.553715       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 3840825791.367\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:16:15.553722       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006058a8 ControlledValues:<nil>}:
I0412 18:16:15.553738       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:16:15.553745       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:16:15.553750       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442048683]
I0412 18:16:15.553753       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:16:15.553757       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1607 memory:886537131]
I0412 18:16:15.553760       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:16:15.578661       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794cc0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794d50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[26947243-3b7f-4160-ae7b-fa2c23fba8ac] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004545a0 TLS:0xc0005220b0}
I0412 18:16:15.594747       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762d50} GetBody:0x6d9b40 ContentLength:515 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762de0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a5bccfa9-6732-4521-99db-940016aa0734] Cache-Control:[no-cache, private] Content-Length:[1472] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:16:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:1472 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d4d80 TLS:0xc0005220b0}
I0412 18:16:15.594905       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:16:15.594922       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:16:42.353776       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 0 items received
I0412 18:17:09.213264       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 3 items received
I0412 18:17:15.532102       1 recommender.go:166] Recommender Run
I0412 18:17:15.532172       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:17:15.532191       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:17:15.532350       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:17:15.545065       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e2d44d07-1bb9-4f53-a98d-b6711ed470af e2d44d07-1bb9-4f53-a98d-b6711ed470af] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b320 TLS:0xc0005220b0}
I0412 18:17:15.546618       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:17:15.546740       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:01 +0000 UTC Window:{Duration:19.108s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49862727 scale:-9} d:{Dec:<nil>} s:49862727n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:17:15.546832       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49862727 scale:-9} d:{Dec:<nil>} s:49862727n Format:DecimalSI}, 50
I0412 18:17:15.546896       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:02 +0000 UTC Window:{Duration:13.793s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49659899 scale:-9} d:{Dec:<nil>} s:49659899n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:17:15.546904       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49659899 scale:-9} d:{Dec:<nil>} s:49659899n Format:DecimalSI}, 50
I0412 18:17:15.546966       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:02 +0000 UTC Window:{Duration:11.555s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2131717 scale:-9} d:{Dec:<nil>} s:2131717n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:17:15.546999       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2131717 scale:-9} d:{Dec:<nil>} s:2131717n Format:DecimalSI}, 3
I0412 18:17:15.547067       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:08 +0000 UTC Window:{Duration:15.362s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11604348 scale:-9} d:{Dec:<nil>} s:11604348n Format:DecimalSI} memory:{i:{value:167636992 scale:0} d:{Dec:<nil>} s:163708Ki Format:BinarySI}]}]}
I0412 18:17:15.547082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11604348 scale:-9} d:{Dec:<nil>} s:11604348n Format:DecimalSI}, 12
I0412 18:17:15.547120       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:59 +0000 UTC Window:{Duration:12.47s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1925982 scale:-9} d:{Dec:<nil>} s:1925982n Format:DecimalSI} memory:{i:{value:15458304 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:17:15.547155       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1925982 scale:-9} d:{Dec:<nil>} s:1925982n Format:DecimalSI}, 2
I0412 18:17:15.547198       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:55 +0000 UTC Window:{Duration:17.306s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:17:15.547274       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:17:15.547289       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:17:15.547331       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:09 +0000 UTC Window:{Duration:23.393s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1573333 scale:-9} d:{Dec:<nil>} s:1573333n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:17:15.547338       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1573333 scale:-9} d:{Dec:<nil>} s:1573333n Format:DecimalSI}, 2
I0412 18:17:15.547430       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:02 +0000 UTC Window:{Duration:13.591s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:639099 scale:-9} d:{Dec:<nil>} s:639099n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:17:15.547449       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:639099 scale:-9} d:{Dec:<nil>} s:639099n Format:DecimalSI}, 1
I0412 18:17:15.547495       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:01 +0000 UTC Window:{Duration:14.456s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:5070835 scale:-9} d:{Dec:<nil>} s:5070835n Format:DecimalSI} memory:{i:{value:19361792 scale:0} d:{Dec:<nil>} s:18908Ki Format:BinarySI}]}]}
I0412 18:17:15.547510       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:5070835 scale:-9} d:{Dec:<nil>} s:5070835n Format:DecimalSI}, 6
I0412 18:17:15.547545       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:11 +0000 UTC Window:{Duration:21.28s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:205498 scale:-9} d:{Dec:<nil>} s:205498n Format:DecimalSI} memory:{i:{value:9740288 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:17:15.547560       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:205498 scale:-9} d:{Dec:<nil>} s:205498n Format:DecimalSI}, 1
I0412 18:17:15.547594       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:03 +0000 UTC Window:{Duration:12.16s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:300328 scale:-9} d:{Dec:<nil>} s:300328n Format:DecimalSI} memory:{i:{value:11595776 scale:0} d:{Dec:<nil>} s:11324Ki Format:BinarySI}]}]}
I0412 18:17:15.547601       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:300328 scale:-9} d:{Dec:<nil>} s:300328n Format:DecimalSI}, 1
I0412 18:17:15.547634       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:16:59 +0000 UTC Window:{Duration:13.888s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:285858 scale:-9} d:{Dec:<nil>} s:285858n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:17:15.547696       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:285858 scale:-9} d:{Dec:<nil>} s:285858n Format:DecimalSI}, 1
I0412 18:17:15.547743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:05 +0000 UTC Window:{Duration:16.018s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:17:15.547777       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:17:15.547813       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:17:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:09 +0000 UTC Window:{Duration:15.13s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1781229 scale:-9} d:{Dec:<nil>} s:1781229n Format:DecimalSI} memory:{i:{value:60284928 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:17:15.547828       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1781229 scale:-9} d:{Dec:<nil>} s:1781229n Format:DecimalSI}, 2
I0412 18:17:15.548103       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:17:15.548147       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:17:15.548232       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:17:15.548306       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:17:15.548421       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 4409518027.567\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:17:15.548445       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991470 ControlledValues:<nil>}:
I0412 18:17:15.548486       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:17:15.548503       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:17:15.548516       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442049144]
I0412 18:17:15.548523       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:17:15.548534       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1607 memory:886288082]
I0412 18:17:15.548541       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:17:15.563811       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089ddd0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089de60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bca169f8-f81a-4ae5-9925-26661d977482] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363c80} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000365d40 TLS:0xc0005220b0}
I0412 18:17:15.582645       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008827b0} GetBody:0x6d9b40 ContentLength:514 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882840 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a25f78d9-ffde-450f-a0f9-51507c9d62a2] Cache-Control:[no-cache, private] Content-Length:[1471] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:17:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:1471 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0ea0 TLS:0xc0005220b0}
I0412 18:17:15.584851       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:17:15.584885       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:18:15.532676       1 recommender.go:166] Recommender Run
I0412 18:18:15.532702       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:18:15.532708       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:18:15.532735       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:18:15.547996       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882cf0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a5ac262b-8e73-462b-a9b5-779eb66f87ff a5ac262b-8e73-462b-a9b5-779eb66f87ff] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1320 TLS:0xc0005220b0}
I0412 18:18:15.548653       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:18:15.548733       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:03 +0000 UTC Window:{Duration:12.467s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49592042 scale:-9} d:{Dec:<nil>} s:49592042n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:18:15.548759       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49592042 scale:-9} d:{Dec:<nil>} s:49592042n Format:DecimalSI}, 50
I0412 18:18:15.548806       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:03 +0000 UTC Window:{Duration:19.605s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49943738 scale:-9} d:{Dec:<nil>} s:49943738n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:18:15.548818       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49943738 scale:-9} d:{Dec:<nil>} s:49943738n Format:DecimalSI}, 50
I0412 18:18:15.548861       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:07 +0000 UTC Window:{Duration:14.703s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4037611 scale:-9} d:{Dec:<nil>} s:4037611n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.548870       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4037611 scale:-9} d:{Dec:<nil>} s:4037611n Format:DecimalSI}, 5
I0412 18:18:15.548906       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:10 +0000 UTC Window:{Duration:17.079s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12491773 scale:-9} d:{Dec:<nil>} s:12491773n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.548917       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12491773 scale:-9} d:{Dec:<nil>} s:12491773n Format:DecimalSI}, 13
I0412 18:18:15.548952       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:07 +0000 UTC Window:{Duration:17.155s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1667152 scale:-9} d:{Dec:<nil>} s:1667152n Format:DecimalSI} memory:{i:{value:14942208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.548963       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1667152 scale:-9} d:{Dec:<nil>} s:1667152n Format:DecimalSI}, 2
I0412 18:18:15.549019       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:03 +0000 UTC Window:{Duration:14.429s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:18:15.549060       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:18:15.549072       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:18:15.549118       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:05 +0000 UTC Window:{Duration:12.138s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1315620 scale:-9} d:{Dec:<nil>} s:1315620n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.549128       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1315620 scale:-9} d:{Dec:<nil>} s:1315620n Format:DecimalSI}, 2
I0412 18:18:15.549160       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:58 +0000 UTC Window:{Duration:17.695s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1555580 scale:-9} d:{Dec:<nil>} s:1555580n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.549172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1555580 scale:-9} d:{Dec:<nil>} s:1555580n Format:DecimalSI}, 2
I0412 18:18:15.549204       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:58 +0000 UTC Window:{Duration:14.298s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4540914 scale:-9} d:{Dec:<nil>} s:4540914n Format:DecimalSI} memory:{i:{value:18653184 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.549214       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4540914 scale:-9} d:{Dec:<nil>} s:4540914n Format:DecimalSI}, 5
I0412 18:18:15.549247       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:17:58 +0000 UTC Window:{Duration:15.755s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:923897 scale:-9} d:{Dec:<nil>} s:923897n Format:DecimalSI} memory:{i:{value:9752576 scale:0} d:{Dec:<nil>} s:9524Ki Format:BinarySI}]}]}
I0412 18:18:15.549258       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:923897 scale:-9} d:{Dec:<nil>} s:923897n Format:DecimalSI}, 1
I0412 18:18:15.549291       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:05 +0000 UTC Window:{Duration:14.585s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:94274 scale:-9} d:{Dec:<nil>} s:94274n Format:DecimalSI} memory:{i:{value:11595776 scale:0} d:{Dec:<nil>} s:11324Ki Format:BinarySI}]}]}
I0412 18:18:15.549302       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:94274 scale:-9} d:{Dec:<nil>} s:94274n Format:DecimalSI}, 1
I0412 18:18:15.549339       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:03 +0000 UTC Window:{Duration:14.231s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:204975 scale:-9} d:{Dec:<nil>} s:204975n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.549347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:204975 scale:-9} d:{Dec:<nil>} s:204975n Format:DecimalSI}, 1
I0412 18:18:15.549380       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:02 +0000 UTC Window:{Duration:10.704s} Containers:[{Name:updater Usage:map[cpu:{i:{value:213191 scale:-9} d:{Dec:<nil>} s:213191n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:18:15.549390       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:213191 scale:-9} d:{Dec:<nil>} s:213191n Format:DecimalSI}, 1
I0412 18:18:15.549422       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:18:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:02 +0000 UTC Window:{Duration:17.929s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1098834 scale:-9} d:{Dec:<nil>} s:1098834n Format:DecimalSI} memory:{i:{value:60289024 scale:0} d:{Dec:<nil>} s:58876Ki Format:BinarySI}]}]}
I0412 18:18:15.549463       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1098834 scale:-9} d:{Dec:<nil>} s:1098834n Format:DecimalSI}, 2
I0412 18:18:15.549554       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:18:15.549570       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:18:15.549620       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:18:15.549644       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:18:15.549695       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 5065041366.338\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:18:15.549708       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450468 ControlledValues:<nil>}:
I0412 18:18:15.549744       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:18:15.549758       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:18:15.549768       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442049606]
I0412 18:18:15.549778       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:18:15.549788       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1606 memory:886039335]
I0412 18:18:15.549796       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:18:15.576175       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007123c0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007127e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[df206010-801c-4c5e-9fe3-2dad42199374] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7c20 TLS:0xc0005220b0}
I0412 18:18:15.598219       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007133e0} GetBody:0x6d9b40 ContentLength:507 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713470 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2e9471ee-19ef-4851-a74c-2fab923f966d] Cache-Control:[no-cache, private] Content-Length:[1454] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:18:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:1454 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f46c0 TLS:0xc0005220b0}
I0412 18:18:15.598441       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:18:15.598462       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:18:21.797432       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 15 items received
I0412 18:18:56.874704       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 4 items received
I0412 18:19:15.469461       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: forcing resync
I0412 18:19:15.469504       1 reflector.go:378] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: forcing resync
I0412 18:19:15.531994       1 recommender.go:166] Recommender Run
I0412 18:19:15.532052       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:19:15.532077       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:19:15.532285       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:19:15.548243       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713b90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0bf23f6f-66e6-40ea-9dcf-7105f991284e 0bf23f6f-66e6-40ea-9dcf-7105f991284e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d4360 TLS:0xc0005220b0}
I0412 18:19:15.549916       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:19:15.550122       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:03 +0000 UTC Window:{Duration:12.52s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49977396 scale:-9} d:{Dec:<nil>} s:49977396n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:19:15.550187       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49977396 scale:-9} d:{Dec:<nil>} s:49977396n Format:DecimalSI}, 50
I0412 18:19:15.550279       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:04 +0000 UTC Window:{Duration:19.697s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50167385 scale:-9} d:{Dec:<nil>} s:50167385n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:19:15.550293       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50167385 scale:-9} d:{Dec:<nil>} s:50167385n Format:DecimalSI}, 51
I0412 18:19:15.550408       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:04 +0000 UTC Window:{Duration:11.235s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2011214 scale:-9} d:{Dec:<nil>} s:2011214n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:19:15.550443       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2011214 scale:-9} d:{Dec:<nil>} s:2011214n Format:DecimalSI}, 3
I0412 18:19:15.550546       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:08 +0000 UTC Window:{Duration:28.051s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12973619 scale:-9} d:{Dec:<nil>} s:12973619n Format:DecimalSI} memory:{i:{value:167694336 scale:0} d:{Dec:<nil>} s:163764Ki Format:BinarySI}]}]}
I0412 18:19:15.550569       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12973619 scale:-9} d:{Dec:<nil>} s:12973619n Format:DecimalSI}, 13
I0412 18:19:15.550641       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:03 +0000 UTC Window:{Duration:10.27s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1700 scale:-6} d:{Dec:<nil>} s:1700u Format:DecimalSI} memory:{i:{value:14610432 scale:0} d:{Dec:<nil>} s:14268Ki Format:BinarySI}]}]}
I0412 18:19:15.550659       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1700 scale:-6} d:{Dec:<nil>} s:1700u Format:DecimalSI}, 2
I0412 18:19:15.550738       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:18:56 +0000 UTC Window:{Duration:28.09s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:2563 scale:-9} d:{Dec:<nil>} s:2563n Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:19:15.550758       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:19:15.550773       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2563 scale:-9} d:{Dec:<nil>} s:2563n Format:DecimalSI}, 1
I0412 18:19:15.550877       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:06 +0000 UTC Window:{Duration:15.882s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1803362 scale:-9} d:{Dec:<nil>} s:1803362n Format:DecimalSI} memory:{i:{value:7184384 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:19:15.550903       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1803362 scale:-9} d:{Dec:<nil>} s:1803362n Format:DecimalSI}, 2
I0412 18:19:15.550972       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:11 +0000 UTC Window:{Duration:30.867s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:403181 scale:-9} d:{Dec:<nil>} s:403181n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:19:15.550986       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:403181 scale:-9} d:{Dec:<nil>} s:403181n Format:DecimalSI}, 1
I0412 18:19:15.551089       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:03 +0000 UTC Window:{Duration:12.971s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:4315241 scale:-9} d:{Dec:<nil>} s:4315241n Format:DecimalSI} memory:{i:{value:18640896 scale:0} d:{Dec:<nil>} s:18204Ki Format:BinarySI}]}]}
I0412 18:19:15.551108       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4315241 scale:-9} d:{Dec:<nil>} s:4315241n Format:DecimalSI}, 5
I0412 18:19:15.551178       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:10 +0000 UTC Window:{Duration:14.912s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:148403 scale:-9} d:{Dec:<nil>} s:148403n Format:DecimalSI} memory:{i:{value:9756672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:19:15.551207       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:148403 scale:-9} d:{Dec:<nil>} s:148403n Format:DecimalSI}, 1
I0412 18:19:15.551312       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:09 +0000 UTC Window:{Duration:15.373s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:201196 scale:-9} d:{Dec:<nil>} s:201196n Format:DecimalSI} memory:{i:{value:11595776 scale:0} d:{Dec:<nil>} s:11324Ki Format:BinarySI}]}]}
I0412 18:19:15.551342       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:201196 scale:-9} d:{Dec:<nil>} s:201196n Format:DecimalSI}, 1
I0412 18:19:15.551435       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:10 +0000 UTC Window:{Duration:14.931s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:342776 scale:-9} d:{Dec:<nil>} s:342776n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:19:15.551460       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:342776 scale:-9} d:{Dec:<nil>} s:342776n Format:DecimalSI}, 1
I0412 18:19:15.551597       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:09 +0000 UTC Window:{Duration:13.541s} Containers:[{Name:updater Usage:map[cpu:{i:{value:216453 scale:-9} d:{Dec:<nil>} s:216453n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:19:15.551625       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:216453 scale:-9} d:{Dec:<nil>} s:216453n Format:DecimalSI}, 1
I0412 18:19:15.551698       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:19:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:07 +0000 UTC Window:{Duration:11.229s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:637278 scale:-9} d:{Dec:<nil>} s:637278n Format:DecimalSI} memory:{i:{value:60289024 scale:0} d:{Dec:<nil>} s:58876Ki Format:BinarySI}]}]}
I0412 18:19:15.551711       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:637278 scale:-9} d:{Dec:<nil>} s:637278n Format:DecimalSI}, 1
I0412 18:19:15.552063       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:19:15.552113       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:19:15.552274       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:19:15.552424       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:19:15.552588       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 5818910851.038\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:19:15.552647       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990168 ControlledValues:<nil>}:
I0412 18:19:15.552704       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:19:15.552731       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:19:15.552753       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442050066]
I0412 18:19:15.552772       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:19:15.552792       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1606 memory:885790889]
I0412 18:19:15.552804       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:19:15.572877       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729590} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729650 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[19cbb98a-462c-4e4f-a4a1-c972bcf1c0c4] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3200} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d4d80 TLS:0xc0005220b0}
I0412 18:19:15.590568       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007627e0} GetBody:0x6d9b40 ContentLength:508 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762870 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[02af6bc4-78cf-4d09-b0dd-1b70535d7619] Cache-Control:[no-cache, private] Content-Length:[1455] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473080} ContentLength:1455 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003647e0 TLS:0xc0005220b0}
I0412 18:19:15.591082       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:19:15.591112       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 18:19:15.591136       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:19:15.591147       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:19:15.591278       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:19:15.603021       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1d70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f8f7a74d-2ab3-41f3-811a-dedaa611456f] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd200} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffd40 TLS:0xc0005220b0}
I0412 18:19:15.611466       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c600 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[34901fc8-8e8f-456c-806a-28ab63002dad] Cache-Control:[no-cache, private] Content-Length:[1608] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cdb00} ContentLength:1608 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cea0 TLS:0xc0005220b0}
I0412 18:19:15.620288       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089ce10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[52f066d7-f2b6-40e3-ba66-06643c243adc] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cde00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d440 TLS:0xc0005220b0}
I0412 18:19:15.627022       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d4d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c0f12cf4-3c8c-4b0e-a752-12ca95f3883f] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d9e0 TLS:0xc0005220b0}
I0412 18:19:15.635296       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be180 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e1b3bef4-6c15-40a7-9e9c-8709086b5e8c] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b8000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ad80 TLS:0xc0005220b0}
I0412 18:19:15.644383       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762540 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f49e0eea-86b1-4d10-bfb5-f8422236d85f] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:19:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364a20 TLS:0xc0005220b0}
I0412 18:19:15.644445       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:20:15.532700       1 recommender.go:166] Recommender Run
I0412 18:20:15.532736       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:20:15.532745       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:20:15.532800       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:20:15.549123       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763290 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dd66d301-7e81-41a7-a142-550d2bc7d402 dd66d301-7e81-41a7-a142-550d2bc7d402] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003657a0 TLS:0xc0005220b0}
I0412 18:20:15.550070       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:20:15.550174       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:57 +0000 UTC Window:{Duration:11.076s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50196189 scale:-9} d:{Dec:<nil>} s:50196189n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:20:15.550201       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50196189 scale:-9} d:{Dec:<nil>} s:50196189n Format:DecimalSI}, 51
I0412 18:20:15.550245       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:10 +0000 UTC Window:{Duration:24.866s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50024893 scale:-9} d:{Dec:<nil>} s:50024893n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:20:15.550252       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50024893 scale:-9} d:{Dec:<nil>} s:50024893n Format:DecimalSI}, 51
I0412 18:20:15.550297       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:06 +0000 UTC Window:{Duration:19.268s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2884160 scale:-9} d:{Dec:<nil>} s:2884160n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:20:15.550311       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2884160 scale:-9} d:{Dec:<nil>} s:2884160n Format:DecimalSI}, 3
I0412 18:20:15.550348       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:56 +0000 UTC Window:{Duration:18.309s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:14595390 scale:-9} d:{Dec:<nil>} s:14595390n Format:DecimalSI} memory:{i:{value:167694336 scale:0} d:{Dec:<nil>} s:163764Ki Format:BinarySI}]}]}
I0412 18:20:15.550354       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:14595390 scale:-9} d:{Dec:<nil>} s:14595390n Format:DecimalSI}, 15
I0412 18:20:15.550385       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:04 +0000 UTC Window:{Duration:15.692s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2029951 scale:-9} d:{Dec:<nil>} s:2029951n Format:DecimalSI} memory:{i:{value:14614528 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:20:15.550391       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2029951 scale:-9} d:{Dec:<nil>} s:2029951n Format:DecimalSI}, 3
I0412 18:20:15.550437       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:57 +0000 UTC Window:{Duration:24.455s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:20:15.550452       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:20:15.550460       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:20:15.550491       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:07 +0000 UTC Window:{Duration:18.524s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1100464 scale:-9} d:{Dec:<nil>} s:1100464n Format:DecimalSI} memory:{i:{value:6918144 scale:0} d:{Dec:<nil>} s:6756Ki Format:BinarySI}]}]}
I0412 18:20:15.550504       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1100464 scale:-9} d:{Dec:<nil>} s:1100464n Format:DecimalSI}, 2
I0412 18:20:15.550534       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:09 +0000 UTC Window:{Duration:14.485s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:506800 scale:-9} d:{Dec:<nil>} s:506800n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:20:15.550548       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:506800 scale:-9} d:{Dec:<nil>} s:506800n Format:DecimalSI}, 1
I0412 18:20:15.550586       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:07 +0000 UTC Window:{Duration:13.251s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3198249 scale:-9} d:{Dec:<nil>} s:3198249n Format:DecimalSI} memory:{i:{value:18833408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:20:15.550592       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3198249 scale:-9} d:{Dec:<nil>} s:3198249n Format:DecimalSI}, 4
I0412 18:20:15.550622       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:01 +0000 UTC Window:{Duration:17.629s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1015372 scale:-9} d:{Dec:<nil>} s:1015372n Format:DecimalSI} memory:{i:{value:9797632 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:20:15.550637       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1015372 scale:-9} d:{Dec:<nil>} s:1015372n Format:DecimalSI}, 2
I0412 18:20:15.550667       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:08 +0000 UTC Window:{Duration:16.674s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:101595 scale:-9} d:{Dec:<nil>} s:101595n Format:DecimalSI} memory:{i:{value:11595776 scale:0} d:{Dec:<nil>} s:11324Ki Format:BinarySI}]}]}
I0412 18:20:15.550678       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:101595 scale:-9} d:{Dec:<nil>} s:101595n Format:DecimalSI}, 1
I0412 18:20:15.550707       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:19:58 +0000 UTC Window:{Duration:16.615s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:140535 scale:-9} d:{Dec:<nil>} s:140535n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:20:15.550713       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:140535 scale:-9} d:{Dec:<nil>} s:140535n Format:DecimalSI}, 1
I0412 18:20:15.550745       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:08 +0000 UTC Window:{Duration:19.093s} Containers:[{Name:updater Usage:map[cpu:{i:{value:147069 scale:-9} d:{Dec:<nil>} s:147069n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:20:15.550766       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:147069 scale:-9} d:{Dec:<nil>} s:147069n Format:DecimalSI}, 1
I0412 18:20:15.550798       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:20:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:01 +0000 UTC Window:{Duration:11.876s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1126894 scale:-9} d:{Dec:<nil>} s:1126894n Format:DecimalSI} memory:{i:{value:60293120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:20:15.550804       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1126894 scale:-9} d:{Dec:<nil>} s:1126894n Format:DecimalSI}, 2
I0412 18:20:15.550885       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:20:15.550902       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:20:15.550972       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:20:15.551008       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:20:15.551066       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 6684976569.789\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:20:15.551084       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009918f0 ControlledValues:<nil>}:
I0412 18:20:15.551122       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:20:15.551132       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:20:15.551151       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442050564]
I0412 18:20:15.551164       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:20:15.551174       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1605 memory:885522418]
I0412 18:20:15.551181       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:20:15.567240       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008828d0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882960 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cd341ac7-b73f-4ae0-bcc2-51af1094e396] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 18:20:15.584351       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883230} GetBody:0x6d9b40 ContentLength:507 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0008832c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[922743ce-2641-425a-bc9b-ded5e3fc7533] Cache-Control:[no-cache, private] Content-Length:[1454] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:20:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:1454 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1d40 TLS:0xc0005220b0}
I0412 18:20:15.584597       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:20:15.584639       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:20:47.990321       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 9 items received
I0412 18:21:15.532704       1 recommender.go:166] Recommender Run
I0412 18:21:15.532754       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:21:15.532764       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:21:15.532815       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:21:15.548391       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712990 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[868bffcc-0897-4e44-9992-47f9f99bb32c 868bffcc-0897-4e44-9992-47f9f99bb32c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6900 TLS:0xc0005220b0}
I0412 18:21:15.549476       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:21:15.549604       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:59 +0000 UTC Window:{Duration:19.318s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50067760 scale:-9} d:{Dec:<nil>} s:50067760n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:21:15.549629       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50067760 scale:-9} d:{Dec:<nil>} s:50067760n Format:DecimalSI}, 51
I0412 18:21:15.549676       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:08 +0000 UTC Window:{Duration:10.993s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50251159 scale:-9} d:{Dec:<nil>} s:50251159n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:21:15.549697       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50251159 scale:-9} d:{Dec:<nil>} s:50251159n Format:DecimalSI}, 51
I0412 18:21:15.549737       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:59 +0000 UTC Window:{Duration:10.901s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2284010 scale:-9} d:{Dec:<nil>} s:2284010n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:21:15.549751       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2284010 scale:-9} d:{Dec:<nil>} s:2284010n Format:DecimalSI}, 3
I0412 18:21:15.549785       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:00 +0000 UTC Window:{Duration:17.746s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12689732 scale:-9} d:{Dec:<nil>} s:12689732n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:21:15.549799       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12689732 scale:-9} d:{Dec:<nil>} s:12689732n Format:DecimalSI}, 13
I0412 18:21:15.549833       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:06 +0000 UTC Window:{Duration:18.899s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1724482 scale:-9} d:{Dec:<nil>} s:1724482n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 18:21:15.549849       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1724482 scale:-9} d:{Dec:<nil>} s:1724482n Format:DecimalSI}, 2
I0412 18:21:15.549889       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:56 +0000 UTC Window:{Duration:15.469s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:21:15.549900       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:21:15.549912       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:21:15.549969       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:05 +0000 UTC Window:{Duration:13.225s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1189035 scale:-9} d:{Dec:<nil>} s:1189035n Format:DecimalSI} memory:{i:{value:6942720 scale:0} d:{Dec:<nil>} s:6780Ki Format:BinarySI}]}]}
I0412 18:21:15.550024       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1189035 scale:-9} d:{Dec:<nil>} s:1189035n Format:DecimalSI}, 2
I0412 18:21:15.550068       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:53 +0000 UTC Window:{Duration:12.177s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:75552 scale:-9} d:{Dec:<nil>} s:75552n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:21:15.550081       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:75552 scale:-9} d:{Dec:<nil>} s:75552n Format:DecimalSI}, 1
I0412 18:21:15.550115       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:10 +0000 UTC Window:{Duration:13.582s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3339051 scale:-9} d:{Dec:<nil>} s:3339051n Format:DecimalSI} memory:{i:{value:18898944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:21:15.550126       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3339051 scale:-9} d:{Dec:<nil>} s:3339051n Format:DecimalSI}, 4
I0412 18:21:15.550161       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:10 +0000 UTC Window:{Duration:16.339s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:278413 scale:-9} d:{Dec:<nil>} s:278413n Format:DecimalSI} memory:{i:{value:9801728 scale:0} d:{Dec:<nil>} s:9572Ki Format:BinarySI}]}]}
I0412 18:21:15.550167       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:278413 scale:-9} d:{Dec:<nil>} s:278413n Format:DecimalSI}, 1
I0412 18:21:15.550197       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:11 +0000 UTC Window:{Duration:18.124s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:114268 scale:-9} d:{Dec:<nil>} s:114268n Format:DecimalSI} memory:{i:{value:11595776 scale:0} d:{Dec:<nil>} s:11324Ki Format:BinarySI}]}]}
I0412 18:21:15.550213       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:114268 scale:-9} d:{Dec:<nil>} s:114268n Format:DecimalSI}, 1
I0412 18:21:15.550243       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:20:59 +0000 UTC Window:{Duration:12.199s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:249774 scale:-9} d:{Dec:<nil>} s:249774n Format:DecimalSI} memory:{i:{value:11124736 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:21:15.550254       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:249774 scale:-9} d:{Dec:<nil>} s:249774n Format:DecimalSI}, 1
I0412 18:21:15.550282       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:02 +0000 UTC Window:{Duration:27.813s} Containers:[{Name:updater Usage:map[cpu:{i:{value:631575 scale:-9} d:{Dec:<nil>} s:631575n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:21:15.550288       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:631575 scale:-9} d:{Dec:<nil>} s:631575n Format:DecimalSI}, 1
I0412 18:21:15.550383       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:21:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:09 +0000 UTC Window:{Duration:16.34s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1886780 scale:-9} d:{Dec:<nil>} s:1886780n Format:DecimalSI} memory:{i:{value:60366848 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:21:15.550410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1886780 scale:-9} d:{Dec:<nil>} s:1886780n Format:DecimalSI}, 2
I0412 18:21:15.550522       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:21:15.550547       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:21:15.550621       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:21:15.550645       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:21:15.550684       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 7679766421.686\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:21:15.550693       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841920 ControlledValues:<nil>}:
I0412 18:21:15.550734       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:21:15.550744       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:21:15.550755       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442051001]
I0412 18:21:15.550762       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:21:15.550772       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1605 memory:885286780]
I0412 18:21:15.550779       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:21:15.571410       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00051d260} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d3e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[268aeb4b-d38a-4071-8b4f-791e2e517dc9] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4900 TLS:0xc0005220b0}
I0412 18:21:15.587135       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0420} GetBody:0x6d9b40 ContentLength:507 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e04b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[57326797-4276-424b-9e2f-70173ca218bd] Cache-Control:[no-cache, private] Content-Length:[1454] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:21:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473200} ContentLength:1454 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 18:21:15.587439       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:21:15.587464       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:22:15.131604       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 0 items received
I0412 18:22:15.531673       1 recommender.go:166] Recommender Run
I0412 18:22:15.531705       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:22:15.531714       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:22:15.531805       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:22:15.543674       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c960 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[42984f6d-c692-4b88-b5cd-f79df5f68d9f 42984f6d-c692-4b88-b5cd-f79df5f68d9f] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 18:22:15.544281       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:22:15.544362       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:58 +0000 UTC Window:{Duration:14.266s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49680499 scale:-9} d:{Dec:<nil>} s:49680499n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:22:15.544378       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49680499 scale:-9} d:{Dec:<nil>} s:49680499n Format:DecimalSI}, 50
I0412 18:22:15.544423       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:09 +0000 UTC Window:{Duration:16.454s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50059985 scale:-9} d:{Dec:<nil>} s:50059985n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:22:15.544435       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50059985 scale:-9} d:{Dec:<nil>} s:50059985n Format:DecimalSI}, 51
I0412 18:22:15.544479       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:11 +0000 UTC Window:{Duration:28.617s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3230736 scale:-9} d:{Dec:<nil>} s:3230736n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:22:15.544489       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3230736 scale:-9} d:{Dec:<nil>} s:3230736n Format:DecimalSI}, 4
I0412 18:22:15.544528       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:57 +0000 UTC Window:{Duration:18.892s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:15362904 scale:-9} d:{Dec:<nil>} s:15362904n Format:DecimalSI} memory:{i:{value:167694336 scale:0} d:{Dec:<nil>} s:163764Ki Format:BinarySI}]}]}
I0412 18:22:15.544548       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:15362904 scale:-9} d:{Dec:<nil>} s:15362904n Format:DecimalSI}, 16
I0412 18:22:15.544637       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:07 +0000 UTC Window:{Duration:14.435s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1636231 scale:-9} d:{Dec:<nil>} s:1636231n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 18:22:15.544649       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1636231 scale:-9} d:{Dec:<nil>} s:1636231n Format:DecimalSI}, 2
I0412 18:22:15.544690       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:48 +0000 UTC Window:{Duration:10.387s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:22:15.544703       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:22:15.544713       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:22:15.544746       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:06 +0000 UTC Window:{Duration:13.146s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1365434 scale:-9} d:{Dec:<nil>} s:1365434n Format:DecimalSI} memory:{i:{value:6946816 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:22:15.544763       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1365434 scale:-9} d:{Dec:<nil>} s:1365434n Format:DecimalSI}, 2
I0412 18:22:15.544799       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:57 +0000 UTC Window:{Duration:14.838s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1746192 scale:-9} d:{Dec:<nil>} s:1746192n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:22:15.544812       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1746192 scale:-9} d:{Dec:<nil>} s:1746192n Format:DecimalSI}, 2
I0412 18:22:15.544847       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:07 +0000 UTC Window:{Duration:14.811s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2931537 scale:-9} d:{Dec:<nil>} s:2931537n Format:DecimalSI} memory:{i:{value:19124224 scale:0} d:{Dec:<nil>} s:18676Ki Format:BinarySI}]}]}
I0412 18:22:15.544861       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2931537 scale:-9} d:{Dec:<nil>} s:2931537n Format:DecimalSI}, 3
I0412 18:22:15.544893       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:10 +0000 UTC Window:{Duration:14.273s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:186225 scale:-9} d:{Dec:<nil>} s:186225n Format:DecimalSI} memory:{i:{value:9801728 scale:0} d:{Dec:<nil>} s:9572Ki Format:BinarySI}]}]}
I0412 18:22:15.544905       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:186225 scale:-9} d:{Dec:<nil>} s:186225n Format:DecimalSI}, 1
I0412 18:22:15.544937       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:09 +0000 UTC Window:{Duration:28.794s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:103424 scale:-9} d:{Dec:<nil>} s:103424n Format:DecimalSI} memory:{i:{value:11595776 scale:0} d:{Dec:<nil>} s:11324Ki Format:BinarySI}]}]}
I0412 18:22:15.544947       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:103424 scale:-9} d:{Dec:<nil>} s:103424n Format:DecimalSI}, 1
I0412 18:22:15.544978       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:03 +0000 UTC Window:{Duration:17.49s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:171297 scale:-9} d:{Dec:<nil>} s:171297n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:22:15.544987       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:171297 scale:-9} d:{Dec:<nil>} s:171297n Format:DecimalSI}, 1
I0412 18:22:15.545018       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:10 +0000 UTC Window:{Duration:18.052s} Containers:[{Name:updater Usage:map[cpu:{i:{value:157821 scale:-9} d:{Dec:<nil>} s:157821n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:22:15.545034       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:157821 scale:-9} d:{Dec:<nil>} s:157821n Format:DecimalSI}, 1
I0412 18:22:15.545072       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:22:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:21:59 +0000 UTC Window:{Duration:15.507s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1559489 scale:-9} d:{Dec:<nil>} s:1559489n Format:DecimalSI} memory:{i:{value:62562304 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:22:15.545083       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1559489 scale:-9} d:{Dec:<nil>} s:1559489n Format:DecimalSI}, 2
I0412 18:22:15.545166       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:22:15.545180       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:22:15.545217       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:22:15.545239       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:22:15.545281       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 8822510388.284\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:22:15.545291       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009902a0 ControlledValues:<nil>}:
I0412 18:22:15.545323       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:22:15.545340       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:22:15.545350       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442051460]
I0412 18:22:15.545360       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:22:15.545369       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1604 memory:885039247]
I0412 18:22:15.545375       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:22:15.571502       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762090} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762120 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0e61d4c6-d6c6-40ac-bb5c-4f5f74ce1220] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d06c0 TLS:0xc0005220b0}
I0412 18:22:15.595207       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762f60} GetBody:0x6d9b40 ContentLength:507 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762ff0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[45eff211-ea7c-4d87-9b13-93dfbe159e4c] Cache-Control:[no-cache, private] Content-Length:[1455] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:22:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363380} ContentLength:1455 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364fc0 TLS:0xc0005220b0}
I0412 18:22:15.595502       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:22:15.595534       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:22:16.601641       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 7 items received
I0412 18:22:51.577760       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 8 items received
I0412 18:22:52.219554       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 0 items received
I0412 18:23:13.411479       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 7 items received
I0412 18:23:15.532333       1 recommender.go:166] Recommender Run
I0412 18:23:15.532384       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:23:15.532399       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:23:15.532539       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:23:15.543675       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882ae0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[43f2981b-7d4b-4bc9-a3b6-0f9274147be9 43f2981b-7d4b-4bc9-a3b6-0f9274147be9] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b440 TLS:0xc0005220b0}
I0412 18:23:15.544486       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:23:15.544578       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:10 +0000 UTC Window:{Duration:28.277s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50188350 scale:-9} d:{Dec:<nil>} s:50188350n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:23:15.544643       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50188350 scale:-9} d:{Dec:<nil>} s:50188350n Format:DecimalSI}, 51
I0412 18:23:15.544686       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:04 +0000 UTC Window:{Duration:15.786s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49993538 scale:-9} d:{Dec:<nil>} s:49993538n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:23:15.544697       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49993538 scale:-9} d:{Dec:<nil>} s:49993538n Format:DecimalSI}, 50
I0412 18:23:15.544747       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:22:58 +0000 UTC Window:{Duration:11.713s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2273969 scale:-9} d:{Dec:<nil>} s:2273969n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:23:15.544758       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2273969 scale:-9} d:{Dec:<nil>} s:2273969n Format:DecimalSI}, 3
I0412 18:23:15.544795       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:01 +0000 UTC Window:{Duration:10.144s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:13047022 scale:-9} d:{Dec:<nil>} s:13047022n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 18:23:15.544812       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:13047022 scale:-9} d:{Dec:<nil>} s:13047022n Format:DecimalSI}, 14
I0412 18:23:15.544862       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:08 +0000 UTC Window:{Duration:18.506s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2007889 scale:-9} d:{Dec:<nil>} s:2007889n Format:DecimalSI} memory:{i:{value:15036416 scale:0} d:{Dec:<nil>} s:14684Ki Format:BinarySI}]}]}
I0412 18:23:15.544873       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2007889 scale:-9} d:{Dec:<nil>} s:2007889n Format:DecimalSI}, 3
I0412 18:23:15.544914       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:06 +0000 UTC Window:{Duration:16.184s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:23:15.544926       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:23:15.544934       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:23:15.544965       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:01 +0000 UTC Window:{Duration:18.933s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1325621 scale:-9} d:{Dec:<nil>} s:1325621n Format:DecimalSI} memory:{i:{value:6950912 scale:0} d:{Dec:<nil>} s:6788Ki Format:BinarySI}]}]}
I0412 18:23:15.544976       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1325621 scale:-9} d:{Dec:<nil>} s:1325621n Format:DecimalSI}, 2
I0412 18:23:15.545010       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:04 +0000 UTC Window:{Duration:11.055s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:857349 scale:-9} d:{Dec:<nil>} s:857349n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:23:15.545020       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:857349 scale:-9} d:{Dec:<nil>} s:857349n Format:DecimalSI}, 1
I0412 18:23:15.545068       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:00 +0000 UTC Window:{Duration:14.887s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:5044871 scale:-9} d:{Dec:<nil>} s:5044871n Format:DecimalSI} memory:{i:{value:19218432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:23:15.545082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:5044871 scale:-9} d:{Dec:<nil>} s:5044871n Format:DecimalSI}, 6
I0412 18:23:15.545117       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:00 +0000 UTC Window:{Duration:17.139s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:556683 scale:-9} d:{Dec:<nil>} s:556683n Format:DecimalSI} memory:{i:{value:9801728 scale:0} d:{Dec:<nil>} s:9572Ki Format:BinarySI}]}]}
I0412 18:23:15.545133       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:556683 scale:-9} d:{Dec:<nil>} s:556683n Format:DecimalSI}, 1
I0412 18:23:15.545167       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:10 +0000 UTC Window:{Duration:29.596s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:328659 scale:-9} d:{Dec:<nil>} s:328659n Format:DecimalSI} memory:{i:{value:11595776 scale:0} d:{Dec:<nil>} s:11324Ki Format:BinarySI}]}]}
I0412 18:23:15.545178       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:328659 scale:-9} d:{Dec:<nil>} s:328659n Format:DecimalSI}, 1
I0412 18:23:15.545212       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:11 +0000 UTC Window:{Duration:16.672s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:126139 scale:-9} d:{Dec:<nil>} s:126139n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:23:15.545223       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:126139 scale:-9} d:{Dec:<nil>} s:126139n Format:DecimalSI}, 1
I0412 18:23:15.545265       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:05 +0000 UTC Window:{Duration:17.932s} Containers:[{Name:updater Usage:map[cpu:{i:{value:229645 scale:-9} d:{Dec:<nil>} s:229645n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:23:15.545294       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:229645 scale:-9} d:{Dec:<nil>} s:229645n Format:DecimalSI}, 1
I0412 18:23:15.545336       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:23:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:10 +0000 UTC Window:{Duration:15.156s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1162707 scale:-9} d:{Dec:<nil>} s:1162707n Format:DecimalSI} memory:{i:{value:62558208 scale:0} d:{Dec:<nil>} s:61092Ki Format:BinarySI}]}]}
I0412 18:23:15.545362       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1162707 scale:-9} d:{Dec:<nil>} s:1162707n Format:DecimalSI}, 2
I0412 18:23:15.545548       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:23:15.545565       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:23:15.545645       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:23:15.545689       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:23:15.545788       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 10145761660.972\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:23:15.545814       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451710 ControlledValues:<nil>}:
I0412 18:23:15.545849       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:23:15.545859       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:23:15.545893       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442051918]
I0412 18:23:15.545903       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:23:15.545915       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1604 memory:884792013]
I0412 18:23:15.545922       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:23:15.576152       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007468a0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746930 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[275499bd-6fda-4cc8-bf25-cf011c072a94] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b79e0 TLS:0xc0005220b0}
I0412 18:23:15.588045       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1bf0} GetBody:0x6d9b40 ContentLength:508 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1c80 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0e5ed176-9f71-4927-bb08-44d41ce0d9c7] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215320 TLS:0xc0005220b0}
I0412 18:23:15.608244       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc00051d9e0} GetBody:0x6d9b40 ContentLength:690 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051dad0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f4c17c31-06b3-43f9-8dc5-2b6a6d79f371] Cache-Control:[no-cache, private] Content-Length:[1455] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:23:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:1455 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4480 TLS:0xc0005220b0}
I0412 18:23:15.608390       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:23:15.608409       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:23:36.801406       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 12 items received
I0412 18:24:15.532427       1 recommender.go:166] Recommender Run
I0412 18:24:15.532540       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:24:15.532556       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:24:15.533655       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:24:15.545590       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747080 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[b98e3d78-95a6-4694-aadc-193330d33f97 b98e3d78-95a6-4694-aadc-193330d33f97] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6ea0 TLS:0xc0005220b0}
I0412 18:24:15.546285       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:24:15.546353       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:07 +0000 UTC Window:{Duration:13.997s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50051939 scale:-9} d:{Dec:<nil>} s:50051939n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:24:15.546363       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50051939 scale:-9} d:{Dec:<nil>} s:50051939n Format:DecimalSI}, 51
I0412 18:24:15.546390       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:09 +0000 UTC Window:{Duration:19.451s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49937895 scale:-9} d:{Dec:<nil>} s:49937895n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:24:15.546400       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49937895 scale:-9} d:{Dec:<nil>} s:49937895n Format:DecimalSI}, 50
I0412 18:24:15.546428       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:10 +0000 UTC Window:{Duration:25.027s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4429616 scale:-9} d:{Dec:<nil>} s:4429616n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546433       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4429616 scale:-9} d:{Dec:<nil>} s:4429616n Format:DecimalSI}, 5
I0412 18:24:15.546455       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:00 +0000 UTC Window:{Duration:16.644s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:14182408 scale:-9} d:{Dec:<nil>} s:14182408n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546464       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:14182408 scale:-9} d:{Dec:<nil>} s:14182408n Format:DecimalSI}, 15
I0412 18:24:15.546482       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:00 +0000 UTC Window:{Duration:11.293s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2445851 scale:-9} d:{Dec:<nil>} s:2445851n Format:DecimalSI} memory:{i:{value:15171584 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546487       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2445851 scale:-9} d:{Dec:<nil>} s:2445851n Format:DecimalSI}, 3
I0412 18:24:15.546508       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:59 +0000 UTC Window:{Duration:18.801s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:24:15.546520       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:24:15.546524       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:24:15.546545       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:08 +0000 UTC Window:{Duration:18.612s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1500376 scale:-9} d:{Dec:<nil>} s:1500376n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546554       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1500376 scale:-9} d:{Dec:<nil>} s:1500376n Format:DecimalSI}, 2
I0412 18:24:15.546578       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:06 +0000 UTC Window:{Duration:13.074s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1227321 scale:-9} d:{Dec:<nil>} s:1227321n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546582       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1227321 scale:-9} d:{Dec:<nil>} s:1227321n Format:DecimalSI}, 2
I0412 18:24:15.546600       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:02 +0000 UTC Window:{Duration:16.652s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3190427 scale:-9} d:{Dec:<nil>} s:3190427n Format:DecimalSI} memory:{i:{value:19218432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546613       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3190427 scale:-9} d:{Dec:<nil>} s:3190427n Format:DecimalSI}, 4
I0412 18:24:15.546631       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:10 +0000 UTC Window:{Duration:26.893s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:877514 scale:-9} d:{Dec:<nil>} s:877514n Format:DecimalSI} memory:{i:{value:9801728 scale:0} d:{Dec:<nil>} s:9572Ki Format:BinarySI}]}]}
I0412 18:24:15.546638       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:877514 scale:-9} d:{Dec:<nil>} s:877514n Format:DecimalSI}, 1
I0412 18:24:15.546657       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:06 +0000 UTC Window:{Duration:15.298s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:81252 scale:-9} d:{Dec:<nil>} s:81252n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546662       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:81252 scale:-9} d:{Dec:<nil>} s:81252n Format:DecimalSI}, 1
I0412 18:24:15.546680       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:04 +0000 UTC Window:{Duration:11.195s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:55560 scale:-9} d:{Dec:<nil>} s:55560n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546689       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:55560 scale:-9} d:{Dec:<nil>} s:55560n Format:DecimalSI}, 1
I0412 18:24:15.546715       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:23:56 +0000 UTC Window:{Duration:15.819s} Containers:[{Name:updater Usage:map[cpu:{i:{value:95201 scale:-9} d:{Dec:<nil>} s:95201n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546721       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:95201 scale:-9} d:{Dec:<nil>} s:95201n Format:DecimalSI}, 1
I0412 18:24:15.546743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:24:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:04 +0000 UTC Window:{Duration:11.283s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1786049 scale:-9} d:{Dec:<nil>} s:1786049n Format:DecimalSI} memory:{i:{value:62562304 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:24:15.546753       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1786049 scale:-9} d:{Dec:<nil>} s:1786049n Format:DecimalSI}, 2
I0412 18:24:15.546855       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:24:15.546873       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:24:15.546943       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:24:15.546976       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:24:15.547018       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 11669261733.396\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:24:15.547033       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841140 ControlledValues:<nil>}:
I0412 18:24:15.547055       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:24:15.547061       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:24:15.547068       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442052361]
I0412 18:24:15.547073       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:24:15.547079       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1604 memory:884553169]
I0412 18:24:15.547083       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:24:15.565064       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c450} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c4e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[289155bb-0372-47ee-ad5e-1ff73f9bc483] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9800} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b10e0 TLS:0xc0005220b0}
I0412 18:24:15.579431       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089d140} GetBody:0x6d9b40 ContentLength:508 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d1d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[93b31091-49ac-421f-9f48-3875116d3e07] Cache-Control:[no-cache, private] Content-Length:[1455] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:24:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9c80} ContentLength:1455 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c120 TLS:0xc0005220b0}
I0412 18:24:15.579615       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:24:15.579632       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:25:15.532283       1 recommender.go:166] Recommender Run
I0412 18:25:15.532358       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:25:15.532380       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:25:15.532460       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:25:15.545705       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089de90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4a44eeb8-bef9-4298-9fd1-03ea4c293417 4a44eeb8-bef9-4298-9fd1-03ea4c293417] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c900 TLS:0xc0005220b0}
I0412 18:25:15.546250       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:25:15.546356       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:10 +0000 UTC Window:{Duration:15.54s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49901737 scale:-9} d:{Dec:<nil>} s:49901737n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:25:15.546410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49901737 scale:-9} d:{Dec:<nil>} s:49901737n Format:DecimalSI}, 50
I0412 18:25:15.546497       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:10 +0000 UTC Window:{Duration:19.025s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49932141 scale:-9} d:{Dec:<nil>} s:49932141n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:25:15.546506       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49932141 scale:-9} d:{Dec:<nil>} s:49932141n Format:DecimalSI}, 50
I0412 18:25:15.546540       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:11 +0000 UTC Window:{Duration:26.749s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2082545 scale:-9} d:{Dec:<nil>} s:2082545n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:25:15.546546       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2082545 scale:-9} d:{Dec:<nil>} s:2082545n Format:DecimalSI}, 3
I0412 18:25:15.546571       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:06 +0000 UTC Window:{Duration:18.487s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12701952 scale:-9} d:{Dec:<nil>} s:12701952n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:25:15.546577       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12701952 scale:-9} d:{Dec:<nil>} s:12701952n Format:DecimalSI}, 13
I0412 18:25:15.546592       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:56 +0000 UTC Window:{Duration:25.863s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2668947 scale:-9} d:{Dec:<nil>} s:2668947n Format:DecimalSI} memory:{i:{value:14659584 scale:0} d:{Dec:<nil>} s:14316Ki Format:BinarySI}]}]}
I0412 18:25:15.546596       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2668947 scale:-9} d:{Dec:<nil>} s:2668947n Format:DecimalSI}, 3
I0412 18:25:15.546613       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:51 +0000 UTC Window:{Duration:11.616s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:25:15.546620       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:25:15.546623       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:25:15.546637       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:02 +0000 UTC Window:{Duration:19.308s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1345245 scale:-9} d:{Dec:<nil>} s:1345245n Format:DecimalSI} memory:{i:{value:6983680 scale:0} d:{Dec:<nil>} s:6820Ki Format:BinarySI}]}]}
I0412 18:25:15.546646       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1345245 scale:-9} d:{Dec:<nil>} s:1345245n Format:DecimalSI}, 2
I0412 18:25:15.546661       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:03 +0000 UTC Window:{Duration:10.18s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:844891 scale:-9} d:{Dec:<nil>} s:844891n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:25:15.546666       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:844891 scale:-9} d:{Dec:<nil>} s:844891n Format:DecimalSI}, 1
I0412 18:25:15.546691       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:04 +0000 UTC Window:{Duration:11.342s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3225357 scale:-9} d:{Dec:<nil>} s:3225357n Format:DecimalSI} memory:{i:{value:19255296 scale:0} d:{Dec:<nil>} s:18804Ki Format:BinarySI}]}]}
I0412 18:25:15.546701       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3225357 scale:-9} d:{Dec:<nil>} s:3225357n Format:DecimalSI}, 4
I0412 18:25:15.546717       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:57 +0000 UTC Window:{Duration:14.504s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:341492 scale:-9} d:{Dec:<nil>} s:341492n Format:DecimalSI} memory:{i:{value:9801728 scale:0} d:{Dec:<nil>} s:9572Ki Format:BinarySI}]}]}
I0412 18:25:15.546720       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:341492 scale:-9} d:{Dec:<nil>} s:341492n Format:DecimalSI}, 1
I0412 18:25:15.546743       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:02 +0000 UTC Window:{Duration:13.418s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:186614 scale:-9} d:{Dec:<nil>} s:186614n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:25:15.546749       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:186614 scale:-9} d:{Dec:<nil>} s:186614n Format:DecimalSI}, 1
I0412 18:25:15.546786       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:04 +0000 UTC Window:{Duration:16.29s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:203683 scale:-9} d:{Dec:<nil>} s:203683n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:25:15.546790       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:203683 scale:-9} d:{Dec:<nil>} s:203683n Format:DecimalSI}, 1
I0412 18:25:15.546805       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:01 +0000 UTC Window:{Duration:11.288s} Containers:[{Name:updater Usage:map[cpu:{i:{value:1197554 scale:-9} d:{Dec:<nil>} s:1197554n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:25:15.546813       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1197554 scale:-9} d:{Dec:<nil>} s:1197554n Format:DecimalSI}, 2
I0412 18:25:15.546827       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:25:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:24:53 +0000 UTC Window:{Duration:21.262s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1101730 scale:-9} d:{Dec:<nil>} s:1101730n Format:DecimalSI} memory:{i:{value:55173120 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:25:15.546830       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1101730 scale:-9} d:{Dec:<nil>} s:1101730n Format:DecimalSI}, 2
I0412 18:25:15.546947       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:25:15.546959       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:25:15.546990       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:25:15.547037       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:25:15.547085       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 13427404692.478\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:25:15.547092       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0008412f0 ControlledValues:<nil>}:
I0412 18:25:15.547114       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:25:15.547125       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:25:15.547130       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442052818]
I0412 18:25:15.547134       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:25:15.547143       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1603 memory:884306523]
I0412 18:25:15.547146       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:25:15.570815       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763c50} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763ce0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cc4c2c0d-4a7a-4a5c-ac68-dbd00cc214b2] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076a6c0 TLS:0xc0005220b0}
I0412 18:25:15.825161       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882ae0} GetBody:0x6d9b40 ContentLength:508 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882b70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4945b0ba-5c97-4fac-b62d-9e1b03ef2e33] Cache-Control:[no-cache, private] Content-Length:[1455] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:25:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472780} ContentLength:1455 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076b0e0 TLS:0xc0005220b0}
I0412 18:25:15.825496       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:25:15.825520       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:25:19.879778       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 18:26:15.532385       1 recommender.go:166] Recommender Run
I0412 18:26:15.532424       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:26:15.532436       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:26:15.532491       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:26:15.543854       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794810 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[da32b1cc-c316-46e0-8eaa-a249615acdcc da32b1cc-c316-46e0-8eaa-a249615acdcc] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 18:26:15.544273       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:26:15.544328       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:55 +0000 UTC Window:{Duration:27.098s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49945678 scale:-9} d:{Dec:<nil>} s:49945678n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:26:15.544347       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49945678 scale:-9} d:{Dec:<nil>} s:49945678n Format:DecimalSI}, 50
I0412 18:26:15.544371       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:56 +0000 UTC Window:{Duration:29.196s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50040930 scale:-9} d:{Dec:<nil>} s:50040930n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:26:15.544381       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50040930 scale:-9} d:{Dec:<nil>} s:50040930n Format:DecimalSI}, 51
I0412 18:26:15.544403       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:04 +0000 UTC Window:{Duration:15.293s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3082979 scale:-9} d:{Dec:<nil>} s:3082979n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544407       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3082979 scale:-9} d:{Dec:<nil>} s:3082979n Format:DecimalSI}, 4
I0412 18:26:15.544434       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:06 +0000 UTC Window:{Duration:16.008s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12034982 scale:-9} d:{Dec:<nil>} s:12034982n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 18:26:15.544443       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12034982 scale:-9} d:{Dec:<nil>} s:12034982n Format:DecimalSI}, 13
I0412 18:26:15.544461       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:58 +0000 UTC Window:{Duration:16.482s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1590705 scale:-9} d:{Dec:<nil>} s:1590705n Format:DecimalSI} memory:{i:{value:14671872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544465       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1590705 scale:-9} d:{Dec:<nil>} s:1590705n Format:DecimalSI}, 2
I0412 18:26:15.544485       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:49 +0000 UTC Window:{Duration:11.887s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:26:15.544488       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:26:15.544492       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:26:15.544515       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:57 +0000 UTC Window:{Duration:15.228s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:776267 scale:-9} d:{Dec:<nil>} s:776267n Format:DecimalSI} memory:{i:{value:6987776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544519       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:776267 scale:-9} d:{Dec:<nil>} s:776267n Format:DecimalSI}, 1
I0412 18:26:15.544537       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:11 +0000 UTC Window:{Duration:16.515s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:471510 scale:-9} d:{Dec:<nil>} s:471510n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:26:15.544543       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:471510 scale:-9} d:{Dec:<nil>} s:471510n Format:DecimalSI}, 1
I0412 18:26:15.544564       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:04 +0000 UTC Window:{Duration:16.486s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3482894 scale:-9} d:{Dec:<nil>} s:3482894n Format:DecimalSI} memory:{i:{value:19259392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544570       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3482894 scale:-9} d:{Dec:<nil>} s:3482894n Format:DecimalSI}, 4
I0412 18:26:15.544589       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:06 +0000 UTC Window:{Duration:19.44s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:673919 scale:-9} d:{Dec:<nil>} s:673919n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:26:15.544597       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:673919 scale:-9} d:{Dec:<nil>} s:673919n Format:DecimalSI}, 1
I0412 18:26:15.544685       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:56 +0000 UTC Window:{Duration:29.475s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:608006 scale:-9} d:{Dec:<nil>} s:608006n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544693       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:608006 scale:-9} d:{Dec:<nil>} s:608006n Format:DecimalSI}, 1
I0412 18:26:15.544712       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:25:58 +0000 UTC Window:{Duration:16.888s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:99597 scale:-9} d:{Dec:<nil>} s:99597n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544717       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:99597 scale:-9} d:{Dec:<nil>} s:99597n Format:DecimalSI}, 1
I0412 18:26:15.544736       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:09 +0000 UTC Window:{Duration:17.301s} Containers:[{Name:updater Usage:map[cpu:{i:{value:95196 scale:-9} d:{Dec:<nil>} s:95196n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544739       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:95196 scale:-9} d:{Dec:<nil>} s:95196n Format:DecimalSI}, 1
I0412 18:26:15.544767       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:26:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:02 +0000 UTC Window:{Duration:11.4s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1092280 scale:-9} d:{Dec:<nil>} s:1092280n Format:DecimalSI} memory:{i:{value:55181312 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:26:15.544774       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1092280 scale:-9} d:{Dec:<nil>} s:1092280n Format:DecimalSI}, 2
I0412 18:26:15.544842       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:26:15.544852       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:26:15.544889       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:26:15.544902       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:26:15.544926       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 15380442684.366\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:26:15.544935       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006059b0 ControlledValues:<nil>}:
I0412 18:26:15.544956       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:26:15.544962       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:26:15.544972       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442053163]
I0412 18:26:15.544976       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:26:15.544981       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1603 memory:884120724]
I0412 18:26:15.544985       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:26:15.558358       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000883b90} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883d40 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[cd8564a7-132c-4c35-95ba-02e3d731b8d6] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b67e0 TLS:0xc0005220b0}
I0412 18:26:15.574317       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005be960} GetBody:0x6d9b40 ContentLength:507 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005be9f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2551a6bd-d0e6-45df-9b24-cf269a7e7ce8] Cache-Control:[no-cache, private] Content-Length:[1454] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:26:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:1454 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4900 TLS:0xc0005220b0}
I0412 18:26:15.574476       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:26:15.574490       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:26:39.360744       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 8 items received
I0412 18:27:15.532187       1 recommender.go:166] Recommender Run
I0412 18:27:15.532226       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:27:15.532245       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:27:15.532368       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:27:15.548174       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007955c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2dba2de7-4d33-4a16-b8e6-7c5a5b553210 2dba2de7-4d33-4a16-b8e6-7c5a5b553210] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d0e0 TLS:0xc0005220b0}
I0412 18:27:15.548987       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:27:15.549071       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:05 +0000 UTC Window:{Duration:18.807s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50082628 scale:-9} d:{Dec:<nil>} s:50082628n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:27:15.549088       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50082628 scale:-9} d:{Dec:<nil>} s:50082628n Format:DecimalSI}, 51
I0412 18:27:15.549117       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:58 +0000 UTC Window:{Duration:17.415s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49893540 scale:-9} d:{Dec:<nil>} s:49893540n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:27:15.549125       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49893540 scale:-9} d:{Dec:<nil>} s:49893540n Format:DecimalSI}, 50
I0412 18:27:15.549160       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:05 +0000 UTC Window:{Duration:14.893s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2036728 scale:-9} d:{Dec:<nil>} s:2036728n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549169       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2036728 scale:-9} d:{Dec:<nil>} s:2036728n Format:DecimalSI}, 3
I0412 18:27:15.549193       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:58 +0000 UTC Window:{Duration:14.479s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12893500 scale:-9} d:{Dec:<nil>} s:12893500n Format:DecimalSI} memory:{i:{value:167694336 scale:0} d:{Dec:<nil>} s:163764Ki Format:BinarySI}]}]}
I0412 18:27:15.549202       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12893500 scale:-9} d:{Dec:<nil>} s:12893500n Format:DecimalSI}, 13
I0412 18:27:15.549231       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:03 +0000 UTC Window:{Duration:19.223s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1808874 scale:-9} d:{Dec:<nil>} s:1808874n Format:DecimalSI} memory:{i:{value:14671872 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549262       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1808874 scale:-9} d:{Dec:<nil>} s:1808874n Format:DecimalSI}, 2
I0412 18:27:15.549319       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:57 +0000 UTC Window:{Duration:12.976s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:27:15.549329       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:27:15.549334       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:27:15.549357       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:09 +0000 UTC Window:{Duration:16.476s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1388625 scale:-9} d:{Dec:<nil>} s:1388625n Format:DecimalSI} memory:{i:{value:6848512 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549364       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1388625 scale:-9} d:{Dec:<nil>} s:1388625n Format:DecimalSI}, 2
I0412 18:27:15.549385       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:06 +0000 UTC Window:{Duration:15.17s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:365062 scale:-9} d:{Dec:<nil>} s:365062n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549390       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:365062 scale:-9} d:{Dec:<nil>} s:365062n Format:DecimalSI}, 1
I0412 18:27:15.549435       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:00 +0000 UTC Window:{Duration:17.624s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2626078 scale:-9} d:{Dec:<nil>} s:2626078n Format:DecimalSI} memory:{i:{value:19259392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549450       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2626078 scale:-9} d:{Dec:<nil>} s:2626078n Format:DecimalSI}, 3
I0412 18:27:15.549492       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:26:57 +0000 UTC Window:{Duration:15.531s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:305002 scale:-9} d:{Dec:<nil>} s:305002n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:27:15.549503       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:305002 scale:-9} d:{Dec:<nil>} s:305002n Format:DecimalSI}, 1
I0412 18:27:15.549534       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:06 +0000 UTC Window:{Duration:10.567s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:40503 scale:-9} d:{Dec:<nil>} s:40503n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549544       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:40503 scale:-9} d:{Dec:<nil>} s:40503n Format:DecimalSI}, 1
I0412 18:27:15.549569       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:04 +0000 UTC Window:{Duration:18.957s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:108825 scale:-9} d:{Dec:<nil>} s:108825n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549575       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:108825 scale:-9} d:{Dec:<nil>} s:108825n Format:DecimalSI}, 1
I0412 18:27:15.549604       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:01 +0000 UTC Window:{Duration:11.586s} Containers:[{Name:updater Usage:map[cpu:{i:{value:60935 scale:-9} d:{Dec:<nil>} s:60935n Format:DecimalSI} memory:{i:{value:11890688 scale:0} d:{Dec:<nil>} s:11612Ki Format:BinarySI}]}]}
I0412 18:27:15.549608       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:60935 scale:-9} d:{Dec:<nil>} s:60935n Format:DecimalSI}, 1
I0412 18:27:15.549629       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:27:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:12 +0000 UTC Window:{Duration:15.064s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1679235 scale:-9} d:{Dec:<nil>} s:1679235n Format:DecimalSI} memory:{i:{value:55197696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:27:15.549635       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1679235 scale:-9} d:{Dec:<nil>} s:1679235n Format:DecimalSI}, 2
I0412 18:27:15.549785       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:27:15.549800       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:27:15.549837       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:27:15.549861       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:27:15.549910       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 17655284490.830\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:27:15.549915       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840ea0 ControlledValues:<nil>}:
I0412 18:27:15.549939       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:27:15.549947       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:27:15.549955       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442053679]
I0412 18:27:15.549961       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:27:15.549969       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1602 memory:883842343]
I0412 18:27:15.549974       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:27:15.578679       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728e40} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728ed0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3e0b24d2-3953-4e87-a21a-2973b61395aa] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0000 TLS:0xc0005220b0}
I0412 18:27:15.593475       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf980} GetBody:0x6d9b40 ContentLength:502 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bfa10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0bd1a2f7-ecfa-4094-ac00-08631e210402] Cache-Control:[no-cache, private] Content-Length:[1440] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:27:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9c80} ContentLength:1440 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364b40 TLS:0xc0005220b0}
I0412 18:27:15.593668       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:27:15.593679       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:27:28.994389       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 6 items received
I0412 18:28:15.532693       1 recommender.go:166] Recommender Run
I0412 18:28:15.532724       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:28:15.532733       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:28:15.532772       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:28:15.546874       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762a80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[27596d82-a6fc-448c-8ef4-8784c8aeee43 27596d82-a6fc-448c-8ef4-8784c8aeee43] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364900 TLS:0xc0005220b0}
I0412 18:28:15.547663       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:28:15.547727       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:56 +0000 UTC Window:{Duration:18.951s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49908184 scale:-9} d:{Dec:<nil>} s:49908184n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:28:15.547744       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49908184 scale:-9} d:{Dec:<nil>} s:49908184n Format:DecimalSI}, 50
I0412 18:28:15.547768       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:08 +0000 UTC Window:{Duration:13.839s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49883300 scale:-9} d:{Dec:<nil>} s:49883300n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:28:15.547776       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49883300 scale:-9} d:{Dec:<nil>} s:49883300n Format:DecimalSI}, 50
I0412 18:28:15.547804       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:06 +0000 UTC Window:{Duration:19.751s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3672725 scale:-9} d:{Dec:<nil>} s:3672725n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.547810       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3672725 scale:-9} d:{Dec:<nil>} s:3672725n Format:DecimalSI}, 4
I0412 18:28:15.547832       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:10 +0000 UTC Window:{Duration:28.259s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11894405 scale:-9} d:{Dec:<nil>} s:11894405n Format:DecimalSI} memory:{i:{value:167698432 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.547843       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11894405 scale:-9} d:{Dec:<nil>} s:11894405n Format:DecimalSI}, 12
I0412 18:28:15.547862       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:12 +0000 UTC Window:{Duration:19.553s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1788063 scale:-9} d:{Dec:<nil>} s:1788063n Format:DecimalSI} memory:{i:{value:14680064 scale:0} d:{Dec:<nil>} s:14Mi Format:BinarySI}]}]}
I0412 18:28:15.547866       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1788063 scale:-9} d:{Dec:<nil>} s:1788063n Format:DecimalSI}, 2
I0412 18:28:15.547886       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:54 +0000 UTC Window:{Duration:16.233s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:28:15.547890       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:28:15.547895       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:28:15.547912       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:01 +0000 UTC Window:{Duration:18.229s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1073125 scale:-9} d:{Dec:<nil>} s:1073125n Format:DecimalSI} memory:{i:{value:6877184 scale:0} d:{Dec:<nil>} s:6716Ki Format:BinarySI}]}]}
I0412 18:28:15.547915       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1073125 scale:-9} d:{Dec:<nil>} s:1073125n Format:DecimalSI}, 2
I0412 18:28:15.547936       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:05 +0000 UTC Window:{Duration:16.915s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1485368 scale:-9} d:{Dec:<nil>} s:1485368n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.547941       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1485368 scale:-9} d:{Dec:<nil>} s:1485368n Format:DecimalSI}, 2
I0412 18:28:15.547964       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:07 +0000 UTC Window:{Duration:17.018s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2799388 scale:-9} d:{Dec:<nil>} s:2799388n Format:DecimalSI} memory:{i:{value:19259392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.547972       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2799388 scale:-9} d:{Dec:<nil>} s:2799388n Format:DecimalSI}, 3
I0412 18:28:15.547989       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:27:58 +0000 UTC Window:{Duration:10.551s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:771680 scale:-9} d:{Dec:<nil>} s:771680n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:28:15.548003       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:771680 scale:-9} d:{Dec:<nil>} s:771680n Format:DecimalSI}, 1
I0412 18:28:15.548020       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:09 +0000 UTC Window:{Duration:18.706s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:123222 scale:-9} d:{Dec:<nil>} s:123222n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.548034       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:123222 scale:-9} d:{Dec:<nil>} s:123222n Format:DecimalSI}, 1
I0412 18:28:15.548065       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:00 +0000 UTC Window:{Duration:14.79s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:175591 scale:-9} d:{Dec:<nil>} s:175591n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.548079       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:175591 scale:-9} d:{Dec:<nil>} s:175591n Format:DecimalSI}, 1
I0412 18:28:15.548110       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:06 +0000 UTC Window:{Duration:13.008s} Containers:[{Name:updater Usage:map[cpu:{i:{value:78797 scale:-9} d:{Dec:<nil>} s:78797n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.548130       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:78797 scale:-9} d:{Dec:<nil>} s:78797n Format:DecimalSI}, 1
I0412 18:28:15.548157       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:28:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:01 +0000 UTC Window:{Duration:14.217s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1692621 scale:-9} d:{Dec:<nil>} s:1692621n Format:DecimalSI} memory:{i:{value:55189504 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:28:15.548161       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1692621 scale:-9} d:{Dec:<nil>} s:1692621n Format:DecimalSI}, 2
I0412 18:28:15.548226       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:28:15.548234       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:28:15.548261       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:28:15.548274       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:28:15.548311       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 20271577898.400\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:28:15.548319       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991638 ControlledValues:<nil>}:
I0412 18:28:15.548347       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:28:15.548353       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:28:15.548359       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442054150]
I0412 18:28:15.548363       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:28:15.548368       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1602 memory:883588502]
I0412 18:28:15.548372       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:28:15.565014       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712270} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712300 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e726091f-265e-442a-bc29-c1ee8f53b3a8] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc300} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b77a0 TLS:0xc0005220b0}
I0412 18:28:15.579161       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713230} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713380 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6da0b427-43e4-4b4a-b0b0-4f10dd30be61] Cache-Control:[no-cache, private] Content-Length:[1439] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:28:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cca80} ContentLength:1439 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076a900 TLS:0xc0005220b0}
I0412 18:28:15.579329       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:28:15.579344       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:28:24.415622       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 3 items received
I0412 18:29:00.583078       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 3 items received
I0412 18:29:15.532349       1 recommender.go:166] Recommender Run
I0412 18:29:15.532382       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:29:15.532391       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:29:15.532493       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:29:15.548281       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883050 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[621679d5-30fb-44a6-bcb5-841b9921575e 621679d5-30fb-44a6-bcb5-841b9921575e] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cea0 TLS:0xc0005220b0}
I0412 18:29:15.549237       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:29:15.549339       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:55 +0000 UTC Window:{Duration:17.098s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49861504 scale:-9} d:{Dec:<nil>} s:49861504n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:29:15.549410       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49861504 scale:-9} d:{Dec:<nil>} s:49861504n Format:DecimalSI}, 50
I0412 18:29:15.549477       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:02 +0000 UTC Window:{Duration:16.88s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50167594 scale:-9} d:{Dec:<nil>} s:50167594n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:29:15.549485       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50167594 scale:-9} d:{Dec:<nil>} s:50167594n Format:DecimalSI}, 51
I0412 18:29:15.549534       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:02 +0000 UTC Window:{Duration:13.324s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1839912 scale:-9} d:{Dec:<nil>} s:1839912n Format:DecimalSI} memory:{i:{value:32092160 scale:0} d:{Dec:<nil>} s:31340Ki Format:BinarySI}]}]}
I0412 18:29:15.549544       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1839912 scale:-9} d:{Dec:<nil>} s:1839912n Format:DecimalSI}, 2
I0412 18:29:15.549580       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:56 +0000 UTC Window:{Duration:15.679s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11041137 scale:-9} d:{Dec:<nil>} s:11041137n Format:DecimalSI} memory:{i:{value:167641088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.549586       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11041137 scale:-9} d:{Dec:<nil>} s:11041137n Format:DecimalSI}, 12
I0412 18:29:15.549616       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:57 +0000 UTC Window:{Duration:18.455s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1557518 scale:-9} d:{Dec:<nil>} s:1557518n Format:DecimalSI} memory:{i:{value:14942208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.549628       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1557518 scale:-9} d:{Dec:<nil>} s:1557518n Format:DecimalSI}, 2
I0412 18:29:15.549675       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:57 +0000 UTC Window:{Duration:15.614s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:29:15.549682       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:29:15.549692       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:29:15.549774       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:04 +0000 UTC Window:{Duration:19.671s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1077118 scale:-9} d:{Dec:<nil>} s:1077118n Format:DecimalSI} memory:{i:{value:6918144 scale:0} d:{Dec:<nil>} s:6756Ki Format:BinarySI}]}]}
I0412 18:29:15.549837       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1077118 scale:-9} d:{Dec:<nil>} s:1077118n Format:DecimalSI}, 2
I0412 18:29:15.549884       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:08 +0000 UTC Window:{Duration:11.255s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:40071 scale:-9} d:{Dec:<nil>} s:40071n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.549891       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:40071 scale:-9} d:{Dec:<nil>} s:40071n Format:DecimalSI}, 1
I0412 18:29:15.549944       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:56 +0000 UTC Window:{Duration:21.556s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3383883 scale:-9} d:{Dec:<nil>} s:3383883n Format:DecimalSI} memory:{i:{value:19259392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.549961       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3383883 scale:-9} d:{Dec:<nil>} s:3383883n Format:DecimalSI}, 4
I0412 18:29:15.549995       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:02 +0000 UTC Window:{Duration:16.284s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:295013 scale:-9} d:{Dec:<nil>} s:295013n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:29:15.550008       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:295013 scale:-9} d:{Dec:<nil>} s:295013n Format:DecimalSI}, 1
I0412 18:29:15.550042       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:09 +0000 UTC Window:{Duration:14.254s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:122141 scale:-9} d:{Dec:<nil>} s:122141n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.550054       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:122141 scale:-9} d:{Dec:<nil>} s:122141n Format:DecimalSI}, 1
I0412 18:29:15.550085       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:28:59 +0000 UTC Window:{Duration:14.607s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:144725 scale:-9} d:{Dec:<nil>} s:144725n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.550091       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:144725 scale:-9} d:{Dec:<nil>} s:144725n Format:DecimalSI}, 1
I0412 18:29:15.550137       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:07 +0000 UTC Window:{Duration:17.508s} Containers:[{Name:updater Usage:map[cpu:{i:{value:263251 scale:-9} d:{Dec:<nil>} s:263251n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.550181       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:263251 scale:-9} d:{Dec:<nil>} s:263251n Format:DecimalSI}, 1
I0412 18:29:15.550222       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:29:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:12 +0000 UTC Window:{Duration:19.503s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1433881 scale:-9} d:{Dec:<nil>} s:1433881n Format:DecimalSI} memory:{i:{value:55205888 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:29:15.550229       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1433881 scale:-9} d:{Dec:<nil>} s:1433881n Format:DecimalSI}, 2
I0412 18:29:15.550325       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:29:15.550345       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:29:15.550401       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:29:15.550431       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:29:15.550477       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 23252515596.411\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.753\n100\t0.801:
I0412 18:29:15.550538       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0006055f0 ControlledValues:<nil>}:
I0412 18:29:15.550582       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:29:15.550594       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:29:15.550606       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442054552]
I0412 18:29:15.550614       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:29:15.550625       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1601 memory:883371175]
I0412 18:29:15.550633       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:29:15.566524       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089dce0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089dd70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[767e55c0-cfea-4899-837c-c876dbfbe737] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214000 TLS:0xc0005220b0}
I0412 18:29:15.583917       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794f00} GetBody:0x6d9b40 ContentLength:499 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794ff0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ef0eca8a-de97-4407-95b0-b66e65a597f3] Cache-Control:[no-cache, private] Content-Length:[1437] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd080} ContentLength:1437 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076bb00 TLS:0xc0005220b0}
I0412 18:29:15.584211       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:29:15.584230       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 18:29:15.584252       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:29:15.584259       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:29:15.584286       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:29:15.592951       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000883ad0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ed409d9c-23ff-475f-9409-97287b8e66a5] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d440 TLS:0xc0005220b0}
I0412 18:29:15.602676       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0450 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c001bb68-82a7-4de1-90fa-deba624fd583] Cache-Control:[no-cache, private] Content-Length:[1590] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473500} ContentLength:1590 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004559e0 TLS:0xc0005220b0}
I0412 18:29:15.616829       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0e10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a952e343-68f5-48f6-8dd5-5886fcfc1cd2] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473800} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d4360 TLS:0xc0005220b0}
I0412 18:29:15.626220       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e15f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f71d5136-0d5e-4254-b68b-c9f8d9d9201a] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473980} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d4900 TLS:0xc0005220b0}
I0412 18:29:15.634222       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1bc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1d28b873-394c-415a-9599-16ccb0556eb9] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473b00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff560 TLS:0xc0005220b0}
I0412 18:29:15.666381       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795ad0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[586aaeaf-272e-4202-a09a-399ba5dc53d2] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:29:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd380} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000512c60 TLS:0xc0005220b0}
I0412 18:29:15.666505       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:29:29.805656       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 13 items received
I0412 18:30:13.136500       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 8 items received
I0412 18:30:15.532857       1 recommender.go:166] Recommender Run
I0412 18:30:15.532934       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:30:15.532970       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:30:15.533164       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:30:15.548990       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795050 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[44588077-7fef-4ea8-b9fb-255ed1d00467 44588077-7fef-4ea8-b9fb-255ed1d00467] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214d80 TLS:0xc0005220b0}
I0412 18:30:15.550123       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:30:15.550326       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:05 +0000 UTC Window:{Duration:17.208s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50065492 scale:-9} d:{Dec:<nil>} s:50065492n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:30:15.550527       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50065492 scale:-9} d:{Dec:<nil>} s:50065492n Format:DecimalSI}, 51
I0412 18:30:15.550614       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:11 +0000 UTC Window:{Duration:19.784s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50207187 scale:-9} d:{Dec:<nil>} s:50207187n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:30:15.550715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50207187 scale:-9} d:{Dec:<nil>} s:50207187n Format:DecimalSI}, 51
I0412 18:30:15.550880       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:08 +0000 UTC Window:{Duration:18.724s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4021095 scale:-9} d:{Dec:<nil>} s:4021095n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.550899       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4021095 scale:-9} d:{Dec:<nil>} s:4021095n Format:DecimalSI}, 5
I0412 18:30:15.550951       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:08 +0000 UTC Window:{Duration:12.119s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12093324 scale:-9} d:{Dec:<nil>} s:12093324n Format:DecimalSI} memory:{i:{value:167641088 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.550959       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12093324 scale:-9} d:{Dec:<nil>} s:12093324n Format:DecimalSI}, 13
I0412 18:30:15.550996       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:06 +0000 UTC Window:{Duration:12.939s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2042661 scale:-9} d:{Dec:<nil>} s:2042661n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 18:30:15.551009       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2042661 scale:-9} d:{Dec:<nil>} s:2042661n Format:DecimalSI}, 3
I0412 18:30:15.551060       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:07 +0000 UTC Window:{Duration:17.919s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:30:15.551073       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:30:15.551098       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:30:15.551152       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:08 +0000 UTC Window:{Duration:13.708s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:918879 scale:-9} d:{Dec:<nil>} s:918879n Format:DecimalSI} memory:{i:{value:6995968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.551165       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:918879 scale:-9} d:{Dec:<nil>} s:918879n Format:DecimalSI}, 1
I0412 18:30:15.551210       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:04 +0000 UTC Window:{Duration:12.241s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:857037 scale:-9} d:{Dec:<nil>} s:857037n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.551222       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:857037 scale:-9} d:{Dec:<nil>} s:857037n Format:DecimalSI}, 1
I0412 18:30:15.551257       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:07 +0000 UTC Window:{Duration:10.888s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3261113 scale:-9} d:{Dec:<nil>} s:3261113n Format:DecimalSI} memory:{i:{value:19259392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.551277       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3261113 scale:-9} d:{Dec:<nil>} s:3261113n Format:DecimalSI}, 4
I0412 18:30:15.551311       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:01 +0000 UTC Window:{Duration:15.175s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1010345 scale:-9} d:{Dec:<nil>} s:1010345n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:30:15.551323       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1010345 scale:-9} d:{Dec:<nil>} s:1010345n Format:DecimalSI}, 2
I0412 18:30:15.551410       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:53 +0000 UTC Window:{Duration:30.004s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:523096 scale:-9} d:{Dec:<nil>} s:523096n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.551423       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:523096 scale:-9} d:{Dec:<nil>} s:523096n Format:DecimalSI}, 1
I0412 18:30:15.551503       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:53 +0000 UTC Window:{Duration:15.7s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:61974 scale:-9} d:{Dec:<nil>} s:61974n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.551516       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:61974 scale:-9} d:{Dec:<nil>} s:61974n Format:DecimalSI}, 1
I0412 18:30:15.551551       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:10 +0000 UTC Window:{Duration:14.309s} Containers:[{Name:updater Usage:map[cpu:{i:{value:310433 scale:-9} d:{Dec:<nil>} s:310433n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.551559       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:310433 scale:-9} d:{Dec:<nil>} s:310433n Format:DecimalSI}, 1
I0412 18:30:15.551603       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:30:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:29:59 +0000 UTC Window:{Duration:13.406s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:2682381 scale:-9} d:{Dec:<nil>} s:2682381n Format:DecimalSI} memory:{i:{value:55320576 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:30:15.551616       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2682381 scale:-9} d:{Dec:<nil>} s:2682381n Format:DecimalSI}, 3
I0412 18:30:15.551881       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:30:15.551914       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:30:15.552009       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:30:15.552062       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:30:15.552171       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 26752674389.538\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.055\n95\t0.753\n100\t0.801:
I0412 18:30:15.552200       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450a98 ControlledValues:<nil>}:
I0412 18:30:15.552241       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:30:15.552259       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:30:15.552271       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442055067]
I0412 18:30:15.552279       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:30:15.552305       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1601 memory:883093816]
I0412 18:30:15.552318       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:30:15.644409       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1e90} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e1f20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a564d641-b314-4802-8453-4ec66d0c7fdc] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364480 TLS:0xc0005220b0}
I0412 18:30:15.664854       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000746960} GetBody:0x6d9b40 ContentLength:500 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007469f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9f309e01-7596-4f92-8dff-22268d53ee71] Cache-Control:[no-cache, private] Content-Length:[1438] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:30:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472600} ContentLength:1438 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6b40 TLS:0xc0005220b0}
I0412 18:30:15.665189       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:30:15.665223       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:30:18.605425       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 4 items received
I0412 18:30:21.882782       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 5 items received
I0412 18:30:33.228794       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 7 items received
I0412 18:31:15.536738       1 recommender.go:166] Recommender Run
I0412 18:31:15.536966       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:31:15.537056       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:31:15.540812       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:31:15.564375       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf530 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ff26032f-e6ff-4f68-87a9-41d17f996367 ff26032f-e6ff-4f68-87a9-41d17f996367] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0000 TLS:0xc0005220b0}
I0412 18:31:15.565422       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:31:15.565523       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:02 +0000 UTC Window:{Duration:17.43s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748560872 scale:-9} d:{Dec:<nil>} s:748560872n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:31:15.565541       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748560872 scale:-9} d:{Dec:<nil>} s:748560872n Format:DecimalSI}, 749
I0412 18:31:15.565577       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:00 +0000 UTC Window:{Duration:14.144s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50180076 scale:-9} d:{Dec:<nil>} s:50180076n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:31:15.565645       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50180076 scale:-9} d:{Dec:<nil>} s:50180076n Format:DecimalSI}, 51
I0412 18:31:15.565691       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:04 +0000 UTC Window:{Duration:11.274s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2273194 scale:-9} d:{Dec:<nil>} s:2273194n Format:DecimalSI} memory:{i:{value:32092160 scale:0} d:{Dec:<nil>} s:31340Ki Format:BinarySI}]}]}
I0412 18:31:15.565699       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2273194 scale:-9} d:{Dec:<nil>} s:2273194n Format:DecimalSI}, 3
I0412 18:31:15.565729       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:10 +0000 UTC Window:{Duration:19.308s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11345297 scale:-9} d:{Dec:<nil>} s:11345297n Format:DecimalSI} memory:{i:{value:167706624 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:31:15.565778       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11345297 scale:-9} d:{Dec:<nil>} s:11345297n Format:DecimalSI}, 12
I0412 18:31:15.565859       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:07 +0000 UTC Window:{Duration:15.606s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2049275 scale:-9} d:{Dec:<nil>} s:2049275n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:31:15.565873       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2049275 scale:-9} d:{Dec:<nil>} s:2049275n Format:DecimalSI}, 3
I0412 18:31:15.565979       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:58 +0000 UTC Window:{Duration:15.259s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:31:15.565990       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:31:15.565997       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:31:15.566027       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:30:59 +0000 UTC Window:{Duration:19.56s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1244785 scale:-9} d:{Dec:<nil>} s:1244785n Format:DecimalSI} memory:{i:{value:7000064 scale:0} d:{Dec:<nil>} s:6836Ki Format:BinarySI}]}]}
I0412 18:31:15.566040       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1244785 scale:-9} d:{Dec:<nil>} s:1244785n Format:DecimalSI}, 2
I0412 18:31:15.566066       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:07 +0000 UTC Window:{Duration:16.018s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:421650 scale:-9} d:{Dec:<nil>} s:421650n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:31:15.566073       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:421650 scale:-9} d:{Dec:<nil>} s:421650n Format:DecimalSI}, 1
I0412 18:31:15.566097       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:05 +0000 UTC Window:{Duration:10.71s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2853781 scale:-9} d:{Dec:<nil>} s:2853781n Format:DecimalSI} memory:{i:{value:18616320 scale:0} d:{Dec:<nil>} s:18180Ki Format:BinarySI}]}]}
I0412 18:31:15.566103       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2853781 scale:-9} d:{Dec:<nil>} s:2853781n Format:DecimalSI}, 3
I0412 18:31:15.566149       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:05 +0000 UTC Window:{Duration:11.582s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:362113 scale:-9} d:{Dec:<nil>} s:362113n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:31:15.566161       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:362113 scale:-9} d:{Dec:<nil>} s:362113n Format:DecimalSI}, 1
I0412 18:31:15.566187       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:09 +0000 UTC Window:{Duration:13.329s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:84552 scale:-9} d:{Dec:<nil>} s:84552n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:31:15.566193       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:84552 scale:-9} d:{Dec:<nil>} s:84552n Format:DecimalSI}, 1
I0412 18:31:15.566220       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:01 +0000 UTC Window:{Duration:16.928s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:56297 scale:-9} d:{Dec:<nil>} s:56297n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:31:15.566225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:56297 scale:-9} d:{Dec:<nil>} s:56297n Format:DecimalSI}, 1
I0412 18:31:15.566251       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:09 +0000 UTC Window:{Duration:16.316s} Containers:[{Name:updater Usage:map[cpu:{i:{value:860566 scale:-9} d:{Dec:<nil>} s:860566n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:31:15.566333       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:860566 scale:-9} d:{Dec:<nil>} s:860566n Format:DecimalSI}, 1
I0412 18:31:15.566371       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:31:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:07 +0000 UTC Window:{Duration:11.745s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:379821 scale:-9} d:{Dec:<nil>} s:379821n Format:DecimalSI} memory:{i:{value:55455744 scale:0} d:{Dec:<nil>} s:54156Ki Format:BinarySI}]}]}
I0412 18:31:15.566376       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:379821 scale:-9} d:{Dec:<nil>} s:379821n Format:DecimalSI}, 1
I0412 18:31:15.566459       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:31:15.566478       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:31:15.566536       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:31:15.566558       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:31:15.566613       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 30708712255.728\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.055\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:31:15.566644       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451728 ControlledValues:<nil>}:
I0412 18:31:15.566675       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:31:15.566689       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:31:15.566698       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442055446]
I0412 18:31:15.566704       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:31:15.566712       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1601 memory:882889055]
I0412 18:31:15.566718       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:31:15.595857       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728f00} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728f90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[c07b80f7-08c0-42ed-8063-e66078d93b58] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f45a0 TLS:0xc0005220b0}
I0412 18:31:15.607106       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000763d40} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763e60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[5cf983a4-9e56-4e65-a3c9-7cfb6e7871f1] Cache-Control:[no-cache, private] Content-Length:[1439] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:31:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:1439 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c5a0 TLS:0xc0005220b0}
I0412 18:31:15.607396       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:31:15.607424       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:32:15.536755       1 recommender.go:166] Recommender Run
I0412 18:32:15.537108       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:32:15.537185       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:32:15.537347       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:32:15.553600       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c7b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[07235c36-e800-4f57-a164-f271e094b1b1 07235c36-e800-4f57-a164-f271e094b1b1] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c7e0 TLS:0xc0005220b0}
I0412 18:32:15.554577       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:32:15.554726       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:08 +0000 UTC Window:{Duration:19.933s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751674108 scale:-9} d:{Dec:<nil>} s:751674108n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:32:15.554748       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751674108 scale:-9} d:{Dec:<nil>} s:751674108n Format:DecimalSI}, 752
I0412 18:32:15.554806       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:10 +0000 UTC Window:{Duration:24.879s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50294867 scale:-9} d:{Dec:<nil>} s:50294867n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:32:15.554814       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50294867 scale:-9} d:{Dec:<nil>} s:50294867n Format:DecimalSI}, 51
I0412 18:32:15.554865       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:07 +0000 UTC Window:{Duration:13.333s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4516012 scale:-9} d:{Dec:<nil>} s:4516012n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:32:15.554876       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4516012 scale:-9} d:{Dec:<nil>} s:4516012n Format:DecimalSI}, 5
I0412 18:32:15.554924       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:09 +0000 UTC Window:{Duration:14.666s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12481385 scale:-9} d:{Dec:<nil>} s:12481385n Format:DecimalSI} memory:{i:{value:167702528 scale:0} d:{Dec:<nil>} s:163772Ki Format:BinarySI}]}]}
I0412 18:32:15.554946       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12481385 scale:-9} d:{Dec:<nil>} s:12481385n Format:DecimalSI}, 13
I0412 18:32:15.554983       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:02 +0000 UTC Window:{Duration:17.078s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1811102 scale:-9} d:{Dec:<nil>} s:1811102n Format:DecimalSI} memory:{i:{value:14786560 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:32:15.554999       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1811102 scale:-9} d:{Dec:<nil>} s:1811102n Format:DecimalSI}, 2
I0412 18:32:15.555039       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:53 +0000 UTC Window:{Duration:16.719s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:32:15.555047       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:32:15.555068       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:32:15.555104       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:54 +0000 UTC Window:{Duration:13.896s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1017990 scale:-9} d:{Dec:<nil>} s:1017990n Format:DecimalSI} memory:{i:{value:6995968 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:32:15.555113       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1017990 scale:-9} d:{Dec:<nil>} s:1017990n Format:DecimalSI}, 2
I0412 18:32:15.555155       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:09 +0000 UTC Window:{Duration:13.955s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1845575 scale:-9} d:{Dec:<nil>} s:1845575n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:32:15.555169       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1845575 scale:-9} d:{Dec:<nil>} s:1845575n Format:DecimalSI}, 2
I0412 18:32:15.555203       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:10 +0000 UTC Window:{Duration:19.637s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2760503 scale:-9} d:{Dec:<nil>} s:2760503n Format:DecimalSI} memory:{i:{value:18616320 scale:0} d:{Dec:<nil>} s:18180Ki Format:BinarySI}]}]}
I0412 18:32:15.555217       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2760503 scale:-9} d:{Dec:<nil>} s:2760503n Format:DecimalSI}, 3
I0412 18:32:15.555250       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:08 +0000 UTC Window:{Duration:13.453s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1188359 scale:-9} d:{Dec:<nil>} s:1188359n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:32:15.555271       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1188359 scale:-9} d:{Dec:<nil>} s:1188359n Format:DecimalSI}, 2
I0412 18:32:15.555322       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:57 +0000 UTC Window:{Duration:14.109s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:137288 scale:-9} d:{Dec:<nil>} s:137288n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:32:15.555346       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:137288 scale:-9} d:{Dec:<nil>} s:137288n Format:DecimalSI}, 1
I0412 18:32:15.555391       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:04 +0000 UTC Window:{Duration:12.819s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:24494 scale:-9} d:{Dec:<nil>} s:24494n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:32:15.555404       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:24494 scale:-9} d:{Dec:<nil>} s:24494n Format:DecimalSI}, 1
I0412 18:32:15.555440       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:07 +0000 UTC Window:{Duration:15.439s} Containers:[{Name:updater Usage:map[cpu:{i:{value:147613 scale:-9} d:{Dec:<nil>} s:147613n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:32:15.555447       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:147613 scale:-9} d:{Dec:<nil>} s:147613n Format:DecimalSI}, 1
I0412 18:32:15.555499       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:32:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:31:55 +0000 UTC Window:{Duration:17.069s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1814810 scale:-9} d:{Dec:<nil>} s:1814810n Format:DecimalSI} memory:{i:{value:55582720 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:32:15.555512       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1814810 scale:-9} d:{Dec:<nil>} s:1814810n Format:DecimalSI}, 2
I0412 18:32:15.555695       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:32:15.555714       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:32:15.555789       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:32:15.555844       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:32:15.555931       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 35337783933.711\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.055\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:32:15.555948       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991410 ControlledValues:<nil>}:
I0412 18:32:15.555990       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:32:15.556001       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:32:15.556013       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442055952]
I0412 18:32:15.556039       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:32:15.556050       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1600 memory:882616361]
I0412 18:32:15.556057       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:32:15.569402       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007474d0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747560 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[bbecfe1a-b1d7-4bdb-8dde-add937125c90] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f47e0 TLS:0xc0005220b0}
I0412 18:32:15.585002       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794960} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794a20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6a0a62e8-28a0-46db-9af5-8db40637744e] Cache-Control:[no-cache, private] Content-Length:[1440] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:32:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:1440 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6900 TLS:0xc0005220b0}
I0412 18:32:15.586411       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:32:15.586451       1 cluster.go:364] Garbage collection of AggregateCollectionStates triggered
I0412 18:32:15.586518       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:33:15.532789       1 recommender.go:166] Recommender Run
I0412 18:33:15.532853       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:33:15.532865       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:33:15.532919       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:33:15.553579       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051dbf0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fb21c53d-d011-4330-805f-e6127d136262 fb21c53d-d011-4330-805f-e6127d136262] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363b00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214360 TLS:0xc0005220b0}
I0412 18:33:15.554464       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:33:15.554544       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:00 +0000 UTC Window:{Duration:10.497s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750251309 scale:-9} d:{Dec:<nil>} s:750251309n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:33:15.554552       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750251309 scale:-9} d:{Dec:<nil>} s:750251309n Format:DecimalSI}, 751
I0412 18:33:15.554598       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:11 +0000 UTC Window:{Duration:14.573s} Containers:[{Name:workload Usage:map[cpu:{i:{value:50020037 scale:-9} d:{Dec:<nil>} s:50020037n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:33:15.554603       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:50020037 scale:-9} d:{Dec:<nil>} s:50020037n Format:DecimalSI}, 51
I0412 18:33:15.554625       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:05 +0000 UTC Window:{Duration:11.736s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2135821 scale:-9} d:{Dec:<nil>} s:2135821n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:33:15.554630       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2135821 scale:-9} d:{Dec:<nil>} s:2135821n Format:DecimalSI}, 3
I0412 18:33:15.554656       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:07 +0000 UTC Window:{Duration:14.029s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:12860574 scale:-9} d:{Dec:<nil>} s:12860574n Format:DecimalSI} memory:{i:{value:167743488 scale:0} d:{Dec:<nil>} s:163812Ki Format:BinarySI}]}]}
I0412 18:33:15.554667       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:12860574 scale:-9} d:{Dec:<nil>} s:12860574n Format:DecimalSI}, 13
I0412 18:33:15.554688       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:10 +0000 UTC Window:{Duration:30.291s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1758707 scale:-9} d:{Dec:<nil>} s:1758707n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 18:33:15.554694       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1758707 scale:-9} d:{Dec:<nil>} s:1758707n Format:DecimalSI}, 2
I0412 18:33:15.554724       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:59 +0000 UTC Window:{Duration:10.349s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:33:15.554729       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:33:15.554736       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:33:15.554756       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:02 +0000 UTC Window:{Duration:19.822s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1243265 scale:-9} d:{Dec:<nil>} s:1243265n Format:DecimalSI} memory:{i:{value:6909952 scale:0} d:{Dec:<nil>} s:6748Ki Format:BinarySI}]}]}
I0412 18:33:15.554761       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1243265 scale:-9} d:{Dec:<nil>} s:1243265n Format:DecimalSI}, 2
I0412 18:33:15.554784       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:00 +0000 UTC Window:{Duration:15.88s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:460264 scale:-9} d:{Dec:<nil>} s:460264n Format:DecimalSI} memory:{i:{value:12718080 scale:0} d:{Dec:<nil>} s:12420Ki Format:BinarySI}]}]}
I0412 18:33:15.554790       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:460264 scale:-9} d:{Dec:<nil>} s:460264n Format:DecimalSI}, 1
I0412 18:33:15.554810       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:11 +0000 UTC Window:{Duration:26.324s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2885921 scale:-9} d:{Dec:<nil>} s:2885921n Format:DecimalSI} memory:{i:{value:18649088 scale:0} d:{Dec:<nil>} s:18212Ki Format:BinarySI}]}]}
I0412 18:33:15.554818       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2885921 scale:-9} d:{Dec:<nil>} s:2885921n Format:DecimalSI}, 3
I0412 18:33:15.554835       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:09 +0000 UTC Window:{Duration:24.292s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:420179 scale:-9} d:{Dec:<nil>} s:420179n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:33:15.554839       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:420179 scale:-9} d:{Dec:<nil>} s:420179n Format:DecimalSI}, 1
I0412 18:33:15.554856       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:32:54 +0000 UTC Window:{Duration:18.384s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:203111 scale:-9} d:{Dec:<nil>} s:203111n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:33:15.554863       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:203111 scale:-9} d:{Dec:<nil>} s:203111n Format:DecimalSI}, 1
I0412 18:33:15.554881       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:01 +0000 UTC Window:{Duration:12.177s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:79165 scale:-9} d:{Dec:<nil>} s:79165n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:33:15.554884       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:79165 scale:-9} d:{Dec:<nil>} s:79165n Format:DecimalSI}, 1
I0412 18:33:15.554901       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:10 +0000 UTC Window:{Duration:23.597s} Containers:[{Name:updater Usage:map[cpu:{i:{value:347840 scale:-9} d:{Dec:<nil>} s:347840n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:33:15.554905       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:347840 scale:-9} d:{Dec:<nil>} s:347840n Format:DecimalSI}, 1
I0412 18:33:15.554923       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:33:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:01 +0000 UTC Window:{Duration:16.56s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1169746 scale:-9} d:{Dec:<nil>} s:1169746n Format:DecimalSI} memory:{i:{value:56152064 scale:0} d:{Dec:<nil>} s:54836Ki Format:BinarySI}]}]}
I0412 18:33:15.554933       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1169746 scale:-9} d:{Dec:<nil>} s:1169746n Format:DecimalSI}, 2
I0412 18:33:15.555029       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:33:15.555043       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:33:15.555070       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:33:15.555084       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:33:15.555112       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 40612775797.382\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.055\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:33:15.555130       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0001168e8 ControlledValues:<nil>}:
I0412 18:33:15.555152       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:33:15.555158       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:33:15.555166       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442056405]
I0412 18:33:15.555170       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:33:15.555176       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1600 memory:882372050]
I0412 18:33:15.555181       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:33:15.590577       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712390} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007127b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7b02f301-0591-429b-8f18-63e450a5efdb] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccf00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffb00 TLS:0xc0005220b0}
I0412 18:33:15.606714       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000713080} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713170 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[76675f37-fa8d-4a87-aac0-040e394c37c2] Cache-Control:[no-cache, private] Content-Length:[1440] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:33:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd380} ContentLength:1440 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000513200 TLS:0xc0005220b0}
I0412 18:33:15.606863       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:33:15.606878       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:33:30.419609       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 0 items received
I0412 18:34:15.536663       1 recommender.go:166] Recommender Run
I0412 18:34:15.536908       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:34:15.536998       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:34:15.537153       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:34:15.549045       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712c60 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[89d90a97-49e1-4ab2-bcfe-9c606ca31b19 89d90a97-49e1-4ab2-bcfe-9c606ca31b19] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc780} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000513200 TLS:0xc0005220b0}
I0412 18:34:15.549637       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:34:15.549728       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:00 +0000 UTC Window:{Duration:17.153s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747879088 scale:-9} d:{Dec:<nil>} s:747879088n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:34:15.549742       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747879088 scale:-9} d:{Dec:<nil>} s:747879088n Format:DecimalSI}, 748
I0412 18:34:15.549786       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:08 +0000 UTC Window:{Duration:13.12s} Containers:[{Name:workload Usage:map[cpu:{i:{value:49767759 scale:-9} d:{Dec:<nil>} s:49767759n Format:DecimalSI} memory:{i:{value:30437376 scale:0} d:{Dec:<nil>} s:29724Ki Format:BinarySI}]}]}
I0412 18:34:15.549793       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49767759 scale:-9} d:{Dec:<nil>} s:49767759n Format:DecimalSI}, 50
I0412 18:34:15.549817       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:07 +0000 UTC Window:{Duration:15.155s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3382184 scale:-9} d:{Dec:<nil>} s:3382184n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:34:15.549822       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3382184 scale:-9} d:{Dec:<nil>} s:3382184n Format:DecimalSI}, 4
I0412 18:34:15.549839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:11 +0000 UTC Window:{Duration:18.506s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11538419 scale:-9} d:{Dec:<nil>} s:11538419n Format:DecimalSI} memory:{i:{value:167739392 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:34:15.549844       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11538419 scale:-9} d:{Dec:<nil>} s:11538419n Format:DecimalSI}, 12
I0412 18:34:15.549858       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:57 +0000 UTC Window:{Duration:17.996s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1901366 scale:-9} d:{Dec:<nil>} s:1901366n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:34:15.549868       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1901366 scale:-9} d:{Dec:<nil>} s:1901366n Format:DecimalSI}, 2
I0412 18:34:15.549890       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:01 +0000 UTC Window:{Duration:13.287s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:34:15.549893       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:34:15.549897       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:34:15.549912       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:08 +0000 UTC Window:{Duration:19.655s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1044060 scale:-9} d:{Dec:<nil>} s:1044060n Format:DecimalSI} memory:{i:{value:6991872 scale:0} d:{Dec:<nil>} s:6828Ki Format:BinarySI}]}]}
I0412 18:34:15.549921       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1044060 scale:-9} d:{Dec:<nil>} s:1044060n Format:DecimalSI}, 2
I0412 18:34:15.549936       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:03 +0000 UTC Window:{Duration:16.567s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1529727 scale:-9} d:{Dec:<nil>} s:1529727n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:34:15.549943       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1529727 scale:-9} d:{Dec:<nil>} s:1529727n Format:DecimalSI}, 2
I0412 18:34:15.549957       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:33:55 +0000 UTC Window:{Duration:16.373s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3167348 scale:-9} d:{Dec:<nil>} s:3167348n Format:DecimalSI} memory:{i:{value:18649088 scale:0} d:{Dec:<nil>} s:18212Ki Format:BinarySI}]}]}
I0412 18:34:15.549966       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3167348 scale:-9} d:{Dec:<nil>} s:3167348n Format:DecimalSI}, 4
I0412 18:34:15.549980       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:05 +0000 UTC Window:{Duration:17.367s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:886624 scale:-9} d:{Dec:<nil>} s:886624n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:34:15.549985       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:886624 scale:-9} d:{Dec:<nil>} s:886624n Format:DecimalSI}, 1
I0412 18:34:15.550009       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:04 +0000 UTC Window:{Duration:11.806s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:49889 scale:-9} d:{Dec:<nil>} s:49889n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:34:15.550014       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:49889 scale:-9} d:{Dec:<nil>} s:49889n Format:DecimalSI}, 1
I0412 18:34:15.550035       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:04 +0000 UTC Window:{Duration:17.59s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:55486 scale:-9} d:{Dec:<nil>} s:55486n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:34:15.550045       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:55486 scale:-9} d:{Dec:<nil>} s:55486n Format:DecimalSI}, 1
I0412 18:34:15.550071       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:06 +0000 UTC Window:{Duration:11.007s} Containers:[{Name:updater Usage:map[cpu:{i:{value:35159 scale:-9} d:{Dec:<nil>} s:35159n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:34:15.550080       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:35159 scale:-9} d:{Dec:<nil>} s:35159n Format:DecimalSI}, 1
I0412 18:34:15.550106       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:34:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:08 +0000 UTC Window:{Duration:11.576s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:715532 scale:-9} d:{Dec:<nil>} s:715532n Format:DecimalSI} memory:{i:{value:58454016 scale:0} d:{Dec:<nil>} s:57084Ki Format:BinarySI}]}]}
I0412 18:34:15.550118       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:715532 scale:-9} d:{Dec:<nil>} s:715532n Format:DecimalSI}, 1
I0412 18:34:15.550214       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:34:15.550224       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:34:15.550261       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:34:15.550293       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:34:15.550351       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 46650956768.344\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:34:15.550364       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000450948 ControlledValues:<nil>}:
I0412 18:34:15.550385       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:34:15.550391       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:34:15.550397       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442056828]
I0412 18:34:15.550401       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:34:15.550410       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1599 memory:882144024]
I0412 18:34:15.550420       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:34:15.574711       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729a10} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729aa0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[85017d97-a383-4158-b57a-30e9476f153e] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062c6c0 TLS:0xc0005220b0}
I0412 18:34:15.586047       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c510} GetBody:0x6d9b40 ContentLength:500 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c5a0 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[736c809c-5149-4955-af72-d008781354d3] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363980} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d0e0 TLS:0xc0005220b0}
I0412 18:34:15.613489       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc00089cff0} GetBody:0x6d9b40 ContentLength:682 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d080 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7ad1e9b9-0685-4f1e-9bb5-339852bd0cc6] Cache-Control:[no-cache, private] Content-Length:[1438] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:34:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363c80} ContentLength:1438 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d8c0 TLS:0xc0005220b0}
I0412 18:34:15.613615       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:34:15.613627       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:35:15.532781       1 recommender.go:166] Recommender Run
I0412 18:35:15.533173       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:35:15.533252       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:35:15.533361       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:35:15.551468       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713890 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[8616cfb8-37ed-498b-8836-6b55ecce9b92 8616cfb8-37ed-498b-8836-6b55ecce9b92] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0005137a0 TLS:0xc0005220b0}
I0412 18:35:15.552159       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:35:15.552245       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:10 +0000 UTC Window:{Duration:14.56s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751760096 scale:-9} d:{Dec:<nil>} s:751760096n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:35:15.552264       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751760096 scale:-9} d:{Dec:<nil>} s:751760096n Format:DecimalSI}, 752
I0412 18:35:15.552298       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:06 +0000 UTC Window:{Duration:13.139s} Containers:[{Name:workload Usage:map[cpu:{i:{value:48610396 scale:-9} d:{Dec:<nil>} s:48610396n Format:DecimalSI} memory:{i:{value:47898624 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:35:15.552309       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:48610396 scale:-9} d:{Dec:<nil>} s:48610396n Format:DecimalSI}, 49
I0412 18:35:15.552334       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:00 +0000 UTC Window:{Duration:17.755s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2149873 scale:-9} d:{Dec:<nil>} s:2149873n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:35:15.552348       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2149873 scale:-9} d:{Dec:<nil>} s:2149873n Format:DecimalSI}, 3
I0412 18:35:15.552372       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:57 +0000 UTC Window:{Duration:18.973s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10670110 scale:-9} d:{Dec:<nil>} s:10670110n Format:DecimalSI} memory:{i:{value:167743488 scale:0} d:{Dec:<nil>} s:163812Ki Format:BinarySI}]}]}
I0412 18:35:15.552384       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10670110 scale:-9} d:{Dec:<nil>} s:10670110n Format:DecimalSI}, 11
I0412 18:35:15.552403       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:01 +0000 UTC Window:{Duration:16.096s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:2154199 scale:-9} d:{Dec:<nil>} s:2154199n Format:DecimalSI} memory:{i:{value:14942208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:35:15.552407       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2154199 scale:-9} d:{Dec:<nil>} s:2154199n Format:DecimalSI}, 3
I0412 18:35:15.552427       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:52 +0000 UTC Window:{Duration:18.176s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:35:15.552502       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:35:15.552514       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:35:15.552549       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:58 +0000 UTC Window:{Duration:10.254s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1731031 scale:-9} d:{Dec:<nil>} s:1731031n Format:DecimalSI} memory:{i:{value:6926336 scale:0} d:{Dec:<nil>} s:6764Ki Format:BinarySI}]}]}
I0412 18:35:15.552563       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1731031 scale:-9} d:{Dec:<nil>} s:1731031n Format:DecimalSI}, 2
I0412 18:35:15.552583       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:02 +0000 UTC Window:{Duration:10.096s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:577753 scale:-9} d:{Dec:<nil>} s:577753n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:35:15.552587       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:577753 scale:-9} d:{Dec:<nil>} s:577753n Format:DecimalSI}, 1
I0412 18:35:15.552628       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:57 +0000 UTC Window:{Duration:16.366s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2978858 scale:-9} d:{Dec:<nil>} s:2978858n Format:DecimalSI} memory:{i:{value:18649088 scale:0} d:{Dec:<nil>} s:18212Ki Format:BinarySI}]}]}
I0412 18:35:15.552634       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2978858 scale:-9} d:{Dec:<nil>} s:2978858n Format:DecimalSI}, 3
I0412 18:35:15.552654       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:52 +0000 UTC Window:{Duration:11.954s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:275807 scale:-9} d:{Dec:<nil>} s:275807n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:35:15.552657       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:275807 scale:-9} d:{Dec:<nil>} s:275807n Format:DecimalSI}, 1
I0412 18:35:15.552677       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:11 +0000 UTC Window:{Duration:32.147s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:88530 scale:-9} d:{Dec:<nil>} s:88530n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:35:15.552710       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:88530 scale:-9} d:{Dec:<nil>} s:88530n Format:DecimalSI}, 1
I0412 18:35:15.552736       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:03 +0000 UTC Window:{Duration:19.457s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:94670 scale:-9} d:{Dec:<nil>} s:94670n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:35:15.552740       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:94670 scale:-9} d:{Dec:<nil>} s:94670n Format:DecimalSI}, 1
I0412 18:35:15.552766       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:04 +0000 UTC Window:{Duration:10.118s} Containers:[{Name:updater Usage:map[cpu:{i:{value:89938 scale:-9} d:{Dec:<nil>} s:89938n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:35:15.552770       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:89938 scale:-9} d:{Dec:<nil>} s:89938n Format:DecimalSI}, 1
I0412 18:35:15.552787       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:35:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:34:54 +0000 UTC Window:{Duration:11.918s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:454942 scale:-9} d:{Dec:<nil>} s:454942n Format:DecimalSI} memory:{i:{value:59011072 scale:0} d:{Dec:<nil>} s:57628Ki Format:BinarySI}]}]}
I0412 18:35:15.552840       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:454942 scale:-9} d:{Dec:<nil>} s:454942n Format:DecimalSI}, 1
I0412 18:35:15.552913       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:35:15.552922       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:35:15.552966       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:35:15.552992       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:35:15.553017       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 53651180930.643\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.055\n70\t0.055\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:35:15.553023       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000841578 ControlledValues:<nil>}:
I0412 18:35:15.553048       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:35:15.553055       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:35:15.553064       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442057287]
I0412 18:35:15.553068       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:35:15.553075       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1599 memory:881896287]
I0412 18:35:15.553079       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:35:15.572919       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000794240} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794300 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9af07955-f3da-4c1b-b674-8caf964b8f70] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b77a0 TLS:0xc0005220b0}
I0412 18:35:15.588261       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007950b0} GetBody:0x6d9b40 ContentLength:500 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795140 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[dde2dc4c-e400-4353-af44-7ed7cfc96aaf] Cache-Control:[no-cache, private] Content-Length:[1438] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:35:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:1438 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006fe360 TLS:0xc0005220b0}
I0412 18:35:15.588661       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:35:15.588718       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:35:57.367218       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 7 items received
I0412 18:36:15.532736       1 recommender.go:166] Recommender Run
I0412 18:36:15.532874       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:36:15.532908       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:36:15.532999       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:36:15.561489       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000794ba0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d4f50081-7909-49d0-beb9-c1c7808cf503 d4f50081-7909-49d0-beb9-c1c7808cf503] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cc900} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0005137a0 TLS:0xc0005220b0}
I0412 18:36:15.562387       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:36:15.562505       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:58 +0000 UTC Window:{Duration:14.975s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751035726 scale:-9} d:{Dec:<nil>} s:751035726n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:36:15.562523       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751035726 scale:-9} d:{Dec:<nil>} s:751035726n Format:DecimalSI}, 752
I0412 18:36:15.562574       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:03 +0000 UTC Window:{Duration:12.132s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750207385 scale:-9} d:{Dec:<nil>} s:750207385n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:36:15.562586       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750207385 scale:-9} d:{Dec:<nil>} s:750207385n Format:DecimalSI}, 751
I0412 18:36:15.562629       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:56 +0000 UTC Window:{Duration:14.912s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2031048 scale:-9} d:{Dec:<nil>} s:2031048n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:36:15.562643       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2031048 scale:-9} d:{Dec:<nil>} s:2031048n Format:DecimalSI}, 3
I0412 18:36:15.562674       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:59 +0000 UTC Window:{Duration:10.71s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9847432 scale:-9} d:{Dec:<nil>} s:9847432n Format:DecimalSI} memory:{i:{value:167735296 scale:0} d:{Dec:<nil>} s:163804Ki Format:BinarySI}]}]}
I0412 18:36:15.562692       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9847432 scale:-9} d:{Dec:<nil>} s:9847432n Format:DecimalSI}, 10
I0412 18:36:15.562720       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:11 +0000 UTC Window:{Duration:25.008s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1886956 scale:-9} d:{Dec:<nil>} s:1886956n Format:DecimalSI} memory:{i:{value:14942208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:36:15.562742       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1886956 scale:-9} d:{Dec:<nil>} s:1886956n Format:DecimalSI}, 2
I0412 18:36:15.562772       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:00 +0000 UTC Window:{Duration:18.32s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:36:15.562791       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:36:15.562800       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:36:15.562827       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:01 +0000 UTC Window:{Duration:16.381s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:876198 scale:-9} d:{Dec:<nil>} s:876198n Format:DecimalSI} memory:{i:{value:6926336 scale:0} d:{Dec:<nil>} s:6764Ki Format:BinarySI}]}]}
I0412 18:36:15.562872       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:876198 scale:-9} d:{Dec:<nil>} s:876198n Format:DecimalSI}, 1
I0412 18:36:15.562917       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:12 +0000 UTC Window:{Duration:18.666s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1030590 scale:-9} d:{Dec:<nil>} s:1030590n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:36:15.562928       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1030590 scale:-9} d:{Dec:<nil>} s:1030590n Format:DecimalSI}, 2
I0412 18:36:15.562956       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:11 +0000 UTC Window:{Duration:15.1s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2244834 scale:-9} d:{Dec:<nil>} s:2244834n Format:DecimalSI} memory:{i:{value:19042304 scale:0} d:{Dec:<nil>} s:18596Ki Format:BinarySI}]}]}
I0412 18:36:15.562970       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2244834 scale:-9} d:{Dec:<nil>} s:2244834n Format:DecimalSI}, 3
I0412 18:36:15.562996       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:00 +0000 UTC Window:{Duration:15.716s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:736701 scale:-9} d:{Dec:<nil>} s:736701n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:36:15.563019       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:736701 scale:-9} d:{Dec:<nil>} s:736701n Format:DecimalSI}, 1
I0412 18:36:15.563062       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:35:55 +0000 UTC Window:{Duration:29.6s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:451925 scale:-9} d:{Dec:<nil>} s:451925n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:36:15.563076       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:451925 scale:-9} d:{Dec:<nil>} s:451925n Format:DecimalSI}, 1
I0412 18:36:15.563104       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:01 +0000 UTC Window:{Duration:15.411s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:177146 scale:-9} d:{Dec:<nil>} s:177146n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:36:15.563115       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:177146 scale:-9} d:{Dec:<nil>} s:177146n Format:DecimalSI}, 1
I0412 18:36:15.563139       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:10 +0000 UTC Window:{Duration:14.343s} Containers:[{Name:updater Usage:map[cpu:{i:{value:129958 scale:-9} d:{Dec:<nil>} s:129958n Format:DecimalSI} memory:{i:{value:11890688 scale:0} d:{Dec:<nil>} s:11612Ki Format:BinarySI}]}]}
I0412 18:36:15.563153       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:129958 scale:-9} d:{Dec:<nil>} s:129958n Format:DecimalSI}, 1
I0412 18:36:15.563188       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:36:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:04 +0000 UTC Window:{Duration:15.329s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1101702 scale:-9} d:{Dec:<nil>} s:1101702n Format:DecimalSI} memory:{i:{value:59019264 scale:0} d:{Dec:<nil>} s:57636Ki Format:BinarySI}]}]}
I0412 18:36:15.563195       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1101702 scale:-9} d:{Dec:<nil>} s:1101702n Format:DecimalSI}, 2
I0412 18:36:15.563351       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:36:15.563370       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:36:15.563436       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:36:15.563478       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:36:15.563542       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 61554232298.027\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.055\n60\t0.055\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:36:15.563563       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990f18 ControlledValues:<nil>}:
I0412 18:36:15.563606       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:36:15.563618       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:36:15.563628       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442057679]
I0412 18:36:15.563633       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:36:15.563649       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1598 memory:881684751]
I0412 18:36:15.563662       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:36:15.580029       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bfe90} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bff20 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[1789d221-0ab0-43ae-b624-603baf05fe7f] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1560 TLS:0xc0005220b0}
I0412 18:36:15.593885       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0c30} GetBody:0x6d9b40 ContentLength:500 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0cc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a7aa4583-fb36-4764-a9b5-d60f5db9fcd8] Cache-Control:[no-cache, private] Content-Length:[1438] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:36:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472480} ContentLength:1438 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 18:36:15.594141       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:36:15.594161       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:36:26.997871       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 4 items received
I0412 18:36:55.144914       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 5 items received
I0412 18:37:15.532731       1 recommender.go:166] Recommender Run
I0412 18:37:15.532788       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:37:15.532796       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:37:15.532973       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:37:15.570294       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c3c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3493cd10-75ab-49e8-a538-61aa364e330c 3493cd10-75ab-49e8-a538-61aa364e330c] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215560 TLS:0xc0005220b0}
I0412 18:37:15.571183       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:37:15.571309       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:08 +0000 UTC Window:{Duration:15.533s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750156183 scale:-9} d:{Dec:<nil>} s:750156183n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:37:15.571321       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750156183 scale:-9} d:{Dec:<nil>} s:750156183n Format:DecimalSI}, 751
I0412 18:37:15.571368       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:01 +0000 UTC Window:{Duration:16.016s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749046953 scale:-9} d:{Dec:<nil>} s:749046953n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:37:15.571385       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749046953 scale:-9} d:{Dec:<nil>} s:749046953n Format:DecimalSI}, 750
I0412 18:37:15.571425       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:09 +0000 UTC Window:{Duration:13.284s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2174194 scale:-9} d:{Dec:<nil>} s:2174194n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:37:15.571436       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2174194 scale:-9} d:{Dec:<nil>} s:2174194n Format:DecimalSI}, 3
I0412 18:37:15.571466       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:06 +0000 UTC Window:{Duration:16.254s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11594130 scale:-9} d:{Dec:<nil>} s:11594130n Format:DecimalSI} memory:{i:{value:167784448 scale:0} d:{Dec:<nil>} s:163852Ki Format:BinarySI}]}]}
I0412 18:37:15.571471       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11594130 scale:-9} d:{Dec:<nil>} s:11594130n Format:DecimalSI}, 12
I0412 18:37:15.571495       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:11 +0000 UTC Window:{Duration:25.113s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1891171 scale:-9} d:{Dec:<nil>} s:1891171n Format:DecimalSI} memory:{i:{value:14680064 scale:0} d:{Dec:<nil>} s:14Mi Format:BinarySI}]}]}
I0412 18:37:15.571505       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1891171 scale:-9} d:{Dec:<nil>} s:1891171n Format:DecimalSI}, 2
I0412 18:37:15.571553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:56 +0000 UTC Window:{Duration:16.387s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:37:15.571568       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:37:15.571585       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:37:15.571612       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:07 +0000 UTC Window:{Duration:14.439s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1320036 scale:-9} d:{Dec:<nil>} s:1320036n Format:DecimalSI} memory:{i:{value:6856704 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:37:15.571622       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1320036 scale:-9} d:{Dec:<nil>} s:1320036n Format:DecimalSI}, 2
I0412 18:37:15.571647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:58 +0000 UTC Window:{Duration:12.972s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:292784 scale:-9} d:{Dec:<nil>} s:292784n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:37:15.571657       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:292784 scale:-9} d:{Dec:<nil>} s:292784n Format:DecimalSI}, 1
I0412 18:37:15.571706       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:11 +0000 UTC Window:{Duration:21.535s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2598792 scale:-9} d:{Dec:<nil>} s:2598792n Format:DecimalSI} memory:{i:{value:18468864 scale:0} d:{Dec:<nil>} s:18036Ki Format:BinarySI}]}]}
I0412 18:37:15.571715       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2598792 scale:-9} d:{Dec:<nil>} s:2598792n Format:DecimalSI}, 3
I0412 18:37:15.571760       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:54 +0000 UTC Window:{Duration:28.39s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:528531 scale:-9} d:{Dec:<nil>} s:528531n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:37:15.571772       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:528531 scale:-9} d:{Dec:<nil>} s:528531n Format:DecimalSI}, 1
I0412 18:37:15.571811       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:36:56 +0000 UTC Window:{Duration:28.947s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:200746 scale:-9} d:{Dec:<nil>} s:200746n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:37:15.571828       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:200746 scale:-9} d:{Dec:<nil>} s:200746n Format:DecimalSI}, 1
I0412 18:37:15.571853       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:01 +0000 UTC Window:{Duration:19.787s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:257947 scale:-9} d:{Dec:<nil>} s:257947n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:37:15.571862       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:257947 scale:-9} d:{Dec:<nil>} s:257947n Format:DecimalSI}, 1
I0412 18:37:15.571886       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:09 +0000 UTC Window:{Duration:15.466s} Containers:[{Name:updater Usage:map[cpu:{i:{value:70606 scale:-9} d:{Dec:<nil>} s:70606n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:37:15.571897       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:70606 scale:-9} d:{Dec:<nil>} s:70606n Format:DecimalSI}, 1
I0412 18:37:15.571947       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:37:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:03 +0000 UTC Window:{Duration:13.301s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1929554 scale:-9} d:{Dec:<nil>} s:1929554n Format:DecimalSI} memory:{i:{value:56864768 scale:0} d:{Dec:<nil>} s:55532Ki Format:BinarySI}]}]}
I0412 18:37:15.571952       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1929554 scale:-9} d:{Dec:<nil>} s:1929554n Format:DecimalSI}, 2
I0412 18:37:15.572163       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:37:15.572190       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:37:15.572255       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:37:15.572302       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:37:15.572389       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 70716890628.106\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.055\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:37:15.572422       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0009914e8 ControlledValues:<nil>}:
I0412 18:37:15.572465       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:37:15.572473       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:37:15.572482       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:62 memory:442058160]
I0412 18:37:15.572491       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:37:15.572499       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1598 memory:881425622]
I0412 18:37:15.572504       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:37:15.598415       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00051daa0} GetBody:0x6d9b40 ContentLength:415 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051dbf0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e86c7719-45b7-4d28-94b0-3de5927905fd] Cache-Control:[no-cache, private] Content-Length:[2254] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2254 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d9e0 TLS:0xc0005220b0}
I0412 18:37:15.617475       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000728d20} GetBody:0x6d9b40 ContentLength:500 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728db0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[25ddd4d5-1257-4f84-ba3b-6133c4911f09] Cache-Control:[no-cache, private] Content-Length:[1438] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:37:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:1438 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4900 TLS:0xc0005220b0}
I0412 18:37:15.617715       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:37:15.617731       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:38:02.809959       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 18 items received
I0412 18:38:04.586811       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 0 items received
I0412 18:38:15.537453       1 recommender.go:166] Recommender Run
I0412 18:38:15.537699       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:38:15.537783       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:38:15.540784       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:38:15.563935       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000728e10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[48eee7ef-5912-4caf-8c70-67e50dc8fbea 48eee7ef-5912-4caf-8c70-67e50dc8fbea] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9200} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f4fc0 TLS:0xc0005220b0}
I0412 18:38:15.564589       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:38:15.564718       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:08 +0000 UTC Window:{Duration:13.791s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750352331 scale:-9} d:{Dec:<nil>} s:750352331n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:38:15.564737       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750352331 scale:-9} d:{Dec:<nil>} s:750352331n Format:DecimalSI}, 751
I0412 18:38:15.564765       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:07 +0000 UTC Window:{Duration:15.79s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749479860 scale:-9} d:{Dec:<nil>} s:749479860n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:38:15.564773       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749479860 scale:-9} d:{Dec:<nil>} s:749479860n Format:DecimalSI}, 750
I0412 18:38:15.564808       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:02 +0000 UTC Window:{Duration:18.362s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3524942 scale:-9} d:{Dec:<nil>} s:3524942n Format:DecimalSI} memory:{i:{value:32350208 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:38:15.564816       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3524942 scale:-9} d:{Dec:<nil>} s:3524942n Format:DecimalSI}, 4
I0412 18:38:15.564845       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:08 +0000 UTC Window:{Duration:12.709s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10688095 scale:-9} d:{Dec:<nil>} s:10688095n Format:DecimalSI} memory:{i:{value:167653376 scale:0} d:{Dec:<nil>} s:163724Ki Format:BinarySI}]}]}
I0412 18:38:15.564853       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10688095 scale:-9} d:{Dec:<nil>} s:10688095n Format:DecimalSI}, 11
I0412 18:38:15.564869       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:06 +0000 UTC Window:{Duration:15.589s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1889216 scale:-9} d:{Dec:<nil>} s:1889216n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 18:38:15.564879       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1889216 scale:-9} d:{Dec:<nil>} s:1889216n Format:DecimalSI}, 2
I0412 18:38:15.564902       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:06 +0000 UTC Window:{Duration:17.144s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:38:15.564910       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:38:15.564914       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:38:15.564929       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:07 +0000 UTC Window:{Duration:14.264s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1075014 scale:-9} d:{Dec:<nil>} s:1075014n Format:DecimalSI} memory:{i:{value:6877184 scale:0} d:{Dec:<nil>} s:6716Ki Format:BinarySI}]}]}
I0412 18:38:15.564932       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1075014 scale:-9} d:{Dec:<nil>} s:1075014n Format:DecimalSI}, 2
I0412 18:38:15.564950       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:04 +0000 UTC Window:{Duration:10.725s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1532494 scale:-9} d:{Dec:<nil>} s:1532494n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:38:15.564954       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1532494 scale:-9} d:{Dec:<nil>} s:1532494n Format:DecimalSI}, 2
I0412 18:38:15.564973       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:01 +0000 UTC Window:{Duration:11.416s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2662316 scale:-9} d:{Dec:<nil>} s:2662316n Format:DecimalSI} memory:{i:{value:18546688 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:38:15.564987       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2662316 scale:-9} d:{Dec:<nil>} s:2662316n Format:DecimalSI}, 3
I0412 18:38:15.565003       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:02 +0000 UTC Window:{Duration:18.213s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:623510 scale:-9} d:{Dec:<nil>} s:623510n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:38:15.565010       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:623510 scale:-9} d:{Dec:<nil>} s:623510n Format:DecimalSI}, 1
I0412 18:38:15.565024       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:53 +0000 UTC Window:{Duration:19.874s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:732967 scale:-9} d:{Dec:<nil>} s:732967n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:38:15.565027       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:732967 scale:-9} d:{Dec:<nil>} s:732967n Format:DecimalSI}, 1
I0412 18:38:15.565060       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:00 +0000 UTC Window:{Duration:12.854s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:46678 scale:-9} d:{Dec:<nil>} s:46678n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:38:15.565102       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:46678 scale:-9} d:{Dec:<nil>} s:46678n Format:DecimalSI}, 1
I0412 18:38:15.565125       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:37:58 +0000 UTC Window:{Duration:16.209s} Containers:[{Name:updater Usage:map[cpu:{i:{value:55524 scale:-9} d:{Dec:<nil>} s:55524n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:38:15.565129       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:55524 scale:-9} d:{Dec:<nil>} s:55524n Format:DecimalSI}, 1
I0412 18:38:15.565145       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:38:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:06 +0000 UTC Window:{Duration:13.539s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1156584 scale:-9} d:{Dec:<nil>} s:1156584n Format:DecimalSI} memory:{i:{value:56872960 scale:0} d:{Dec:<nil>} s:55540Ki Format:BinarySI}]}]}
I0412 18:38:15.565156       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1156584 scale:-9} d:{Dec:<nil>} s:1156584n Format:DecimalSI}, 2
I0412 18:38:15.565280       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:38:15.565301       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:38:15.565376       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:38:15.565412       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:38:15.565494       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 81314889793.966\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.055\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:38:15.565510       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451830 ControlledValues:<nil>}:
I0412 18:38:15.565535       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:38:15.565541       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:38:15.565546       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442058603]
I0412 18:38:15.565554       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:38:15.565559       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1597 memory:881186720]
I0412 18:38:15.565562       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:38:15.577286       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007137d0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000713860 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[be975ad6-57e5-4074-93ce-08994ea14d57] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004ccc00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ff320 TLS:0xc0005220b0}
I0412 18:38:15.588930       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e04b0} GetBody:0x6d9b40 ContentLength:498 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0540 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4ec14ce0-ea33-49e6-b0b3-07ce93532134] Cache-Control:[no-cache, private] Content-Length:[1436] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:38:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd080} ContentLength:1436 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0006ffc20 TLS:0xc0005220b0}
I0412 18:38:15.589222       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:38:15.589247       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:39:15.532713       1 recommender.go:166] Recommender Run
I0412 18:39:15.532873       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:39:15.532949       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:39:15.533058       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:39:15.564838       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729d10 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ae072e1f-9eab-4ce8-9f12-1e9a17799acf ae072e1f-9eab-4ce8-9f12-1e9a17799acf] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000513680 TLS:0xc0005220b0}
I0412 18:39:15.565891       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:39:15.565971       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:04 +0000 UTC Window:{Duration:11.474s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747527801 scale:-9} d:{Dec:<nil>} s:747527801n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:39:15.565984       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747527801 scale:-9} d:{Dec:<nil>} s:747527801n Format:DecimalSI}, 748
I0412 18:39:15.566053       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:00 +0000 UTC Window:{Duration:11.439s} Containers:[{Name:workload Usage:map[cpu:{i:{value:751564822 scale:-9} d:{Dec:<nil>} s:751564822n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.566106       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751564822 scale:-9} d:{Dec:<nil>} s:751564822n Format:DecimalSI}, 752
I0412 18:39:15.566242       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:09 +0000 UTC Window:{Duration:26.969s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1920019 scale:-9} d:{Dec:<nil>} s:1920019n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.566258       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1920019 scale:-9} d:{Dec:<nil>} s:1920019n Format:DecimalSI}, 2
I0412 18:39:15.566382       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:58 +0000 UTC Window:{Duration:15.968s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10827780 scale:-9} d:{Dec:<nil>} s:10827780n Format:DecimalSI} memory:{i:{value:167723008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.566397       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10827780 scale:-9} d:{Dec:<nil>} s:10827780n Format:DecimalSI}, 11
I0412 18:39:15.566455       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:03 +0000 UTC Window:{Duration:19.77s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1851643 scale:-9} d:{Dec:<nil>} s:1851643n Format:DecimalSI} memory:{i:{value:14688256 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.566480       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1851643 scale:-9} d:{Dec:<nil>} s:1851643n Format:DecimalSI}, 2
I0412 18:39:15.566647       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:59 +0000 UTC Window:{Duration:13.543s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:39:15.566662       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:39:15.566669       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:39:15.566792       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:38:58 +0000 UTC Window:{Duration:12.364s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1423487 scale:-9} d:{Dec:<nil>} s:1423487n Format:DecimalSI} memory:{i:{value:6893568 scale:0} d:{Dec:<nil>} s:6732Ki Format:BinarySI}]}]}
I0412 18:39:15.566807       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1423487 scale:-9} d:{Dec:<nil>} s:1423487n Format:DecimalSI}, 2
I0412 18:39:15.566839       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:11 +0000 UTC Window:{Duration:31.377s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:306530 scale:-9} d:{Dec:<nil>} s:306530n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.566845       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:306530 scale:-9} d:{Dec:<nil>} s:306530n Format:DecimalSI}, 1
I0412 18:39:15.566872       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:10 +0000 UTC Window:{Duration:29.51s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2229481 scale:-9} d:{Dec:<nil>} s:2229481n Format:DecimalSI} memory:{i:{value:18788352 scale:0} d:{Dec:<nil>} s:18348Ki Format:BinarySI}]}]}
I0412 18:39:15.566883       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2229481 scale:-9} d:{Dec:<nil>} s:2229481n Format:DecimalSI}, 3
I0412 18:39:15.566919       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:03 +0000 UTC Window:{Duration:10.747s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:206104 scale:-9} d:{Dec:<nil>} s:206104n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:39:15.566975       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:206104 scale:-9} d:{Dec:<nil>} s:206104n Format:DecimalSI}, 1
I0412 18:39:15.567012       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:09 +0000 UTC Window:{Duration:12.183s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:77156 scale:-9} d:{Dec:<nil>} s:77156n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.567017       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:77156 scale:-9} d:{Dec:<nil>} s:77156n Format:DecimalSI}, 1
I0412 18:39:15.567042       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:06 +0000 UTC Window:{Duration:17.489s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:66155 scale:-9} d:{Dec:<nil>} s:66155n Format:DecimalSI} memory:{i:{value:10993664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.567082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:66155 scale:-9} d:{Dec:<nil>} s:66155n Format:DecimalSI}, 1
I0412 18:39:15.567129       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:10 +0000 UTC Window:{Duration:27.801s} Containers:[{Name:updater Usage:map[cpu:{i:{value:111183 scale:-9} d:{Dec:<nil>} s:111183n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:39:15.567172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:111183 scale:-9} d:{Dec:<nil>} s:111183n Format:DecimalSI}, 1
I0412 18:39:15.567226       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:39:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:02 +0000 UTC Window:{Duration:11.314s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1223351 scale:-9} d:{Dec:<nil>} s:1223351n Format:DecimalSI} memory:{i:{value:56881152 scale:0} d:{Dec:<nil>} s:55548Ki Format:BinarySI}]}]}
I0412 18:39:15.567265       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1223351 scale:-9} d:{Dec:<nil>} s:1223351n Format:DecimalSI}, 2
I0412 18:39:15.567355       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:39:15.567371       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:39:15.567425       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:39:15.567497       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:39:15.567571       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 93335190820.099\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.055\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:39:15.567582       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840138 ControlledValues:<nil>}:
I0412 18:39:15.567617       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:39:15.567625       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:39:15.567634       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442059015]
I0412 18:39:15.567639       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:39:15.567647       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1597 memory:880963999]
I0412 18:39:15.567652       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:39:15.585406       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000795800} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000795890 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ca534732-42fb-48e6-aff9-9d80362b3cf5] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b65a0 TLS:0xc0005220b0}
I0412 18:39:15.605380       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007465d0} GetBody:0x6d9b40 ContentLength:500 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746660 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[60753dc1-1023-4923-92ab-5930d28cbace] Cache-Control:[no-cache, private] Content-Length:[1438] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9980} ContentLength:1438 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000364a20 TLS:0xc0005220b0}
I0412 18:39:15.605619       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:39:15.605632       1 cluster_feeder.go:272] Starting garbage collection of checkpoints
I0412 18:39:15.605645       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:39:15.605649       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:39:15.605707       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:39:15.620277       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/api/v1/namespaces Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e11a0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a7c6baf0-8870-4cac-9f01-49f0c4aa8045] Cache-Control:[no-cache, private] Content-Length:[2913] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cd380} ContentLength:2913 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000454360 TLS:0xc0005220b0}
I0412 18:39:15.636746       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e19b0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[e8773ff8-7e4e-4f6a-aa97-b2d5821aff78] Cache-Control:[no-cache, private] Content-Length:[1591] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cdc80} ContentLength:1591 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0004d47e0 TLS:0xc0005220b0}
I0412 18:39:15.644726       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-node-lease/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000746fc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[9eccd939-f75f-44d7-a76b-ea0ebda61ded] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0003659e0 TLS:0xc0005220b0}
I0412 18:39:15.652848       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-public/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747590 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[a63195e3-84a2-4e72-b60f-d2b93e03313a] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076a900 TLS:0xc0005220b0}
I0412 18:39:15.662572       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/kube-system/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00051d7d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[79828f4a-03e8-419b-99c3-175d679fb28b] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0004cde00} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000162c60 TLS:0xc0005220b0}
I0412 18:39:15.668569       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/monitor/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000747c80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ea19b37e-5a5f-487e-b52b-755ff9406681] Cache-Control:[no-cache, private] Content-Length:[154] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:39:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:154 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 18:39:15.668740       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:39:19.885725       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 4 items received
I0412 18:39:34.608397       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/recommender/input/cluster_feeder.go:171: Watch close - *v1.Pod total 3 items received
I0412 18:40:04.248862       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 6 items received
I0412 18:40:15.532766       1 recommender.go:166] Recommender Run
I0412 18:40:15.532827       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:40:15.532848       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:40:15.536792       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:40:15.561053       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762ae0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f2f2d0d2-57c6-40ed-ae23-a293816f7966 f2f2d0d2-57c6-40ed-ae23-a293816f7966] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f2f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd7a0 TLS:0xc0005220b0}
I0412 18:40:15.561620       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:40:15.561702       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:00 +0000 UTC Window:{Duration:19.114s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750673485 scale:-9} d:{Dec:<nil>} s:750673485n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:40:15.561744       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750673485 scale:-9} d:{Dec:<nil>} s:750673485n Format:DecimalSI}, 751
I0412 18:40:15.561784       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:08 +0000 UTC Window:{Duration:16.197s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750187627 scale:-9} d:{Dec:<nil>} s:750187627n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:40:15.561789       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750187627 scale:-9} d:{Dec:<nil>} s:750187627n Format:DecimalSI}, 751
I0412 18:40:15.561819       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:00 +0000 UTC Window:{Duration:14.41s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3446564 scale:-9} d:{Dec:<nil>} s:3446564n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:40:15.561835       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3446564 scale:-9} d:{Dec:<nil>} s:3446564n Format:DecimalSI}, 4
I0412 18:40:15.561853       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:00 +0000 UTC Window:{Duration:17.299s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:9576160 scale:-9} d:{Dec:<nil>} s:9576160n Format:DecimalSI} memory:{i:{value:167723008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:40:15.561857       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:9576160 scale:-9} d:{Dec:<nil>} s:9576160n Format:DecimalSI}, 10
I0412 18:40:15.561872       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:04 +0000 UTC Window:{Duration:10.432s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1468941 scale:-9} d:{Dec:<nil>} s:1468941n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 18:40:15.561880       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1468941 scale:-9} d:{Dec:<nil>} s:1468941n Format:DecimalSI}, 2
I0412 18:40:15.561918       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:00 +0000 UTC Window:{Duration:10.163s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:40:15.561926       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:40:15.561929       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:40:15.561944       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:04 +0000 UTC Window:{Duration:10.715s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:829211 scale:-9} d:{Dec:<nil>} s:829211n Format:DecimalSI} memory:{i:{value:6897664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:40:15.561947       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:829211 scale:-9} d:{Dec:<nil>} s:829211n Format:DecimalSI}, 1
I0412 18:40:15.561967       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:10 +0000 UTC Window:{Duration:15.498s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:1185636 scale:-9} d:{Dec:<nil>} s:1185636n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:40:15.561975       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1185636 scale:-9} d:{Dec:<nil>} s:1185636n Format:DecimalSI}, 2
I0412 18:40:15.561989       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:56 +0000 UTC Window:{Duration:15.935s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2012927 scale:-9} d:{Dec:<nil>} s:2012927n Format:DecimalSI} memory:{i:{value:18198528 scale:0} d:{Dec:<nil>} s:17772Ki Format:BinarySI}]}]}
I0412 18:40:15.561996       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2012927 scale:-9} d:{Dec:<nil>} s:2012927n Format:DecimalSI}, 3
I0412 18:40:15.562009       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:58 +0000 UTC Window:{Duration:11.578s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:288391 scale:-9} d:{Dec:<nil>} s:288391n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:40:15.562014       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:288391 scale:-9} d:{Dec:<nil>} s:288391n Format:DecimalSI}, 1
I0412 18:40:15.562041       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:54 +0000 UTC Window:{Duration:14.5s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:1027793 scale:-9} d:{Dec:<nil>} s:1027793n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:40:15.562072       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1027793 scale:-9} d:{Dec:<nil>} s:1027793n Format:DecimalSI}, 2
I0412 18:40:15.562113       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:06 +0000 UTC Window:{Duration:17.956s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:214524 scale:-9} d:{Dec:<nil>} s:214524n Format:DecimalSI} memory:{i:{value:11137024 scale:0} d:{Dec:<nil>} s:10876Ki Format:BinarySI}]}]}
I0412 18:40:15.562120       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:214524 scale:-9} d:{Dec:<nil>} s:214524n Format:DecimalSI}, 1
I0412 18:40:15.562136       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:39:57 +0000 UTC Window:{Duration:11.92s} Containers:[{Name:updater Usage:map[cpu:{i:{value:119379 scale:-9} d:{Dec:<nil>} s:119379n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:40:15.562140       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:119379 scale:-9} d:{Dec:<nil>} s:119379n Format:DecimalSI}, 1
I0412 18:40:15.562154       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:40:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:11 +0000 UTC Window:{Duration:23.143s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1612885 scale:-9} d:{Dec:<nil>} s:1612885n Format:DecimalSI} memory:{i:{value:59052032 scale:0} d:{Dec:<nil>} s:57668Ki Format:BinarySI}]}]}
I0412 18:40:15.562157       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1612885 scale:-9} d:{Dec:<nil>} s:1612885n Format:DecimalSI}, 2
I0412 18:40:15.562289       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:40:15.562333       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:40:15.562385       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:40:15.562440       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:40:15.562520       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 107207287917.134\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.055\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:40:15.562531       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc0004513c8 ControlledValues:<nil>}:
I0412 18:40:15.562557       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:40:15.562563       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:40:15.562569       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442059487]
I0412 18:40:15.562573       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:40:15.562577       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1597 memory:880709760]
I0412 18:40:15.562581       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:40:15.591708       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000987bf0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987c80 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[09930194-bb8b-4b25-a3af-54880ea04ade] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0003f3080} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7e60 TLS:0xc0005220b0}
I0412 18:40:15.603485       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0008828a0} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882930 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2435c612-365f-4384-a1e2-f64154d909f3] Cache-Control:[no-cache, private] Content-Length:[1439] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:40:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:1439 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076afc0 TLS:0xc0005220b0}
I0412 18:40:15.603748       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:40:15.603770       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:40:53.367088       1 cluster_feeder.go:138] Eviction event chan closed
I0412 18:40:53.367110       1 cluster_feeder.go:128] An attempt to watch eviction events finished. Waiting 10.021752374s before the next one.
I0412 18:41:15.532994       1 recommender.go:166] Recommender Run
I0412 18:41:15.544785       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:41:15.544915       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:41:15.549133       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:41:15.569413       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c990 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[56c9aa53-7b9e-4dd6-95b9-06acea143be0 56c9aa53-7b9e-4dd6-95b9-06acea143be0] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062ca20 TLS:0xc0005220b0}
I0412 18:41:15.570419       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:41:15.570512       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:04 +0000 UTC Window:{Duration:16.499s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749965513 scale:-9} d:{Dec:<nil>} s:749965513n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:41:15.570530       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749965513 scale:-9} d:{Dec:<nil>} s:749965513n Format:DecimalSI}, 750
I0412 18:41:15.570565       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:54 +0000 UTC Window:{Duration:14.818s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749137940 scale:-9} d:{Dec:<nil>} s:749137940n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.570571       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749137940 scale:-9} d:{Dec:<nil>} s:749137940n Format:DecimalSI}, 750
I0412 18:41:15.570609       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:05 +0000 UTC Window:{Duration:19.297s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1957869 scale:-9} d:{Dec:<nil>} s:1957869n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.570620       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1957869 scale:-9} d:{Dec:<nil>} s:1957869n Format:DecimalSI}, 2
I0412 18:41:15.570650       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:08 +0000 UTC Window:{Duration:14.427s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10831912 scale:-9} d:{Dec:<nil>} s:10831912n Format:DecimalSI} memory:{i:{value:167723008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.570709       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10831912 scale:-9} d:{Dec:<nil>} s:10831912n Format:DecimalSI}, 11
I0412 18:41:15.570749       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:06 +0000 UTC Window:{Duration:19.331s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1863328 scale:-9} d:{Dec:<nil>} s:1863328n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 18:41:15.570767       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1863328 scale:-9} d:{Dec:<nil>} s:1863328n Format:DecimalSI}, 2
I0412 18:41:15.570799       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:00 +0000 UTC Window:{Duration:17.588s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:41:15.570809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:41:15.570816       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:41:15.570867       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:11 +0000 UTC Window:{Duration:17.098s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1458533 scale:-9} d:{Dec:<nil>} s:1458533n Format:DecimalSI} memory:{i:{value:6914048 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.570877       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1458533 scale:-9} d:{Dec:<nil>} s:1458533n Format:DecimalSI}, 2
I0412 18:41:15.570910       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:07 +0000 UTC Window:{Duration:12.901s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:595225 scale:-9} d:{Dec:<nil>} s:595225n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:41:15.570929       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:595225 scale:-9} d:{Dec:<nil>} s:595225n Format:DecimalSI}, 1
I0412 18:41:15.570979       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:12 +0000 UTC Window:{Duration:25.912s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3185975 scale:-9} d:{Dec:<nil>} s:3185975n Format:DecimalSI} memory:{i:{value:18563072 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.570988       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3185975 scale:-9} d:{Dec:<nil>} s:3185975n Format:DecimalSI}, 4
I0412 18:41:15.571013       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:06 +0000 UTC Window:{Duration:13.798s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:206044 scale:-9} d:{Dec:<nil>} s:206044n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:41:15.571040       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:206044 scale:-9} d:{Dec:<nil>} s:206044n Format:DecimalSI}, 1
I0412 18:41:15.571073       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:11 +0000 UTC Window:{Duration:15.826s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:115569 scale:-9} d:{Dec:<nil>} s:115569n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.571084       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:115569 scale:-9} d:{Dec:<nil>} s:115569n Format:DecimalSI}, 1
I0412 18:41:15.571109       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:40:55 +0000 UTC Window:{Duration:15.655s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:70776 scale:-9} d:{Dec:<nil>} s:70776n Format:DecimalSI} memory:{i:{value:11145216 scale:0} d:{Dec:<nil>} s:10884Ki Format:BinarySI}]}]}
I0412 18:41:15.571114       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:70776 scale:-9} d:{Dec:<nil>} s:70776n Format:DecimalSI}, 1
I0412 18:41:15.571148       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:04 +0000 UTC Window:{Duration:12.887s} Containers:[{Name:updater Usage:map[cpu:{i:{value:91720 scale:-9} d:{Dec:<nil>} s:91720n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.571158       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:91720 scale:-9} d:{Dec:<nil>} s:91720n Format:DecimalSI}, 1
I0412 18:41:15.571183       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:41:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:08 +0000 UTC Window:{Duration:15.05s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1504983 scale:-9} d:{Dec:<nil>} s:1504983n Format:DecimalSI} memory:{i:{value:59359232 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:41:15.571205       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1504983 scale:-9} d:{Dec:<nil>} s:1504983n Format:DecimalSI}, 2
I0412 18:41:15.571413       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:41:15.571444       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:41:15.571489       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:41:15.571544       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:41:15.571622       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 122959494002.715\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.055\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:41:15.571645       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000117d70 ControlledValues:<nil>}:
I0412 18:41:15.571686       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:41:15.571695       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:41:15.571704       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442059899]
I0412 18:41:15.571710       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:41:15.571718       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1596 memory:880487563]
I0412 18:41:15.571723       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:41:15.589073       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0005bf860} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bf8f0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[457086b0-63c9-406d-b708-6749057ccb4c] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0000f47e0 TLS:0xc0005220b0}
I0412 18:41:15.603015       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712e70} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712f00 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7cf2d923-a71a-4506-980c-fce472726af2] Cache-Control:[no-cache, private] Content-Length:[1439] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:41:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9500} ContentLength:1439 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214c60 TLS:0xc0005220b0}
I0412 18:41:15.603372       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:41:15.603402       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:41:29.424987       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.DaemonSet total 4 items received
I0412 18:42:15.533301       1 recommender.go:166] Recommender Run
I0412 18:42:15.548784       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:42:15.548910       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:42:15.556898       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:42:15.581645       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000712ab0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[3268cf6f-3693-4124-a11e-445084c4b5de 3268cf6f-3693-4124-a11e-445084c4b5de] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472000} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076ac60 TLS:0xc0005220b0}
I0412 18:42:15.582678       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:42:15.582793       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:03 +0000 UTC Window:{Duration:18.791s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750473152 scale:-9} d:{Dec:<nil>} s:750473152n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:42:15.582809       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750473152 scale:-9} d:{Dec:<nil>} s:750473152n Format:DecimalSI}, 751
I0412 18:42:15.582852       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:05 +0000 UTC Window:{Duration:18.593s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749964556 scale:-9} d:{Dec:<nil>} s:749964556n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.582859       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749964556 scale:-9} d:{Dec:<nil>} s:749964556n Format:DecimalSI}, 750
I0412 18:42:15.582942       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:02 +0000 UTC Window:{Duration:10.717s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:4326490 scale:-9} d:{Dec:<nil>} s:4326490n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.582990       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4326490 scale:-9} d:{Dec:<nil>} s:4326490n Format:DecimalSI}, 5
I0412 18:42:15.583061       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:08 +0000 UTC Window:{Duration:12.293s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:11398275 scale:-9} d:{Dec:<nil>} s:11398275n Format:DecimalSI} memory:{i:{value:167665664 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.583076       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:11398275 scale:-9} d:{Dec:<nil>} s:11398275n Format:DecimalSI}, 12
I0412 18:42:15.583104       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:01 +0000 UTC Window:{Duration:12.823s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1940263 scale:-9} d:{Dec:<nil>} s:1940263n Format:DecimalSI} memory:{i:{value:14684160 scale:0} d:{Dec:<nil>} s:14340Ki Format:BinarySI}]}]}
I0412 18:42:15.583109       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1940263 scale:-9} d:{Dec:<nil>} s:1940263n Format:DecimalSI}, 2
I0412 18:42:15.583156       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:57 +0000 UTC Window:{Duration:18.271s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:42:15.583178       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:42:15.583185       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:42:15.583212       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:01 +0000 UTC Window:{Duration:13.559s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1046906 scale:-9} d:{Dec:<nil>} s:1046906n Format:DecimalSI} memory:{i:{value:6922240 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.583217       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1046906 scale:-9} d:{Dec:<nil>} s:1046906n Format:DecimalSI}, 2
I0412 18:42:15.583260       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:05 +0000 UTC Window:{Duration:10.8s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:683055 scale:-9} d:{Dec:<nil>} s:683055n Format:DecimalSI} memory:{i:{value:12705792 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.583270       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:683055 scale:-9} d:{Dec:<nil>} s:683055n Format:DecimalSI}, 1
I0412 18:42:15.583296       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:07 +0000 UTC Window:{Duration:19.415s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3564202 scale:-9} d:{Dec:<nil>} s:3564202n Format:DecimalSI} memory:{i:{value:18333696 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.583307       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3564202 scale:-9} d:{Dec:<nil>} s:3564202n Format:DecimalSI}, 4
I0412 18:42:15.583351       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:02 +0000 UTC Window:{Duration:10.126s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:1066956 scale:-9} d:{Dec:<nil>} s:1066956n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:42:15.583360       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1066956 scale:-9} d:{Dec:<nil>} s:1066956n Format:DecimalSI}, 2
I0412 18:42:15.583404       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:11 +0000 UTC Window:{Duration:14.799s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:60612 scale:-9} d:{Dec:<nil>} s:60612n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.583411       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:60612 scale:-9} d:{Dec:<nil>} s:60612n Format:DecimalSI}, 1
I0412 18:42:15.583448       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:02 +0000 UTC Window:{Duration:13.93s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:125053 scale:-9} d:{Dec:<nil>} s:125053n Format:DecimalSI} memory:{i:{value:11202560 scale:0} d:{Dec:<nil>} s:10940Ki Format:BinarySI}]}]}
I0412 18:42:15.583462       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:125053 scale:-9} d:{Dec:<nil>} s:125053n Format:DecimalSI}, 1
I0412 18:42:15.583488       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:57 +0000 UTC Window:{Duration:11.758s} Containers:[{Name:updater Usage:map[cpu:{i:{value:120428 scale:-9} d:{Dec:<nil>} s:120428n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:42:15.583497       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:120428 scale:-9} d:{Dec:<nil>} s:120428n Format:DecimalSI}, 1
I0412 18:42:15.583540       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:42:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:41:56 +0000 UTC Window:{Duration:17.545s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1705671 scale:-9} d:{Dec:<nil>} s:1705671n Format:DecimalSI} memory:{i:{value:59207680 scale:0} d:{Dec:<nil>} s:57820Ki Format:BinarySI}]}]}
I0412 18:42:15.583556       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1705671 scale:-9} d:{Dec:<nil>} s:1705671n Format:DecimalSI}, 2
I0412 18:42:15.583747       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:42:15.583776       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:42:15.583895       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:42:15.583934       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:42:15.584023       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 141263103022.333\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.055\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:42:15.584050       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451890 ControlledValues:<nil>}:
I0412 18:42:15.584086       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:42:15.584110       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:42:15.584119       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442060347]
I0412 18:42:15.584125       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:42:15.584132       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1596 memory:880245805]
I0412 18:42:15.584137       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:42:15.611417       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000729f20} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762060 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[45e4194c-5174-4ac3-ac7d-6c7e42844c7a] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000214900 TLS:0xc0005220b0}
I0412 18:42:15.632940       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000762f30} GetBody:0x6d9b40 ContentLength:500 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000762fc0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[219d9ea9-0835-4cb3-8fd5-7e6d8c0fdf42] Cache-Control:[no-cache, private] Content-Length:[1438] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:42:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472d80} ContentLength:1438 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215560 TLS:0xc0005220b0}
I0412 18:42:15.633390       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:42:15.633430       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:43:15.540685       1 recommender.go:166] Recommender Run
I0412 18:43:15.540943       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:43:15.541032       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:43:15.541232       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:43:15.560109       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000763dd0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[87c2193e-dc87-4360-a414-4bf983f48b7a 87c2193e-dc87-4360-a414-4bf983f48b7a] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd440 TLS:0xc0005220b0}
I0412 18:43:15.560805       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:43:15.560922       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:08 +0000 UTC Window:{Duration:17.306s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750847220 scale:-9} d:{Dec:<nil>} s:750847220n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:43:15.560933       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750847220 scale:-9} d:{Dec:<nil>} s:750847220n Format:DecimalSI}, 751
I0412 18:43:15.560999       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:01 +0000 UTC Window:{Duration:11.915s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748992782 scale:-9} d:{Dec:<nil>} s:748992782n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:43:15.561031       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748992782 scale:-9} d:{Dec:<nil>} s:748992782n Format:DecimalSI}, 749
I0412 18:43:15.561074       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:09 +0000 UTC Window:{Duration:12.269s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1892900 scale:-9} d:{Dec:<nil>} s:1892900n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:43:15.561082       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1892900 scale:-9} d:{Dec:<nil>} s:1892900n Format:DecimalSI}, 2
I0412 18:43:15.561102       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:01 +0000 UTC Window:{Duration:10.282s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10506710 scale:-9} d:{Dec:<nil>} s:10506710n Format:DecimalSI} memory:{i:{value:167997440 scale:0} d:{Dec:<nil>} s:164060Ki Format:BinarySI}]}]}
I0412 18:43:15.561141       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10506710 scale:-9} d:{Dec:<nil>} s:10506710n Format:DecimalSI}, 11
I0412 18:43:15.561200       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:04 +0000 UTC Window:{Duration:16.078s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1816270 scale:-9} d:{Dec:<nil>} s:1816270n Format:DecimalSI} memory:{i:{value:14737408 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:43:15.561209       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1816270 scale:-9} d:{Dec:<nil>} s:1816270n Format:DecimalSI}, 2
I0412 18:43:15.561230       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:05 +0000 UTC Window:{Duration:16.391s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:43:15.561235       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:43:15.561240       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:43:15.561272       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:07 +0000 UTC Window:{Duration:13.734s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1168632 scale:-9} d:{Dec:<nil>} s:1168632n Format:DecimalSI} memory:{i:{value:6950912 scale:0} d:{Dec:<nil>} s:6788Ki Format:BinarySI}]}]}
I0412 18:43:15.561283       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1168632 scale:-9} d:{Dec:<nil>} s:1168632n Format:DecimalSI}, 2
I0412 18:43:15.561307       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:09 +0000 UTC Window:{Duration:17.47s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:305266 scale:-9} d:{Dec:<nil>} s:305266n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:43:15.561317       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:305266 scale:-9} d:{Dec:<nil>} s:305266n Format:DecimalSI}, 1
I0412 18:43:15.561332       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:09 +0000 UTC Window:{Duration:19.901s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2512486 scale:-9} d:{Dec:<nil>} s:2512486n Format:DecimalSI} memory:{i:{value:18354176 scale:0} d:{Dec:<nil>} s:17924Ki Format:BinarySI}]}]}
I0412 18:43:15.561339       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2512486 scale:-9} d:{Dec:<nil>} s:2512486n Format:DecimalSI}, 3
I0412 18:43:15.561355       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:03 +0000 UTC Window:{Duration:15.278s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:318693 scale:-9} d:{Dec:<nil>} s:318693n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:43:15.561358       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:318693 scale:-9} d:{Dec:<nil>} s:318693n Format:DecimalSI}, 1
I0412 18:43:15.561373       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:07 +0000 UTC Window:{Duration:12.853s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:83015 scale:-9} d:{Dec:<nil>} s:83015n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:43:15.561406       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:83015 scale:-9} d:{Dec:<nil>} s:83015n Format:DecimalSI}, 1
I0412 18:43:15.561456       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:05 +0000 UTC Window:{Duration:16.92s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:156737 scale:-9} d:{Dec:<nil>} s:156737n Format:DecimalSI} memory:{i:{value:11202560 scale:0} d:{Dec:<nil>} s:10940Ki Format:BinarySI}]}]}
I0412 18:43:15.561488       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:156737 scale:-9} d:{Dec:<nil>} s:156737n Format:DecimalSI}, 1
I0412 18:43:15.561559       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:42:58 +0000 UTC Window:{Duration:14.478s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:43:15.561569       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:43:15.561588       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:43:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:03 +0000 UTC Window:{Duration:18.214s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1267651 scale:-9} d:{Dec:<nil>} s:1267651n Format:DecimalSI} memory:{i:{value:58593280 scale:0} d:{Dec:<nil>} s:57220Ki Format:BinarySI}]}]}
I0412 18:43:15.561594       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1267651 scale:-9} d:{Dec:<nil>} s:1267651n Format:DecimalSI}, 2
I0412 18:43:15.561659       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:43:15.561671       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:43:15.561717       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:43:15.561776       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:43:15.561824       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 162313364124.656\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:43:15.561833       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000991128 ControlledValues:<nil>}:
I0412 18:43:15.561871       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:43:15.561885       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:43:15.561908       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442060809]
I0412 18:43:15.561919       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:43:15.561927       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1595 memory:879996424]
I0412 18:43:15.561931       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:43:15.577136       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089c840} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089c8d0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[7038fcfa-e7dc-4e30-8c89-002aa04b550c] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473080} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b7c20 TLS:0xc0005220b0}
I0412 18:43:15.596208       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000882e70} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000882f90 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[ef41abfd-9f37-4be2-9096-af53cc90e373] Cache-Control:[no-cache, private] Content-Length:[1440] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:43:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:1440 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b1440 TLS:0xc0005220b0}
I0412 18:43:15.596371       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:43:15.596384       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:43:48.814152       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/utils/vpa/api.go:90: Watch close - *v1.VerticalPodAutoscaler total 13 items received
I0412 18:44:08.590240       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Job total 7 items received
I0412 18:44:15.532798       1 recommender.go:166] Recommender Run
I0412 18:44:15.544672       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:44:15.544686       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:44:15.544824       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:44:15.584317       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d320 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[560f7f53-b4fb-41ff-ad7f-61448e7961c7 560f7f53-b4fb-41ff-ad7f-61448e7961c7] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cd80 TLS:0xc0005220b0}
I0412 18:44:15.584957       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:44:15.585047       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:05 +0000 UTC Window:{Duration:12.469s} Containers:[{Name:workload Usage:map[cpu:{i:{value:747431069 scale:-9} d:{Dec:<nil>} s:747431069n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:44:15.585059       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:747431069 scale:-9} d:{Dec:<nil>} s:747431069n Format:DecimalSI}, 748
I0412 18:44:15.585080       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:04 +0000 UTC Window:{Duration:16.882s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748695237 scale:-9} d:{Dec:<nil>} s:748695237n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585084       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748695237 scale:-9} d:{Dec:<nil>} s:748695237n Format:DecimalSI}, 749
I0412 18:44:15.585105       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:59 +0000 UTC Window:{Duration:18.455s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:3485071 scale:-9} d:{Dec:<nil>} s:3485071n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585113       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3485071 scale:-9} d:{Dec:<nil>} s:3485071n Format:DecimalSI}, 4
I0412 18:44:15.585137       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:53 +0000 UTC Window:{Duration:17.772s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10873171 scale:-9} d:{Dec:<nil>} s:10873171n Format:DecimalSI} memory:{i:{value:167743488 scale:0} d:{Dec:<nil>} s:163812Ki Format:BinarySI}]}]}
I0412 18:44:15.585143       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10873171 scale:-9} d:{Dec:<nil>} s:10873171n Format:DecimalSI}, 11
I0412 18:44:15.585158       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:05 +0000 UTC Window:{Duration:16.349s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1638815 scale:-9} d:{Dec:<nil>} s:1638815n Format:DecimalSI} memory:{i:{value:14876672 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585164       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1638815 scale:-9} d:{Dec:<nil>} s:1638815n Format:DecimalSI}, 2
I0412 18:44:15.585186       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:00 +0000 UTC Window:{Duration:29.171s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:44:15.585196       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:44:15.585199       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:44:15.585215       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:56 +0000 UTC Window:{Duration:31.144s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:953377 scale:-9} d:{Dec:<nil>} s:953377n Format:DecimalSI} memory:{i:{value:6955008 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585225       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:953377 scale:-9} d:{Dec:<nil>} s:953377n Format:DecimalSI}, 1
I0412 18:44:15.585251       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:11 +0000 UTC Window:{Duration:29.51s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:612538 scale:-9} d:{Dec:<nil>} s:612538n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585256       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:612538 scale:-9} d:{Dec:<nil>} s:612538n Format:DecimalSI}, 1
I0412 18:44:15.585270       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:10 +0000 UTC Window:{Duration:13.675s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2851042 scale:-9} d:{Dec:<nil>} s:2851042n Format:DecimalSI} memory:{i:{value:18563072 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585273       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2851042 scale:-9} d:{Dec:<nil>} s:2851042n Format:DecimalSI}, 3
I0412 18:44:15.585287       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:01 +0000 UTC Window:{Duration:14.861s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:617589 scale:-9} d:{Dec:<nil>} s:617589n Format:DecimalSI} memory:{i:{value:9682944 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585297       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:617589 scale:-9} d:{Dec:<nil>} s:617589n Format:DecimalSI}, 1
I0412 18:44:15.585311       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:11 +0000 UTC Window:{Duration:18.586s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:54772 scale:-9} d:{Dec:<nil>} s:54772n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585315       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:54772 scale:-9} d:{Dec:<nil>} s:54772n Format:DecimalSI}, 1
I0412 18:44:15.585347       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:05 +0000 UTC Window:{Duration:14.579s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:158652 scale:-9} d:{Dec:<nil>} s:158652n Format:DecimalSI} memory:{i:{value:11083776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585378       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:158652 scale:-9} d:{Dec:<nil>} s:158652n Format:DecimalSI}, 1
I0412 18:44:15.585400       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:02 +0000 UTC Window:{Duration:15.956s} Containers:[{Name:updater Usage:map[cpu:{i:{value:69252 scale:-9} d:{Dec:<nil>} s:69252n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585406       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:69252 scale:-9} d:{Dec:<nil>} s:69252n Format:DecimalSI}, 1
I0412 18:44:15.585420       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:44:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:43:57 +0000 UTC Window:{Duration:19.058s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1471403 scale:-9} d:{Dec:<nil>} s:1471403n Format:DecimalSI} memory:{i:{value:59187200 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:44:15.585447       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1471403 scale:-9} d:{Dec:<nil>} s:1471403n Format:DecimalSI}, 2
I0412 18:44:15.585544       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:44:15.585560       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:44:15.585591       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:44:15.585615       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:44:15.585644       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 186492989943.089\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.055\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.753\n100\t0.801:
I0412 18:44:15.585656       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000451038 ControlledValues:<nil>}:
I0412 18:44:15.585672       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:864 memory:476450463]
I0412 18:44:15.585677       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:44:15.585682       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442061227]
I0412 18:44:15.585686       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:44:15.585691       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1595 memory:879771059]
I0412 18:44:15.585700       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:44:15.609276       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000712330} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007123c0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[96452160-9c12-4979-8617-fa83bb45aad1] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472a80} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00076aea0 TLS:0xc0005220b0}
I0412 18:44:15.752785       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007286c0} GetBody:0x6d9b40 ContentLength:501 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007287e0 pat:<nil> matches:[] otherValues:map[]}, {Status:404 Not Found StatusCode:404 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fdb6e841-6783-4f7d-ac54-bed7fd24b377] Cache-Control:[no-cache, private] Content-Length:[314] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:314 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002147e0 TLS:0xc0005220b0}
I0412 18:44:15.784275       1 request.go:1064] NICO---{Method:POST URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json]] Body:{Reader:0xc000729050} GetBody:0x6d9b40 ContentLength:683 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0007290e0 pat:<nil> matches:[] otherValues:map[]}, {Status:201 Created StatusCode:201 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[2dc40d8e-f4b4-432b-aeb1-75be5dcb7261] Cache-Control:[no-cache, private] Content-Length:[1439] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:44:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362d80} ContentLength:1439 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000215200 TLS:0xc0005220b0}
I0412 18:44:15.784407       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:44:15.784422       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:44:18.371909       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.CronJob total 5 items received
I0412 18:44:30.002599       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicaSet total 3 items received
I0412 18:45:05.152873       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.StatefulSet total 4 items received
I0412 18:45:15.536667       1 recommender.go:166] Recommender Run
I0412 18:45:15.536846       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:45:15.536926       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:45:15.540724       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:45:15.566649       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0005bfa70 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[d023529a-fdfe-4f88-8450-0b29b8ccfe74 d023529a-fdfe-4f88-8450-0b29b8ccfe74] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b6360 TLS:0xc0005220b0}
I0412 18:45:15.567262       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:45:15.567341       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:10 +0000 UTC Window:{Duration:15.964s} Containers:[{Name:workload Usage:map[cpu:{i:{value:748509082 scale:-9} d:{Dec:<nil>} s:748509082n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:45:15.567354       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:748509082 scale:-9} d:{Dec:<nil>} s:748509082n Format:DecimalSI}, 749
I0412 18:45:15.567385       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:00 +0000 UTC Window:{Duration:18.847s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752121982 scale:-9} d:{Dec:<nil>} s:752121982n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:45:15.567393       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752121982 scale:-9} d:{Dec:<nil>} s:752121982n Format:DecimalSI}, 753
I0412 18:45:15.567416       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:08 +0000 UTC Window:{Duration:11.508s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2057177 scale:-9} d:{Dec:<nil>} s:2057177n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:45:15.567423       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2057177 scale:-9} d:{Dec:<nil>} s:2057177n Format:DecimalSI}, 3
I0412 18:45:15.567445       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:08 +0000 UTC Window:{Duration:14.768s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10188447 scale:-9} d:{Dec:<nil>} s:10188447n Format:DecimalSI} memory:{i:{value:167784448 scale:0} d:{Dec:<nil>} s:163852Ki Format:BinarySI}]}]}
I0412 18:45:15.567451       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10188447 scale:-9} d:{Dec:<nil>} s:10188447n Format:DecimalSI}, 11
I0412 18:45:15.567467       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:12 +0000 UTC Window:{Duration:17.823s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1662570 scale:-9} d:{Dec:<nil>} s:1662570n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 18:45:15.567481       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1662570 scale:-9} d:{Dec:<nil>} s:1662570n Format:DecimalSI}, 2
I0412 18:45:15.567499       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:57 +0000 UTC Window:{Duration:15.479s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:45:15.567503       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:45:15.567506       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:45:15.567521       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:02 +0000 UTC Window:{Duration:19.333s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:4591165 scale:-9} d:{Dec:<nil>} s:4591165n Format:DecimalSI} memory:{i:{value:8855552 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:45:15.567525       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:4591165 scale:-9} d:{Dec:<nil>} s:4591165n Format:DecimalSI}, 5
I0412 18:45:15.567544       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:59 +0000 UTC Window:{Duration:15.213s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:511601 scale:-9} d:{Dec:<nil>} s:511601n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:45:15.567547       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:511601 scale:-9} d:{Dec:<nil>} s:511601n Format:DecimalSI}, 1
I0412 18:45:15.567561       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:10 +0000 UTC Window:{Duration:16.865s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2516098 scale:-9} d:{Dec:<nil>} s:2516098n Format:DecimalSI} memory:{i:{value:18718720 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:45:15.567565       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2516098 scale:-9} d:{Dec:<nil>} s:2516098n Format:DecimalSI}, 3
I0412 18:45:15.567579       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:02 +0000 UTC Window:{Duration:13.078s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:294616 scale:-9} d:{Dec:<nil>} s:294616n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:45:15.567593       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:294616 scale:-9} d:{Dec:<nil>} s:294616n Format:DecimalSI}, 1
I0412 18:45:15.567607       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:04 +0000 UTC Window:{Duration:15.661s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:104016 scale:-9} d:{Dec:<nil>} s:104016n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:45:15.567614       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:104016 scale:-9} d:{Dec:<nil>} s:104016n Format:DecimalSI}, 1
I0412 18:45:15.567641       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:05 +0000 UTC Window:{Duration:16.519s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:211635 scale:-9} d:{Dec:<nil>} s:211635n Format:DecimalSI} memory:{i:{value:11100160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:45:15.567651       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:211635 scale:-9} d:{Dec:<nil>} s:211635n Format:DecimalSI}, 1
I0412 18:45:15.567667       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:56 +0000 UTC Window:{Duration:17.434s} Containers:[{Name:updater Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:11890688 scale:0} d:{Dec:<nil>} s:11612Ki Format:BinarySI}]}]}
I0412 18:45:15.567670       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:45:15.567685       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:45:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:44:58 +0000 UTC Window:{Duration:14.686s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:930750 scale:-9} d:{Dec:<nil>} s:930750n Format:DecimalSI} memory:{i:{value:58822656 scale:0} d:{Dec:<nil>} s:57444Ki Format:BinarySI}]}]}
I0412 18:45:15.567692       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:930750 scale:-9} d:{Dec:<nil>} s:930750n Format:DecimalSI}, 1
I0412 18:45:15.567803       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:45:15.567828       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:45:15.567873       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:45:15.567902       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:45:15.567944       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 214302028962.950\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:45:15.567954       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000117f50 ControlledValues:<nil>}:
I0412 18:45:15.567985       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:45:15.567990       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:45:15.567996       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442061703]
I0412 18:45:15.567999       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:45:15.568004       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1698 memory:879514371]
I0412 18:45:15.568008       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:45:15.585190       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0009872f0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000987380 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[96a6b0e4-36be-4205-860f-9571aa381d11] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000363080} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d0ea0 TLS:0xc0005220b0}
I0412 18:45:15.644749       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc000582cc0} GetBody:0x6d9b40 ContentLength:502 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000582d50 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[6010c3f5-298f-4041-919b-808b034bf4ef] Cache-Control:[no-cache, private] Content-Length:[1440] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:45:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000473500} ContentLength:1440 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc000512b40 TLS:0xc0005220b0}
I0412 18:45:15.644942       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:45:15.644959       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:45:25.891880       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.Deployment total 0 items received
I0412 18:46:15.532971       1 recommender.go:166] Recommender Run
I0412 18:46:15.540743       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:46:15.540841       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:46:15.544940       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:46:15.567617       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986750 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[fbe608fd-5796-4515-8d9a-fab57973fce6 fbe608fd-5796-4515-8d9a-fab57973fce6] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362a80} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002d07e0 TLS:0xc0005220b0}
I0412 18:46:15.569345       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:46:15.569506       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:53 +0000 UTC Window:{Duration:25.171s} Containers:[{Name:workload Usage:map[cpu:{i:{value:750948631 scale:-9} d:{Dec:<nil>} s:750948631n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:46:15.569595       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:750948631 scale:-9} d:{Dec:<nil>} s:750948631n Format:DecimalSI}, 751
I0412 18:46:15.569707       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:56 +0000 UTC Window:{Duration:27.401s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749971570 scale:-9} d:{Dec:<nil>} s:749971570n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:46:15.569726       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749971570 scale:-9} d:{Dec:<nil>} s:749971570n Format:DecimalSI}, 750
I0412 18:46:15.569812       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:06 +0000 UTC Window:{Duration:17.34s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:2987658 scale:-9} d:{Dec:<nil>} s:2987658n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:46:15.569827       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2987658 scale:-9} d:{Dec:<nil>} s:2987658n Format:DecimalSI}, 3
I0412 18:46:15.569905       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:01 +0000 UTC Window:{Duration:18.097s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10275681 scale:-9} d:{Dec:<nil>} s:10275681n Format:DecimalSI} memory:{i:{value:167874560 scale:0} d:{Dec:<nil>} s:163940Ki Format:BinarySI}]}]}
I0412 18:46:15.569929       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10275681 scale:-9} d:{Dec:<nil>} s:10275681n Format:DecimalSI}, 11
I0412 18:46:15.569966       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:05 +0000 UTC Window:{Duration:16.138s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1866464 scale:-9} d:{Dec:<nil>} s:1866464n Format:DecimalSI} memory:{i:{value:14655488 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:46:15.569983       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1866464 scale:-9} d:{Dec:<nil>} s:1866464n Format:DecimalSI}, 2
I0412 18:46:15.570024       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:56 +0000 UTC Window:{Duration:17.016s} Containers:[{Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]} {Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]}]}
I0412 18:46:15.570103       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:46:15.570163       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:46:15.570216       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:10 +0000 UTC Window:{Duration:15.017s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:1013318 scale:-9} d:{Dec:<nil>} s:1013318n Format:DecimalSI} memory:{i:{value:8826880 scale:0} d:{Dec:<nil>} s:8620Ki Format:BinarySI}]}]}
I0412 18:46:15.570224       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1013318 scale:-9} d:{Dec:<nil>} s:1013318n Format:DecimalSI}, 2
I0412 18:46:15.570283       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:09 +0000 UTC Window:{Duration:17.517s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:531483 scale:-9} d:{Dec:<nil>} s:531483n Format:DecimalSI} memory:{i:{value:12709888 scale:0} d:{Dec:<nil>} s:12412Ki Format:BinarySI}]}]}
I0412 18:46:15.570313       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:531483 scale:-9} d:{Dec:<nil>} s:531483n Format:DecimalSI}, 1
I0412 18:46:15.570351       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:07 +0000 UTC Window:{Duration:23.911s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:2276316 scale:-9} d:{Dec:<nil>} s:2276316n Format:DecimalSI} memory:{i:{value:18853888 scale:0} d:{Dec:<nil>} s:18412Ki Format:BinarySI}]}]}
I0412 18:46:15.570367       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:2276316 scale:-9} d:{Dec:<nil>} s:2276316n Format:DecimalSI}, 3
I0412 18:46:15.570401       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:03 +0000 UTC Window:{Duration:12.931s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:751063 scale:-9} d:{Dec:<nil>} s:751063n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:46:15.570413       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:751063 scale:-9} d:{Dec:<nil>} s:751063n Format:DecimalSI}, 1
I0412 18:46:15.570482       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:00 +0000 UTC Window:{Duration:18.739s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:574470 scale:-9} d:{Dec:<nil>} s:574470n Format:DecimalSI} memory:{i:{value:11612160 scale:0} d:{Dec:<nil>} s:11340Ki Format:BinarySI}]}]}
I0412 18:46:15.570544       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:574470 scale:-9} d:{Dec:<nil>} s:574470n Format:DecimalSI}, 1
I0412 18:46:15.570593       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:11 +0000 UTC Window:{Duration:29.004s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:319128 scale:-9} d:{Dec:<nil>} s:319128n Format:DecimalSI} memory:{i:{value:11100160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:46:15.570607       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:319128 scale:-9} d:{Dec:<nil>} s:319128n Format:DecimalSI}, 1
I0412 18:46:15.570661       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:08 +0000 UTC Window:{Duration:16.56s} Containers:[{Name:updater Usage:map[cpu:{i:{value:117874 scale:-9} d:{Dec:<nil>} s:117874n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:46:15.570671       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:117874 scale:-9} d:{Dec:<nil>} s:117874n Format:DecimalSI}, 1
I0412 18:46:15.570704       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:46:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:45:55 +0000 UTC Window:{Duration:16.368s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1369195 scale:-9} d:{Dec:<nil>} s:1369195n Format:DecimalSI} memory:{i:{value:59056128 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:46:15.570717       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1369195 scale:-9} d:{Dec:<nil>} s:1369195n Format:DecimalSI}, 2
I0412 18:46:15.571009       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:46:15.571055       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:46:15.571170       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:46:15.571250       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:46:15.571378       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 245478686994.039\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.055\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.753\n95\t0.801\n100\t0.801:
I0412 18:46:15.571411       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000840b28 ControlledValues:<nil>}:
I0412 18:46:15.571461       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:46:15.571487       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:46:15.571515       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442062040]
I0412 18:46:15.571526       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:46:15.571537       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1697 memory:879332912]
I0412 18:46:15.571545       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:46:15.586508       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc00089cfc0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc00089d050 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[0fa56074-4af8-4c1e-8956-40d4321f224d] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472180} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b77a0 TLS:0xc0005220b0}
I0412 18:46:15.599638       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e0900} GetBody:0x6d9b40 ContentLength:502 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e0990 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[558ff1ff-549a-4c9d-976b-7eb8d0c515a4] Cache-Control:[no-cache, private] Content-Length:[1440] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:46:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9680} ContentLength:1440 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062cb40 TLS:0xc0005220b0}
I0412 18:46:15.599970       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:46:15.599999       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
I0412 18:47:00.287548       1 reflector.go:790] k8s.io/autoscaler/vertical-pod-autoscaler/pkg/target/controller_fetcher/controller_fetcher.go:136: Watch close - *v1.ReplicationController total 4 items received
I0412 18:47:15.532729       1 recommender.go:166] Recommender Run
I0412 18:47:15.532899       1 cluster_feeder.go:317] Start selecting the vpaCRDs.
I0412 18:47:15.532981       1 cluster_feeder.go:352] Fetched 1 VPAs.
I0412 18:47:15.533089       1 cluster_feeder.go:362] Using selector app=workload for VPA default/workload-vpa
I0412 18:47:15.561575       1 request.go:1064] NICO---{Method:GET URL:https://10.32.0.1:443/apis/metrics.k8s.io/v1beta1/pods Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*]] Body:<nil> GetBody:<nil> ContentLength:0 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000986de0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[4ded6083-e299-4495-87d2-88c7311f335d 4ded6083-e299-4495-87d2-88c7311f335d] Cache-Control:[no-cache, private no-cache, private] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000362c00} ContentLength:-1 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0007b0c60 TLS:0xc0005220b0}
I0412 18:47:15.562463       1 metrics_client.go:75] 14 podMetrics retrieved for all namespaces
I0412 18:47:15.562553       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-nc4cv GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:05 +0000 UTC Window:{Duration:12.893s} Containers:[{Name:workload Usage:map[cpu:{i:{value:749650973 scale:-9} d:{Dec:<nil>} s:749650973n Format:DecimalSI} memory:{i:{value:398151680 scale:0} d:{Dec:<nil>} s:388820Ki Format:BinarySI}]}]}
I0412 18:47:15.562579       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:749650973 scale:-9} d:{Dec:<nil>} s:749650973n Format:DecimalSI}, 750
I0412 18:47:15.562642       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:workload-575b56bfd7-p99x8 GenerateName: Namespace:default SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:workload pod-template-hash:575b56bfd7] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:10 +0000 UTC Window:{Duration:16.352s} Containers:[{Name:workload Usage:map[cpu:{i:{value:752068309 scale:-9} d:{Dec:<nil>} s:752068309n Format:DecimalSI} memory:{i:{value:398155776 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:47:15.562656       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:752068309 scale:-9} d:{Dec:<nil>} s:752068309n Format:DecimalSI}, 753
I0412 18:47:15.562702       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-operator-5c485c7cb-gm7kd GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-operator app.kubernetes.io/part-of:cilium io.cilium/app:operator name:cilium-operator pod-template-hash:5c485c7cb] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:56 +0000 UTC Window:{Duration:29.585s} Containers:[{Name:cilium-operator Usage:map[cpu:{i:{value:1901639 scale:-9} d:{Dec:<nil>} s:1901639n Format:DecimalSI} memory:{i:{value:32088064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:47:15.562754       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1901639 scale:-9} d:{Dec:<nil>} s:1901639n Format:DecimalSI}, 2
I0412 18:47:15.562864       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:cilium-rbvxs GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app.kubernetes.io/name:cilium-agent app.kubernetes.io/part-of:cilium controller-revision-hash:57488f49b9 k8s-app:cilium kubernetes.io/cluster-service:true pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:46:55 +0000 UTC Window:{Duration:15.071s} Containers:[{Name:cilium-agent Usage:map[cpu:{i:{value:10103908 scale:-9} d:{Dec:<nil>} s:10103908n Format:DecimalSI} memory:{i:{value:167718912 scale:0} d:{Dec:<nil>} s:163788Ki Format:BinarySI}]}]}
I0412 18:47:15.562880       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:10103908 scale:-9} d:{Dec:<nil>} s:10103908n Format:DecimalSI}, 11
I0412 18:47:15.562925       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:coredns-6c4f99c6d-f495v GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:kube-dns pod-template-hash:6c4f99c6d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:11 +0000 UTC Window:{Duration:16.949s} Containers:[{Name:coredns Usage:map[cpu:{i:{value:1824355 scale:-9} d:{Dec:<nil>} s:1824355n Format:DecimalSI} memory:{i:{value:14651392 scale:0} d:{Dec:<nil>} s:14308Ki Format:BinarySI}]}]}
I0412 18:47:15.562968       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1824355 scale:-9} d:{Dec:<nil>} s:1824355n Format:DecimalSI}, 2
I0412 18:47:15.563037       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csi-node-lk5ss GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:csi-node controller-revision-hash:5cf7fdb88c pod-template-generation:1 role:csi] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:07 +0000 UTC Window:{Duration:21.035s} Containers:[{Name:csi-plugin Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:3141632 scale:0} d:{Dec:<nil>} s:3068Ki Format:BinarySI}]} {Name:csi-node-driver-registrar Usage:map[cpu:{i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI} memory:{i:{value:5091328 scale:0} d:{Dec:<nil>} s:4972Ki Format:BinarySI}]}]}
I0412 18:47:15.563088       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:47:15.563122       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:0 scale:0} d:{Dec:<nil>} s:0 Format:DecimalSI}, 0
I0412 18:47:15.563164       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:konnectivity-agent-7tzq5 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[controller-revision-hash:694cf96b7b k8s-app:konnectivity-agent pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:04 +0000 UTC Window:{Duration:17.682s} Containers:[{Name:konnectivity-agent Usage:map[cpu:{i:{value:851317 scale:-9} d:{Dec:<nil>} s:851317n Format:DecimalSI} memory:{i:{value:8564736 scale:0} d:{Dec:<nil>} s:8364Ki Format:BinarySI}]}]}
I0412 18:47:15.563172       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:851317 scale:-9} d:{Dec:<nil>} s:851317n Format:DecimalSI}, 1
I0412 18:47:15.563219       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:kube-proxy-4xrnn GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:kube-proxy controller-revision-hash:66856cd97d pod-template-generation:1] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:04 +0000 UTC Window:{Duration:13.199s} Containers:[{Name:kube-proxy Usage:map[cpu:{i:{value:651640 scale:-9} d:{Dec:<nil>} s:651640n Format:DecimalSI} memory:{i:{value:12713984 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:47:15.563227       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:651640 scale:-9} d:{Dec:<nil>} s:651640n Format:DecimalSI}, 1
I0412 18:47:15.563257       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:metrics-server-78c94c6c65-nct6d GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[k8s-app:metrics-server pod-template-hash:78c94c6c65] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:08 +0000 UTC Window:{Duration:14.219s} Containers:[{Name:metrics-server Usage:map[cpu:{i:{value:3418876 scale:-9} d:{Dec:<nil>} s:3418876n Format:DecimalSI} memory:{i:{value:19386368 scale:0} d:{Dec:<nil>} s:18932Ki Format:BinarySI}]}]}
I0412 18:47:15.563322       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:3418876 scale:-9} d:{Dec:<nil>} s:3418876n Format:DecimalSI}, 4
I0412 18:47:15.563365       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-admission-controller-7467db745-mb25f GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-admission-controller pod-template-hash:7467db745] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:05 +0000 UTC Window:{Duration:17.603s} Containers:[{Name:admission-controller Usage:map[cpu:{i:{value:219508 scale:-9} d:{Dec:<nil>} s:219508n Format:DecimalSI} memory:{i:{value:9678848 scale:0} d:{Dec:<nil>} s:9452Ki Format:BinarySI}]}]}
I0412 18:47:15.563416       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:219508 scale:-9} d:{Dec:<nil>} s:219508n Format:DecimalSI}, 1
I0412 18:47:15.563458       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-597b7c765d-kxgpg GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender pod-template-hash:597b7c765d] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:03 +0000 UTC Window:{Duration:19.942s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:77574 scale:-9} d:{Dec:<nil>} s:77574n Format:DecimalSI} memory:{i:{value:11608064 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:47:15.563469       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:77574 scale:-9} d:{Dec:<nil>} s:77574n Format:DecimalSI}, 1
I0412 18:47:15.563522       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-recommender-yuqiang-dc7859cb4-h9pg8 GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-recommender-yuqiang pod-template-hash:dc7859cb4] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:06 +0000 UTC Window:{Duration:18.907s} Containers:[{Name:recommender Usage:map[cpu:{i:{value:131644 scale:-9} d:{Dec:<nil>} s:131644n Format:DecimalSI} memory:{i:{value:11100160 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:47:15.563534       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:131644 scale:-9} d:{Dec:<nil>} s:131644n Format:DecimalSI}, 1
I0412 18:47:15.563567       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:vpa-updater-884d4d7d9-2sjcm GenerateName: Namespace:kube-system SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:vpa-updater pod-template-hash:884d4d7d9] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:02 +0000 UTC Window:{Duration:17.802s} Containers:[{Name:updater Usage:map[cpu:{i:{value:21514 scale:-9} d:{Dec:<nil>} s:21514n Format:DecimalSI} memory:{i:{value:11886592 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:47:15.563609       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:21514 scale:-9} d:{Dec:<nil>} s:21514n Format:DecimalSI}, 1
I0412 18:47:15.563685       1 metrics_client.go:77] [NICO]    {TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:prometheus-5597d6845b-hp4gg GenerateName: Namespace:monitor SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:2024-04-12 18:47:15 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[app:prometheus pod-template-hash:5597d6845b] Annotations:map[] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Timestamp:2024-04-12 18:47:03 +0000 UTC Window:{Duration:17.725s} Containers:[{Name:prometheus Usage:map[cpu:{i:{value:1055289 scale:-9} d:{Dec:<nil>} s:1055289n Format:DecimalSI} memory:{i:{value:59244544 scale:0} d:{Dec:<nil>} s: Format:BinarySI}]}]}
I0412 18:47:15.563700       1 metrics_client.go:111] [NICO]CPU usage: {i:{value:1055289 scale:-9} d:{Dec:<nil>} s:1055289n Format:DecimalSI}, 2
I0412 18:47:15.563779       1 cluster_feeder.go:441] ClusterSpec fed with #30 ContainerUsageSamples for #15 containers. Dropped #0 samples.
I0412 18:47:15.563839       1 recommender.go:177] ClusterState is tracking 14 PodStates and 1 VPAs
I0412 18:47:15.563940       1 recommender.go:89] [NICO]VPA observed key: {Namespace:default VpaName:workload-vpa}:
I0412 18:47:15.563973       1 vpa.go:32] [NICO]aggregatedContainerName: workload:
I0412 18:47:15.564014       1 vpa.go:33] [NICO]aggregatedContainerCPUHistogram: referenceTimestamp: 2024-04-12 15:40:00 +0000 UTC, halfLife: 5m0s\nminBucket: 0, maxBucket: 32, totalWeight: 282383654597.257\n%-tile\tvalue\n0\t0.010\n5\t0.055\n10\t0.055\n15\t0.753\n20\t0.753\n25\t0.753\n30\t0.753\n35\t0.753\n40\t0.753\n45\t0.753\n50\t0.753\n55\t0.753\n60\t0.753\n65\t0.753\n70\t0.753\n75\t0.753\n80\t0.753\n85\t0.753\n90\t0.801\n95\t0.801\n100\t0.801:
I0412 18:47:15.564027       1 vpa.go:35] [NICO]aggregatedContainerResourcePolicy: &{ContainerName:* Mode:<nil> MinAllowed:map[cpu:{i:{value:10 scale:-3} d:{Dec:<nil>} s:10m Format:DecimalSI} memory:{i:{value:1048576 scale:0} d:{Dec:<nil>} s:1Mi Format:BinarySI}] MaxAllowed:map[cpu:{i:{value:1000 scale:-3} d:{Dec:<nil>} s: Format:DecimalSI} memory:{i:{value:629145600 scale:0} d:{Dec:<nil>} s: Format:BinarySI}] ControlledResources:0xc000990f90 ControlledValues:<nil>}:
I0412 18:47:15.564144       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:920 memory:476450463]
I0412 18:47:15.564160       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:47:15.564207       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:862 memory:442062580]
I0412 18:47:15.564260       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:47:15.564307       1 estimator.go:153] [NICO]RecoriginalResources: map[cpu:1697 memory:879041342]
I0412 18:47:15.564351       1 estimator.go:154] [NICO]RecMinResources: map[cpu:25 memory:1048576]
I0412 18:47:15.582721       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalers/workload-vpa/status Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0007294a0} GetBody:0x6d9b40 ContentLength:416 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc000729530 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f9fc4327-d62e-4940-9764-ca9a110db54e] Cache-Control:[no-cache, private] Content-Length:[2255] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc000472f00} ContentLength:2255 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc0002cd560 TLS:0xc0005220b0}
I0412 18:47:15.595512       1 request.go:1064] NICO---{Method:PATCH URL:https://10.32.0.1:443/apis/autoscaling.k8s.io/v1/namespaces/default/verticalpodautoscalercheckpoints/workload-vpa-workload Proto:HTTP/1.1 ProtoMajor:1 ProtoMinor:1 Header:map[Accept:[application/json, */*] Content-Type:[application/json-patch+json]] Body:{Reader:0xc0004e1350} GetBody:0x6d9b40 ContentLength:503 TransferEncoding:[] Close:false Host:10.32.0.1:443 Form:map[] PostForm:map[] MultipartForm:<nil> Trailer:map[] RemoteAddr: RequestURI: TLS:<nil> Cancel:<nil> Response:<nil> ctx:0xc0004e13e0 pat:<nil> matches:[] otherValues:map[]}, {Status:200 OK StatusCode:200 Proto:HTTP/2.0 ProtoMajor:2 ProtoMinor:0 Header:map[Audit-Id:[f570d671-1f4f-4e72-b211-9791a8b14e76] Cache-Control:[no-cache, private] Content-Length:[1441] Content-Type:[application/json] Date:[Fri, 12 Apr 2024 18:47:15 GMT] X-Kubernetes-Pf-Flowschema-Uid:[60841c8f-98c5-4b1f-945f-5d7a1fd8ea21] X-Kubernetes-Pf-Prioritylevel-Uid:[b94c54b9-8553-42d5-a2fe-f3766bf36be0]] Body:{cs:0xc0005b9980} ContentLength:1441 TransferEncoding:[] Close:false Uncompressed:false Trailer:map[] Request:0xc00062d200 TLS:0xc0005220b0}
I0412 18:47:15.596494       1 checkpoint_writer.go:114] Saved VPA default/workload-vpa checkpoint for workload
I0412 18:47:15.596526       1 recommender.go:188] ClusterState is tracking 17 aggregated container states
